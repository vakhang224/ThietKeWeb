(this["webpackJsonpoa-chat-widget-client"]=this["webpackJsonpoa-chat-widget-client"]||[]).push([[0],{12:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return j})),n.d(t,"f",(function(){return _})),n.d(t,"e",(function(){return w})),n.d(t,"d",(function(){return y}));var a=n(51),r=n.n(a),c=n(144),s=n(145),o=n(60),i=n.n(o),l=n(84);function u(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t}i.a.prototype._final=function(){this._cipher.scrub()};var d="aes-128-cbc",f="aes-128-gcm",g="base64",p="utf8",h="sha256",b="hex";function m(t,n){var a=r.a.createCipheriv(d,e.from(u(atob(n))),e.from(new ArrayBuffer(16))),c=a.update(t,p,g);return c+=a.final(g)}function v(t,n){t=decodeURIComponent(t);var a=r.a.createDecipheriv(d,e.from(u(atob(n))),e.from(new ArrayBuffer(16))),c=a.update(t,g,p);return c+=a.final(p)}function j(t,n){var a=u(atob(t)),c=a.subarray(0,16),s=a.subarray(16,32),o=a.subarray(32),i=u(atob(n)),l=r.a.createDecipheriv(f,e.from(i),e.from(c),{authTagLength:128});l.setAutoPadding(!1),l.setAAD(e.from(s));var d=l.update(e.from(o));return l.final(),d.subarray(0,-16)}function _(e){try{return l.a.ungzip(e,{to:"string"})}catch(t){return e}}function w(e){var t=u(atob(e));try{return l.a.ungzip(t,{to:"string"})}catch(n){return e}}var O=s.a(c.a);function y(e,t){var n=e+"|"+t,a=r.a.createHmac(h,O);return a.update(n),a.digest(b)}}).call(this,n(13).Buffer)},144:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=[49,52,118,72,115,118,55,53,112,65,102,85,67,111,78,85]},145:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(25);function r(e){return String.fromCharCode.apply(String,Object(a.a)(e))}},160:function(e,t,n){},169:function(e,t){},171:function(e,t){},178:function(e,t){},180:function(e,t){},191:function(e,t){},193:function(e,t){},220:function(e,t){},221:function(e,t){},227:function(e,t){},246:function(e,t){},294:function(e,t,n){},295:function(e,t,n){},296:function(e,t,n){},297:function(e,t,n){},298:function(e,t,n){},299:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"getSessionInfo",(function(){return Pn})),n.d(a,"upgradeSessionInfo",(function(){return An})),n.d(a,"loadSessionForNewTab",(function(){return Rn})),n.d(a,"endSession",(function(){return Un})),n.d(a,"followOA",(function(){return Ln}));var r=n(1),c=n.n(r),s=n(59),o=n.n(s),i=(n(160),n(5)),l=n(9),u=n(2),d=n(4),f=n(25),g=n(3),p=function(e,t){return"".concat(e,"?continue=").concat(encodeURIComponent(t))},h=window.ZALO_LOGIN_DOMAIN,b="https://chat.zalo.me/",m=window.ENV,v="/_/login/callback",j=p(h,b),_="/_/upgrade/callback",w=p(h,b),O="/_/pc/callback",y=p(h,b),k=512e3,x=1e8,I=4e6,S="/api/message/asyncfile/upload",N=20,z=1500,C=1e3,M="production"===m?{widgetChatDomain:"https://widget.chat.zalo.me",widgetApiDomain:"https://api.widget.zalo.me/v1",zaloMeDomain:"https://zalo.me/{oaId}",zaloWebDomain:"https://chat.zalo.me/?c={convId}",zaloPcDomain:"zalo://conversation?id=o{convId}",zaloPcUrl:"https://zalo.me/pc",pingInterval:6e4,showTypingDuration:2e3,sendDuration:6e4,conversationDuration:216e5,upgrade:{loginURL:w,callbackURI:_,callbackMessage:"zawidget-upgraded",width:400,height:650,title:"Login Zalo"},login:{loginURL:j,callbackURI:v,callbackMessage:"zawidget-logged",width:400,height:650,title:"Login Zalo",checkClosedInterval:1e3},zalopc:{loginURL:y,callbackURI:O,callbackMessage:"zawidget-zalopc",width:400,height:650,title:"Login Zalo",checkClosedInterval:1e3}}:{widgetChatDomain:"https://dev-widget.chat.zalo.me",widgetApiDomain:"https://dev-api.widget.zalo.me/v1",zaloMeDomain:"https://zalo.me/{oaId}",zaloWebDomain:"https://chat.zalo.me/?c={convId}",zaloPcDomain:"zalo://conversation?id=o{convId}",zaloPcUrl:"https://zalo.me/pc",pingInterval:6e4,showTypingDuration:2e3,sendDuration:6e4,conversationDuration:216e5,upgrade:{loginURL:w,callbackURI:_,callbackMessage:"zawidget-upgraded",width:400,height:650,title:"Login Zalo"},login:{loginURL:j,callbackURI:v,callbackMessage:"zawidget-logged",width:400,height:650,title:"Login Zalo",checkClosedInterval:1e3},zalopc:{loginURL:y,callbackURI:O,callbackMessage:"zawidget-zalopc",width:400,height:650,title:"Login Zalo",checkClosedInterval:1e3}},E="UPDATE_ZUSER_INFO",T="UPDATE_OA_INFO",D="UPDATE_SHOW_BOX",P="INITIALIZED_APP",A=function(e){return e[e.Unknown=0]="Unknown",e[e.Initialized=1]="Initialized",e[e.Pending=2]="Pending",e[e.Loading=3]="Loading",e[e.Done=4]="Done",e[e.Failed=5]="Failed",e}({}),R="UPDATE_SESSION",U="UPDATE_INIT_SESSION_STATE",L="CLOSE_SESSION",q="UPDATE_MESSAGES_2",F="UPDATE_TYPING",B="REPLY_MESSAGE",Z="REMOVE_REPLY_MESSAGE",V="UPDATE_INIT_MESSAGE_STATE",W="UPDATE_NEW_MESSAGE_COUNT",G=function(e){return e[e.Unknown=0]="Unknown",e[e.Sending=1]="Sending",e[e.Sent=2]="Sent",e[e.Delivered=3]="Delivered",e[e.Seen=4]="Seen",e[e.Error=5]="Error",e[e.ErrorTooBigFile=6]="ErrorTooBigFile",e[e.ErrorTooBigPhoto=7]="ErrorTooBigPhoto",e[e.Uploading=8]="Uploading",e}({}),H="UPDATE_STICKER",J="UPDATE_STICKER_VALUE",K="UPDATE_SHOW_STICKER_BOX",Y=function(e){return e[e.Unknown=0]="Unknown",e[e.Downloading=1]="Downloading",e[e.Downloaded=2]="Downloaded",e[e.Pending=3]="Pending",e[e.Error=4]="Error",e}({}),X="ZWSOCKET",Q="UPDATE_ZWCONNECTION_STATE",$="UPDATE_PING_INTERVAL_ID",ee="UPDATE_ZWEBSOCKET_ENCRYPT_KEY",te="ZWEBSOCKET_CONNECTED_ACTION",ne=function(e){return e[e.Unknown=0]="Unknown",e[e.Initialized=1]="Initialized",e[e.Connecting=2]="Connecting",e[e.Connected=3]="Connected",e[e.Closed=4]="Closed",e[e.Failed=5]="Failed",e}({}),ae=function(e){return e[e.Success=0]="Success",e[e.Failed=-1]="Failed",e[e.Exception=-99]="Exception",e}({}),re=function(e){return e[e.Random=1]="Random",e[e.Round_Robin=2]="Round_Robin",e}({}),ce=n(61);function se(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((function(e){return e.error_code===ae.Success}))}function oe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((function(e){return e.error_code===ae.Success&&(!!e.data&&e.data.error_code===ae.Success)}))}var ie=function(e){return{type:H,payload:e}},le=function(e,t,n,a){var r=t.categoriesRender;r.status=n,r.data=a||[],e(ie(Object(g.a)(Object(g.a)({},t),{},{categoriesRender:Object(g.a)({},r)})))},ue=function(e,t){return{type:J,payload:{cateId:e,value:t}}},de=function(){return function(){var e=Object(d.a)(Object(u.a)().mark((function e(t,n,a){var r,c,s,o,i,l,d;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.zstickerService,e.prev=2,c=n().sticker,(s=c.categoriesRender).status===Y.Error||s.status===Y.Pending){e.next=7;break}return e.abrupt("return");case 7:return le(t,c,Y.Downloading),e.next=10,r.getUserStickerCategories();case 10:if(se(o=e.sent)){i=Object(ce.a)(o.data.categories);try{for(i.s();!(l=i.n()).done;)d=l.value,t(fe(d.id))}catch(u){i.e(u)}finally{i.f()}le(t,c,Y.Downloaded,o.data.categories)}else le(t,c,Y.Error);e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,n,a){return e.apply(this,arguments)}}()},fe=function(e){return function(){var t=Object(d.a)(Object(u.a)().mark((function t(n,a,r){var c,s,o,i,l,d;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r.zstickerService,s=a().sticker,!(o=s.stickerMap)[e]||!o[e].status||o[e].status===Y.Error){t.next=5;break}return t.abrupt("return");case 5:return n(ue(e,{status:Y.Downloading,data:{}})),t.prev=6,t.next=9,c.getUserStickersByCategory(e);case 9:se(i=t.sent)?(l=i.data.stickers,d={},l.forEach((function(e){d[e.id]=e.url})),n(ue(e,{status:Y.Downloading,data:d}))):n(ue(e,{status:Y.Error,data:{}})),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(6),n(ue(e,{status:Y.Error,data:{}}));case 17:case"end":return t.stop()}}),t,null,[[6,13]])})));return function(e,n,a){return t.apply(this,arguments)}}()},ge=n(36),pe=n(147),he=n(10),be=n(11),me=function(e){return e[e.Unknown=0]="Unknown",e[e.Zalo=1]="Zalo",e[e.Anonymous=2]="Anonymous",e}({}),ve=function(e){return e[e.Zip=1]="Zip",e[e.GZIP_AES128_GCM=2]="GZIP_AES128_GCM",e}({}),je=function(e){return e[e.Unknown=0]="Unknown",e[e.Authentication=1]="Authentication",e[e.Ping=2]="Ping",e[e.Upgrade=3]="Upgrade",e[e.Create_Connection=4]="Create_Connection",e[e.Receive_Message=501]="Receive_Message",e[e.Typing_Message=502]="Typing_Message",e[e.Delivered_Message=503]="Delivered_Message",e[e.Seen_Message=504]="Seen_Message",e[e.Load_Thread_Chat=511]="Load_Thread_Chat",e[e.Pull_Offline_Message=512]="Pull_Offline_Message",e[e.Load_History_Chat=513]="Load_History_Chat",e[e.Control=521]="Control",e}({}),_e=function(e){return e[e.Unknown=0]="Unknown",e[e.Text=1]="Text",e[e.Photo=2]="Photo",e[e.Video=3]="Video",e[e.File=4]="File",e[e.Sticker=5]="Sticker",e[e.Location=6]="Location",e[e.Chat_Recommeneded=7]="Chat_Recommeneded",e[e.Reaction=8]="Reaction",e[e.Conversation=9]="Conversation",e[e.Audio=10]="Audio",e}({}),we=function(e){return e.Link="recommened.link",e}({}),Oe=function(e){return e[e.Unknown=2]="Unknown",e[e.Text=1]="Text",e[e.File=2]="File",e}({}),ye=function(){function e(){var t=this;Object(he.a)(this,e),this.wsocket=void 0,this.connectUrl=void 0,this.onopenCb=void 0,this.oncloseCb=void 0,this.onmessageCb=void 0,this.onerrorCb=void 0,this.fallback=function(e){var n=function(){var t=Object(d.a)(Object(u.a)().mark((function t(){var a;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:if(502!==(a=t.sent).status){t.next=9;break}return t.next=7,n();case 7:case 14:t.next=18;break;case 9:if(200===a.status){t.next=16;break}return t.next=12,new Promise((function(e){return setTimeout(e,1e3)}));case 12:return t.next=14,n();case 16:return t.next=18,n();case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return new Promise((function(e,a){if(!t.wsocket)return a("Using fallback before utilizing socket");n(),e()}))}}return Object(be.a)(e,[{key:"connect",value:function(e){var t=this,n=new URL(e);return n.search=new URLSearchParams({zpw_ver:"351",zpw_type:"30"}).toString(),this.connectUrl=n.toString(),new Promise((function(e,n){t.connectUrl?(t.wsocket=new WebSocket(t.connectUrl),t.onopenCb&&(t.wsocket.onopen=t.onopenCb),t.oncloseCb&&(t.wsocket.onclose=t.oncloseCb),t.onmessageCb&&(t.wsocket.onmessage=t.onmessageCb),t.onerrorCb&&(t.wsocket.onerror=t.onerrorCb),e()):n("ConnectUrl is empty!")}))}},{key:"onopen",value:function(e){var t=this;return this.onopenCb=e,new Promise((function(n,a){if(!t.wsocket)return a("No socket connection");t.wsocket.onopen=e,n()}))}},{key:"onclose",value:function(e){var t=this;return this.oncloseCb=e,new Promise((function(n,a){if(!t.wsocket)return a("No socket connection");t.wsocket.onclose=e,n()}))}},{key:"onerror",value:function(e){var t=this;return this.onerrorCb=e,new Promise((function(n,a){if(!t.wsocket)return a("No socket connection");t.wsocket.onerror=e,n()}))}},{key:"onmessage",value:function(e){var t=this;return this.onmessageCb=e,new Promise((function(n,a){if(!t.wsocket)return a("No socket connection");t.wsocket.onmessage=e,n()}))}},{key:"send",value:function(e){var t=this;return new Promise((function(n,a){if(!t.wsocket)return a("No socket connection");try{t.wsocket.send(e),n()}catch(r){a(r)}}))}}],[{key:"createPacket",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=4+(a=a?(new TextEncoder).encode(JSON.stringify(a)):[]).length,c=new ArrayBuffer(r),s=new DataView(c);(s.setUint8(0,e),s.setUint16(1,t,!0),s.setUint8(3,n),a.length>0)&&new Uint8Array(c,4).set(a);return s}},{key:"createPingMessage",value:function(){return e.createPacket(1,je.Ping,0)}},{key:"createMsgMessage",value:function(){return e.createPacket(1,501,0)}},{key:"createLoadThreadChat",value:function(t){return e.createPacket(1,je.Load_Thread_Chat,0,t)}},{key:"createPullOfflineMessage",value:function(t){return e.createPacket(1,je.Pull_Offline_Message,0,t)}},{key:"createUpgradeZWebsocketPacket",value:function(t){return e.createPacket(1,je.Upgrade,0,t)}},{key:"createConnection",value:function(t){return e.createPacket(1,je.Create_Connection,0,t)}},{key:"createLoadHistoryChat",value:function(t){return e.createPacket(1,je.Load_History_Chat,0,t)}}]),e}(),ke=n(12),xe=function(e){return e||(e=bt.getState().session.encrWzuId?me.Zalo:me.Anonymous),"undefined"===typeof ZA?Promise.resolve(""):new Promise((function(t){e===me.Anonymous?ZA.getAnonymousVid((function(e){t(e)})):t(ZA.getVisitorID())}))},Ie=n(20),Se=n(29),Ne=n(146),ze=n.n(Ne).a.create({withCredentials:!0}),Ce=n(18);function Me(e){return new Promise((t=>setTimeout(t,e)))}function Ee(e){if(1===e.length)return e[0];var t,n;return e[(t=0,n=e.length-1,Math.floor(Math.random()*n)+t)]}const Te=new Map;var De,Pe=(De={},Object(Ce.a)(De,re.Random,Ee),Object(Ce.a)(De,re.Round_Robin,(function(e,t){if(0===e.length)return e[0];if(!t){if(0===e.length)throw"roundRobinDomainStrategy: Invalid params";t=e[0]}const n=Te.get(t);if(void 0===n)return Te.set(t,0),e[0];const a=n+1>=e.length?0:n+1;return Te.set(t,a),e[n]})),De),Ae=Object(be.a)((function e(){var t=this;Object(he.a)(this,e),this.get=function(){var e=Object(d.a)(Object(u.a)().mark((function e(n,a,r){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.request(n,a,"GET",r));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),this.post=function(){var e=Object(d.a)(Object(u.a)().mark((function e(n,a,r){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.request(n,a,"POST",r));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),this.getRequestDomainByStrategy=function(e,t){if(1===e.length)return e[0];var n=t.lbType||re.Random;return Pe[n](e,t.lbKey)},this.request=function(){var e=Object(d.a)(Object(u.a)().mark((function e(n,a,r,c){var s;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.getRequestDomainByStrategy(n,c),e.abrupt("return",new Promise((function(e,t){ze.request({baseURL:s,url:a,method:r,headers:Object(g.a)(Object(g.a)({},c.headers),{},{Zreferrer:window.zsp_referrer}),params:c.query,data:c.body}).then((function(t){e(t.data)})).catch((function(e){t({error_code:ae.Exception,error_message:JSON.stringify(e)})}))})));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}()})),Re=function(e){Object(Ie.a)(n,e);var t=Object(Se.a)(n);function n(){var e;Object(he.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).secureGet=function(){var t=Object(d.a)(Object(u.a)().mark((function t(n,a,r){return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.secureRequest(n,a,"GET",r));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.secureGet2=function(){var t=Object(d.a)(Object(u.a)().mark((function t(n,a,r){return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.secureRequest2(n,a,"GET",r));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.securePost=function(){var t=Object(d.a)(Object(u.a)().mark((function t(n,a,r){return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.secureRequest(n,a,"POST",r));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.securePost2=function(){var t=Object(d.a)(Object(u.a)().mark((function t(n,a,r){return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.secureRequest2(n,a,"POST",r));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.secureRequest2=function(){var t=Object(d.a)(Object(u.a)().mark((function t(n,a,r,c){var s;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.getRequestDomainByStrategy(n,c),t.abrupt("return",new Promise((function(t,n){try{ze.request({baseURL:s,url:a,method:r,params:c.query,data:c.body,headers:Object(g.a)(Object(g.a)({},c.headers),{},{Zreferrer:window.zsp_referrer}),transformRequest:e.getTransformRequestFormData(r,null===c||void 0===c?void 0:c.enk),transformResponse:e.getTransformResponse(null===c||void 0===c?void 0:c.enk)}).then((function(e){t(e.data)})).catch((function(e){n({error_code:ae.Exception,error_message:JSON.stringify(e)})}))}catch(o){}})));case 2:case"end":return t.stop()}}),t)})));return function(e,n,a,r){return t.apply(this,arguments)}}(),e.secureRequest=function(){var t=Object(d.a)(Object(u.a)().mark((function t(n,a,r,c){var s;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.getRequestDomainByStrategy(n,c),t.abrupt("return",new Promise((function(t,n){try{ze.request({baseURL:s,url:a,method:r,params:c.query,data:c.body,headers:Object(g.a)(Object(g.a)({},c.headers),{},{Zreferrer:window.zsp_referrer}),transformRequest:e.getTransformRequestFormData(r,null===c||void 0===c?void 0:c.enk),transformResponse:e.getTransformResponse(null===c||void 0===c?void 0:c.enk)}).then((function(e){t(e.data)})).catch((function(e){n({error_code:ae.Exception,error_message:JSON.stringify(e)})}))}catch(o){}})));case 2:case"end":return t.stop()}}),t)})));return function(e,n,a,r){return t.apply(this,arguments)}}(),e.getTransformResponse=function(e){if(e){return function(t){try{if(t){var n=JSON.parse(t);if(n.data){var a=Object(ke.a)(n.data,e);return Object(g.a)(Object(g.a)({},n),{},{data:JSON.parse(a)})}return n}}catch(r){}return t}}},e.getTransformRequestFormData=function(e,t){if("GET"!==e&&t){return function(e){var n=Object(ke.c)(JSON.stringify(e),t),a=new URLSearchParams;return a.append("params",n),a}}},e}return Object(be.a)(n)}(Ae),Ue=Re;const Le=new class extends Ue{constructor(){super(...arguments),this.getSessionInfo=async(e,t,n)=>{const a=e===me.Zalo?"/login":"/login-as-guest";return this.get([M.widgetChatDomain],a,{query:{oaId:n},headers:{Authorization:Object(ke.d)(a,"")}})},this.loginTab=async(e,t)=>{const n="/login-tab";return this.get([M.widgetChatDomain],n,{query:{oaId:t},headers:{Authorization:Object(ke.d)(n,"")}})},this.upgradeSessionInfo=async(e,t)=>{let n=await xe();return this.get([M.widgetChatDomain],"/upgrade",{query:{oaid:e,newGlobalId:t,globalId:n},headers:{}})},this.closeSession=async(e,t)=>this.get([M.widgetChatDomain],"/conv/close",{query:{oaid:e,globalId:t},headers:{}}),this.mapSession=async()=>this.secureGet([M.widgetChatDomain],"/login",{headers:{Authorization:Object(ke.d)("/login","")}}),this.sendControl=async(e,t,n)=>{let a=await xe();return this.securePost2(e,"/api/send-control",{query:{zpw_type:30,zpw_ver:74,nretry:0},body:{...t,globalId:a},enk:n})},this.sendTyping=async(e,t,n)=>{let a=await xe();return this.securePost2(e,"/api/message/typing",{query:{zpw_type:30,zpw_ver:74,nretry:0},body:{...t,globalId:a},enk:n})},this.sendStickerMessage=async(e,t,n)=>{const{toId:a,clientId:r,sticker:c,wzuId:s}=t,{id:o,catId:i,type:l}=c;let u=await xe();return this.securePost2(e,"/api/message/sticker",{query:{zpw_type:30,zpw_ver:74,nretry:0},body:{clientId:r,toId:a,stickerId:o,cateId:i,type:l,wzuId:s,globalId:u},enk:n})},this.sendTextMessage=async(e,t,n)=>{let a=await xe();return this.securePost2(e,"/api/message/sms",{query:{zpw_type:30,zpw_ver:74,nretry:0},body:{...t,zwp:0,type:0,globalId:a},enk:n,headers:{Authorization:Object(ke.d)("/api/message/sms",JSON.stringify({...t,zwp:0,type:0}))}})},this.sendQuoteMessage=async(e,t,n)=>{let a=await xe();return this.securePost2(e,"/api/message/quote",{query:{zpw_type:30,zpw_ver:74,nretry:0},body:{...t,globalId:a},enk:n,headers:{}})},this.sendPhotoMessage=async(e,t,n)=>{const{toId:a,clientId:r,photo:c,desc:s,width:o,height:i,wzuId:l}=t;let u=await xe();return this.securePost(e,"/api/message/photo_original/send",{query:{zpw_type:30,zpw_ver:74,nretry:0},body:{toId:a,clientId:r,photoId:c.photoId,rawUrl:c.hdUrl,thumbUrl:c.thumbUrl,normalUrl:c.normalUrl,hdUrl:c.hdUrl,width:o,height:i,desc:s,wzuId:l,globalId:u},enk:n})},this.sendPhotoMessageB=async(e,t,n)=>{const{toId:a,clientId:r,photo:c,desc:s,width:o,height:i,wzuId:l}=e,{mediaId:u,mapQualityInfo:d,mediaUrl:f}=c.result;let g=await xe();return this.securePost2([t],"/api/message/photo_original/send",{query:{zpw_type:30,zpw_ver:74,nretry:0},body:{toId:a,clientId:r,photoId:u,rawUrl:f,thumbUrl:null===d||void 0===d?void 0:d.Tiny,normalUrl:f,hdUrl:f,width:o,height:i,desc:s,wzuId:l,globalId:g},enk:n})},this.sendVideoMessage=async(e,t,n)=>{let a=await xe();return this.securePost2([t],"/api/message/video",{query:{zpw_type:30,zpw_ver:74,nretry:0},body:{...e,globalId:a},enk:n})},this.sendFileMessage=async(e,t,n)=>{let a=await xe();return this.securePost2([t],"/api/message/asyncfile/msg",{query:{zpw_type:30,zpw_ver:74,nretry:0},body:{...e,globalId:a},enk:n})},this.sendLinkMessage=async(e,t,n)=>{let a=await xe();return this.securePost2(t,"/api/message/link",{query:{zpw_type:30,zpw_ver:74,nretry:0},body:{...e,globalId:a},enk:n})},this.sendReactionMessage=async(e,t,n)=>{let a=await xe();return this.securePost2(t,"/api/message/reaction",{query:{zpw_type:30,zpw_ver:74,nretry:0},body:{...e,globalId:a},enk:n})},this.sendLogChatPc=async(e,t)=>{let n=await xe();return this.get([M.widgetChatDomain],"/api/log/chatpc",{query:{zpc_type:e,globalId:n,oaId:t},headers:{}})},this.sendLog=async(e,t)=>{let n=await xe();return this.get([M.widgetChatDomain],"/api/log",{query:{action:e,globalId:n,oaId:t},headers:{}})}}};var qe=Le,Fe=function(e){Object(Ie.a)(n,e);var t=Object(Se.a)(n);function n(){var e;Object(he.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).getUserStickerCategories=Object(d.a)(Object(u.a)().mark((function t(){return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.secureGet([M.widgetApiDomain],"/stk-cate",{headers:{Authorization:Object(ke.d)("/stk-cate","")}}));case 1:case"end":return t.stop()}}),t)}))),e.getUserStickersByCategory=function(){var t=Object(d.a)(Object(u.a)().mark((function t(n){return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.secureGet([M.widgetApiDomain],"/stk-cate/stickers",{query:{cate_id:n},headers:{Authorization:Object(ke.d)("/stk-cate/stickers","")}}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getStickerUrl=function(){var t=Object(d.a)(Object(u.a)().mark((function t(n,a){return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.secureGet([M.widgetApiDomain],"/stk-url",{query:{cate_id:n,sticker_id:a},headers:{Authorization:Object(ke.d)("/stk-url","")}}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e}return Object(be.a)(n)}(Ue),Be=new Fe,Ze=function(e){Object(Ie.a)(n,e);var t=Object(Se.a)(n);function n(){var e;Object(he.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).getVideoInfo=function(){var t=Object(d.a)(Object(u.a)().mark((function t(n,a){return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.post(n,"/v1/info/video",{query:{videoId:a}}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.postChunkB=function(){var t=Object(d.a)(Object(u.a)().mark((function t(n,a,r,c,s){var o,i,l;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return",Promise.reject({error_code:ae.Exception,error_message:"chunk cannot be undefined"}));case 2:return(o=new FormData).append("chunkData",new Blob([r])),i={enk:s,query:c,body:o},t.prev=5,t.next=8,e.securePostB(n,a,i);case 8:return l=t.sent,t.abrupt("return",l);case 12:return t.prev=12,t.t0=t.catch(5),t.abrupt("return",Promise.reject({error_code:ae.Exception,error_message:JSON.stringify(t.t0)}));case 15:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e,n,a,r,c){return t.apply(this,arguments)}}(),e.securePostB=function(){var t=Object(d.a)(Object(u.a)().mark((function t(n,a,r){var c;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.getRequestDomainByStrategy(n,r),t.abrupt("return",new Promise((function(e,t){ze.request({baseURL:c,url:a,method:"POST",params:r.query,data:r.body,headers:r.headers}).then((function(t){e(t.data)})).catch((function(e){t({error_code:ae.Exception,error_message:JSON.stringify(e)})}))})));case 2:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.getParamsSerializer=function(e){if(e){return function(t){var n=Object(ke.c)(JSON.stringify(t),e),a=new URLSearchParams;return a.append("zpw_type","30"),a.append("zpw_ver","74"),a.append("params",n),a}}},e.getTransformResponse=function(e){if(e){return function(t){if(t){var n=JSON.parse(t);if(n.data){var a=Object(ke.a)(n.data,e);return Object(g.a)(Object(g.a)({},n),{},{data:JSON.parse(a)})}return n}return t}}},e}return Object(be.a)(n)}(Ue),Ve=new Ze,We=function(e){Object(Ie.a)(n,e);var t=Object(Se.a)(n);function n(){var e;Object(he.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).getZUserInfo=Object(d.a)(Object(u.a)().mark((function t(){return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.get([M.widgetApiDomain],"/zuser",{}));case 1:case"end":return t.stop()}}),t)}))),e.getWidgetOAInfo=function(){var t=Object(d.a)(Object(u.a)().mark((function t(n){var a;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={oaid:n},t.abrupt("return",e.get([M.widgetApiDomain],"/oa",{query:a,headers:{Authorization:Object(ke.d)("/oa",JSON.stringify(a))}}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.followOA=function(){var t=Object(d.a)(Object(u.a)().mark((function t(n){var a,r;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="/oa/follow",r={oaid:n},t.abrupt("return",e.get([M.widgetApiDomain],a,{query:r,headers:{Authorization:Object(ke.d)(a,JSON.stringify(r))}}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.parseLink=function(){var t=Object(d.a)(Object(u.a)().mark((function t(n){return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.get([M.widgetApiDomain],"/link-parser",{query:{link:n}}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(be.a)(n)}(Ue),Ge=new We,He=new RegExp("(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)");function Je(e){return He.test(e)}function Ke(e){try{return new URL(e).hostname||e}catch(t){return""}}function Ye(e){if(e.length<=C)return[e];var t=function(e,t,n){var a=Math.min(n+C,e.length),r=e.substring(n,a),c=t.map((function(e){return r.lastIndexOf(e)})),s=Math.max.apply(Math,Object(f.a)(c));return s>0?s+n:-1},n=function(n){if(n+C>e.length)return e.length;var a=function(e,n){return t(e,[".","!","?"],n)}(e,n);return a>0?a+1:(a=function(e,n){return t(e,[" "],n)}(e,n),a>0?a+1:Math.min(n+C,e.length))},a=[],r=0;do{var c=n(r),s=e.substring(r,c).trim();s&&a.push(s),r=c}while(r<e.length);return a}var Xe,Qe={status:A.Loading,oaIdPublic:"",oaWelcomeMessage:"Ch\xe0o b\u1ea1n, ch\xfang t\xf4i c\xf3 th\u1ec3 gi\xfap g\xec \u0111\u01b0\u1ee3c cho b\u1ea1n?",oaAutoPopup:0,oaWidth:400,oaHeight:650,shouldShowBox:!1,tabId:Math.random().toString(36).substr(2,5).toUpperCase()},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(g.a)(Object(g.a)(Object(g.a)({},e),t.payload.appInfo),{},{status:t.payload.status,oaInfo:t.payload.oaInfo,zuserInfo:t.payload.zuserInfo});case E:return Object(g.a)(Object(g.a)({},e),{},{zuserInfo:t.payload});case T:return Object(g.a)(Object(g.a)({},e),{},{oaInfo:t.payload});case D:return Object(g.a)(Object(g.a)({},e),{},{shouldShowBox:t.payload});default:return e}},et="LOAD_HISTORY",tt="CLOSE_HISTORY",nt={shouldShow:!1,conversationId:0,content:{messages:[],total:0}},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case et:var n=t.payload,a=n.messages,r=n.total;return Object(g.a)(Object(g.a)({},e),{},{shouldShow:!0,content:{messages:a,total:r}});case tt:return nt;default:return e}},rt={typing:{onGoing:!1,cancelId:null},messages:[],messagesInfo:{},replyingMsg:void 0,initState:A.Initialized,newMsgCount:0},ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(g.a)(Object(g.a)({},e),{},{initState:t.payload});case B:return Object(g.a)(Object(g.a)({},e),{},{replyingMsg:t.payload.message});case Z:return Object(g.a)(Object(g.a)({},e),{},{replyingMsg:void 0});case F:return Object(g.a)(Object(g.a)({},e),{},{typing:t.payload});case q:return Object(g.a)(Object(g.a)({},e),t.payload);case W:return Object(g.a)(Object(g.a)({},e),{},{newMsgCount:t.payload});default:return e}},st={status:A.Initialized,conversationType:me.Unknown,service_map:{web_socket:[],message:[],upload:[]},zoaw_enk:"",globalId:"",encrWzuId:"",zconv_id:""},ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(g.a)(Object(g.a)({},e),{},{status:t.payload});case R:return Object(g.a)(Object(g.a)({},e),t.payload);case L:return Object(g.a)(Object(g.a)({},e),{},{status:A.Initialized,conversationType:me.Unknown});default:return e}},it={stickerMap:{},categoriesRender:{status:Y.Pending,data:[]},isShowStickerBox:!1},lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:var n=e.stickerMap,a=t.payload,r=a.cateId,c=a.value;return n[r]?(n[r].status=c.status,n[r].data=Object(g.a)(Object(g.a)({},n[r].data),c.data),n[r].extData=Object(g.a)(Object(g.a)({},n[r].extData),c.extData)):n[r]=c,Object(g.a)(Object(g.a)({},e),{},{stickerMap:Object(g.a)({},n)});case K:return Object(g.a)(Object(g.a)({},e),{},{isShowStickerBox:t.payload});case H:return t.payload;default:return e}},ut={zws_key:"",connectionState:ne.Initialized},dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return Object(g.a)(Object(g.a)({},e),{},{connectionState:t.payload.connectionState,pingIntervalId:t.payload.pingIntervalId});case ee:return Object(g.a)(Object(g.a)({},e),{},{zws_key:t.payload});case $:return Object(g.a)(Object(g.a)({},e),{},{pingIntervalId:t.payload});case Q:return Object(g.a)(Object(g.a)({},e),{},{connectionState:t.payload});default:return e}},ft=Object(ge.c)({app:$e,session:ot,messaging:ct,sticker:lt,history:at,zwebsocket:dt}),gt={zchatService:qe,zwidgetService:Ge,zuploadService:Ve,zstickerService:Be},pt=new ye,ht=[pe.a.withExtraArgument(gt),(Xe=pt,function(e){return function(t){return function(n){var a=n.promise;return n.type===X||a?a(Xe,e):t(n)}}})];var bt=Object(ge.d)(ft,ge.a.apply(void 0,Object(f.a)(ht))),mt=n(26),vt=function(e){var t;if(!e)return"";var n,a=bt.getState().app;return _t(e)?"0"===e.srcId?mt.a.t("messageowner.guest"):null===(n=a.zuserInfo)||void 0===n?void 0:n.name:null===(t=a.oaInfo)||void 0===t?void 0:t.name},jt=function(e){var t,n,a;return(null===(t=e.quote)||void 0===t?void 0:t.fromD)||vt(null===(n=e.quote)||void 0===n?void 0:n.quotedMessage)||function(e){if(!e)return"";var t=bt.getState().messaging,n=t.messagesInfo[e].index,a=t.messages[n];return vt(a)}(null===(a=e.quote)||void 0===a?void 0:a.cliMsgId)},_t=function(e){return"0"===e.srcId||!wt(e.srcId)},wt=function(e){return e===bt.getState().session.conversationId},Ot=function(e){return e.state===G.Error?"cant-send":""},yt=function(e){return e.state===G.Error||e.state===G.ErrorTooBigFile||e.state===G.ErrorTooBigPhoto},kt=function(e){return function(e,t){var n=bt.getState().sticker.stickerMap,a=n[e].data,r=n[e].extData;return a&&a[t]||r&&r[t]||""}(e.catId,e.id)||""},xt=function(e){return{type:F,payload:e}},It=function(e){return e.Video720P="Video720P",e.Video480P="Video480P",e.Video360P="Video360P",e}({}),St=function(e){return new Promise((function(t,n){var a=window.URL||window.webkitURL,r=new Image,c=a.createObjectURL(e),s=e.name;r.onload=function(){t({localUrl:c,title:s,width:r.width,height:r.height})},r.onerror=function(){n("Cannot get image dimensions")},r.src=c}))},Nt=function(e){return new Promise((function(t,n){var a=(window.URL||window.webkitURL).createObjectURL(e),r=document.createElement("video");r.addEventListener("loadedmetadata",(function(){var n=this.videoHeight,r=this.videoWidth;t({title:e.name,localUrl:a,ext:e.name.split(".").pop(),height:n,width:r,duration:this.duration})}),!1),r.onerror=function(){n("Cannot get video dimensions")},r.src=a}))},zt=function(e,t,n,a,r){return new Promise((function(c,s){var o=new FileReader;o.readAsArrayBuffer(e),o.onload=Object(d.a)(Object(u.a)().mark((function i(){var l,d,f;return Object(u.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,l=o.result,i.next=4,Et(t,n,a,r,"/v1/upload/image",l,e.name);case 4:d=i.sent,(f=null===d||void 0===d?void 0:d.data)?c(f):s("No photo info response from server"),i.next=13;break;case 9:i.prev=9,i.t0=i.catch(0),s(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,9]])}))),o.onerror=function(){s(o.error)}}))},Ct=function(e,t,n,a,r,c){return new Promise((function(s,o){var i=new FileReader;i.readAsArrayBuffer(e),i.onload=Object(d.a)(Object(u.a)().mark((function l(){var d,f,g;return Object(u.a)().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return d=i.result,l.next=3,Et(t,n,r,c,a,d,e.name);case 3:f=l.sent,(g=null===f||void 0===f?void 0:f.data)?s(g):o("No file info response from server");case 6:case"end":return l.stop()}}),l)}))),i.onerror=function(){o(i.error)}}))},Mt=function(e,t,n,a,r){return new Promise((function(c,s){var o=new FileReader;o.readAsArrayBuffer(e);var i=function(){var e=Object(d.a)(Object(u.a)().mark((function e(a){var r,c,s;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(!(r<N)){e.next=14;break}return e.next=4,Me(z);case 4:return e.next=6,t.getVideoInfo(n,a);case 6:if(!se(c=e.sent)){e.next=11;break}if(!(s=Tt(c.data))){e.next=11;break}return e.abrupt("return",s);case 11:r++,e.next=1;break;case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();o.onload=Object(d.a)(Object(u.a)().mark((function e(){var l,d,f,g;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l=o.result,e.next=4,Et(t,n,a,r,"/v1/upload/video",l);case 4:return d=e.sent,(f=(null===d||void 0===d?void 0:d.data.result.mediaId)||"")||s("Upload video failed"),e.next=9,i(f);case 9:(g=e.sent)?c(g):s("No video info response from server"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),s(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])}))),o.onerror=function(){s(o.error)}}))},Et=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t,n,a,r,c,s,o){var i,l,f,g,p,h,b,m,v,j,_;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=Math.floor(1e5*Math.random()).toString(),l=s.byteLength,f=k,g=Math.ceil(l/f),p=[],h=0;h<g;++h)b=h*f,m=null===s||void 0===s?void 0:s.slice(b,b+f),p.push(m);for(v=function(){var e=Object(d.a)(Object(u.a)().mark((function e(s){var d,f,h;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=s+1,f=p[s],e.next=4,t.postChunkB(n,c,f,{toId:a,clientFileId:i,clientId:i,fileSize:l,totalSize:l,totalChunk:g,chunkSeq:d,chunkId:d,fileName:o,apiKey:"SbgbohHqDBrux4iFmwFOpbkHFyC0kH8J"},r);case 4:if((h=e.sent)&&se(h)){e.next=7;break}return e.abrupt("return",Promise.reject(new Error("Upload chunk failed!")));case 7:return e.abrupt("return",h);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=[],_=0;_<g-1;++_)j.push(v(_));return e.prev=9,e.next=12,Promise.all(j);case 12:return e.next=14,v(g-1);case 14:return e.abrupt("return",e.sent);case 17:return e.prev=17,e.t0=e.catch(9),e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,null,[[9,17]])})));return function(t,n,a,r,c,s,o){return e.apply(this,arguments)}}(),Tt=function(e){var t=e.result;for(var n in It){var a=t.mapVideoQuality[n];if(a&&"NOT READY"!==a.url&&null!=a.thumbnail)return a}return null},Dt=n(148),Pt=function(e){return function(){var t=Object(d.a)(Object(u.a)().mark((function t(n,a,r){var c,s,o,i,l,d,f,g,p,h,b;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r.zuploadService,s=r.zchatService,o=a().session.conversationId){t.next=5;break}return t.abrupt("return");case 5:if(i=Date.now(),l=a().session,d=l.zoaw_enk,f=l.service_map,g=l.encrWzuId,t.prev=7,Xt({cliMsgId:i.toString(),msgType:_e.File,srcId:"0",destId:o,content:{title:e.name,description:"",href:"",thumb:"",childnumber:1,action:"",type:"",params:"",parsedParams:{fileSize:e.size,checksum:"",fileExt:"",fdata:null,fType:1}}},n,a),!(e.size>x)){t.next=13;break}return Yt(a(),i,n,G.ErrorTooBigFile),t.abrupt("return");case 13:return Yt(a(),i,n,G.Uploading),t.next=16,Ct(e,c,f.message,S,o,"");case 16:return p=t.sent,t.t0=Dt.sha256,t.next=20,e.arrayBuffer();case 20:return t.t1=t.sent,h=(0,t.t0)(t.t1),b=M.widgetChatDomain,t.next=25,s.sendFileMessage({toId:o,clientId:i,fileName:e.name,extension:e.type,fileUrl:p.url,totalSize:e.size,checksum:h,wzuId:g},b,d);case 25:se(t.sent.data)?Yt(a(),i,n,G.Sent):Yt(a(),i,n,G.Error),t.next=33;break;case 29:t.prev=29,t.t2=t.catch(7),Yt(a(),i,n,G.Error);case 33:case"end":return t.stop()}}),t,null,[[7,29]])})));return function(e,n,a){return t.apply(this,arguments)}}()},At=function(e,t){return function(){var n=Object(d.a)(Object(u.a)().mark((function n(a,r,c){var s,o,i,l,d,f,g,p,h,b,m,v,j,_,w;return Object(u.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=c.zuploadService,o=c.zchatService,i=r().session.conversationId){n.next=5;break}return n.abrupt("return");case 5:return l=Date.now(),d=r().session,f=d.zoaw_enk,g=d.service_map,p=d.encrWzuId,n.prev=7,n.next=10,St(e);case 10:if(h=n.sent,b=h.localUrl,m=h.width,v=h.height,j=h.title,Xt({cliMsgId:l.toString(),msgType:_e.Photo,srcId:"0",destId:i,content:{title:j,description:t,href:b,parsedParams:{width:m,height:v}}},a,r),!(e.size>I)){n.next=20;break}return Yt(r(),l,a,G.ErrorTooBigPhoto),n.abrupt("return");case 20:return Yt(r(),l,a,G.Uploading),n.next=23,zt(e,s,g.upload,i,f);case 23:return _=n.sent,w=M.widgetChatDomain,n.next=27,o.sendPhotoMessageB({toId:i,title:j,clientId:l,photo:_,desc:t,width:m,height:v,wzuId:p},w,f);case 27:se(n.sent.data)?Yt(r(),l,a,G.Sent):Yt(r(),l,a,G.Error),n.next=35;break;case 31:n.prev=31,n.t0=n.catch(7),Yt(r(),l,a,G.Error);case 35:case"end":return n.stop()}}),n,null,[[7,31]])})));return function(e,t,a){return n.apply(this,arguments)}}()},Rt=function(e,t){return function(){var n=Object(d.a)(Object(u.a)().mark((function n(a,r,c){var s,o,i,l,d,f,g,p,h,b,m,v,j,_,w,O;return Object(u.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=c.zuploadService,o=c.zchatService,i=r().session.conversationId){n.next=5;break}return n.abrupt("return");case 5:return l=Date.now(),d=r().session,f=d.zoaw_enk,g=d.service_map,p=d.encrWzuId,n.prev=7,n.next=10,Nt(e);case 10:if(h=n.sent,b=h.title,m=h.width,v=h.height,j=h.localUrl,_=h.duration,Xt({cliMsgId:l.toString(),msgType:_e.Video,srcId:"0",destId:i,content:{title:b,description:t,href:j,thumb:"",parsedParams:{video_width:m,video_height:v}}},a,r),!(e.size>x)){n.next=21;break}return Yt(r(),l,a,G.ErrorTooBigFile),n.abrupt("return");case 21:return Yt(r(),l,a,G.Uploading),n.next=24,Mt(e,s,g.upload,i,f);case 24:return w=n.sent,O=M.widgetChatDomain,n.next=28,o.sendVideoMessage({toId:i,clientId:l,videoUrl:w.url,width:m,height:v,duration:_,thumbUrl:w.thumbnail,wzuId:p},O,f);case 28:se(n.sent.data)?Yt(r(),l,a,G.Sent):Yt(r(),l,a,G.Error),n.next=36;break;case 32:n.prev=32,n.t0=n.catch(7),Yt(r(),l,a,G.Error);case 36:case"end":return n.stop()}}),n,null,[[7,32]])})));return function(e,t,a){return n.apply(this,arguments)}}()},Ut=function(e){return function(){var t=Object(d.a)(Object(u.a)().mark((function t(n,a,r){var c,s,o,i,l,d,f;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r.zchatService,s=a().session,o=s.zoaw_enk,i=s.service_map,l=s.encrWzuId,d=a().session.conversationId){t.next=6;break}return t.abrupt("return");case 6:return f=Date.now(),Xt({cliMsgId:f.toString(),msgType:_e.Sticker,srcId:"0",destId:d,content:e},n,a),t.prev=8,t.next=11,c.sendStickerMessage(i.message,{toId:d,clientId:f,sticker:e,wzuId:l},o);case 11:se(t.sent)||Yt(a(),f,n,G.Error),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(8),Yt(a(),f,n,G.Error);case 19:case"end":return t.stop()}}),t,null,[[8,15]])})));return function(e,n,a){return t.apply(this,arguments)}}()},Lt=function(){return{type:Z}};const qt=(e,t)=>async(n,a,r)=>{const{messaging:c}=a(),s=Date.now();t=t||c.replyingMsg;try{let c,o=!1;t&&(c=await Ft(e,t,s,n,a,r),o=!0);const i=e.split(" ").find((function(e){return Je(e)}));if(!o&&i&&(c=await Bt(e,i,s,n,a,r),o=!0),!o){const t=Ye(e);for(let e=0;e<t.length;e++)c=await Zt(t[e],s+e,n,a,r)}oe(c)||Yt(a(),s,n,G.Error)}catch(o){Yt(a(),s,n,G.Error)}},Ft=(e,t,n,a,r,c)=>{let{zchatService:s}=c;const{session:o,messaging:i}=r(),{service_map:l,zoaw_enk:u,encrWzuId:d}=o,f=o.conversationId,g=t||i.replyingMsg;if(!g)throw new Error("replying msg is nill");if(null===g||void 0===g||!g.msgId)throw new Error("msgId is nill");if(!f)throw new Error("replying msg is nill");let p,h,b="";switch(g.msgType){case _e.Text:b=g.content;break;case _e.Photo:{const e=g.content;b="H\xecnh \u1ea3nh",p=JSON.stringify({...e,parsedParams:void 0,thumbUrl:e.thumb,oriUrl:e.href,normalUrl:e.href,thumb:e.thumb});break}case _e.Video:{const e=g.content;b="Video",p=JSON.stringify({...e,parsedParams:void 0,thumbUrl:e.thumb,oriUrl:e.href,normalUrl:e.href,thumb:e.thumb});break}case _e.Sticker:{const e=g.content;p=JSON.stringify(e);break}case _e.File:{const e=g.content;p=JSON.stringify(e);break}case _e.Chat_Recommeneded:{const e=g.content;p=JSON.stringify(e);break}}return g.zaMsgInfo&&(h={ownerId:"0"!==g.srcId?g.zaMsgInfo.srcId:g.zaMsgInfo.destId,globalMsgId:g.zaMsgInfo.msgId,cliMsgType:g.zaMsgInfo.msgType}),Xt({cliMsgId:n.toString(),msgType:_e.Text,srcId:"0",destId:f,content:e,quote:{ownerId:g.srcId,cliMsgId:g.cliMsgId,globalMsgId:"0",cliMsgType:g.msgType,message:b,parsedAttach:g.msgType!==_e.Text?g.content:void 0,zaQuoteInfo:h,quotedMessage:g}},a,r),a(Lt()),s.sendQuoteMessage(l.message,{toId:f,clientId:n,message:e,qmsgOwner:g.srcId,qmsgId:g.msgId,qmsgCliId:g.cliMsgId,qmsg:b,qmsgType:g.msgType,qmsgAttach:p,qmsgTs:g.ts,qzaQuoteInfo:h,wzuId:d},u)},Bt=async(e,t,n,a,r,c)=>{const{session:s}=r(),{service_map:o,conversationId:i,encrWzuId:l}=s,{zchatService:u,zwidgetService:d}=c;if(!i)throw new Error("conversationId is nill");return Xt({cliMsgId:n.toString(),msgType:_e.Text,srcId:"0",destId:i,content:e},a,r),await u.sendTextMessage(o.message,{toId:i,clientId:n,message:e,wzuId:l},s.zoaw_enk)},Zt=async(e,t,n,a,r)=>{let{zchatService:c}=r;const{session:s}=a(),{service_map:o,conversationId:i,zoaw_enk:l,encrWzuId:u}=s;if(o.message.length<=0)throw new Error("service_map.message is empty!");if(!i)throw new Error("conversation is nil");return Xt({cliMsgId:t.toString(),msgType:_e.Text,srcId:"0",destId:i,content:e},n,a),await c.sendTextMessage(o.message,{toId:i,clientId:t,message:e,wzuId:u},l)};var Vt=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t,n,a,r,c){var s,o,i,l,d,f,g;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=c.zchatService,o=r(),i=o.session,l=i.service_map,d=i.conversationId,f=i.zoaw_enk,g=i.encrWzuId,!(l.message.length<=0)){e.next=5;break}throw new Error("service_map.message is empty!");case 5:if(d){e.next=7;break}throw new Error("conversation is nil");case 7:return Xt({cliMsgId:n.toString(),msgType:_e.Text,srcId:"0",destId:d,content:t},a,r),e.next=10,s.sendTextMessage(l.message,{toId:d,clientId:n,message:t,wzuId:g},f);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}();const Wt=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return async(n,a,r)=>{var c,s;const o=a().messaging,l=null===(c=a().app.oaInfo)||void 0===c?void 0:c.name,u=null===(s=a().app.oaInfo)||void 0===s?void 0:s.id;let{messages:d,messagesInfo:f,myLastMsgId:g,newMsgCount:p}=o;0===d.length&&(d.unshift({cliMsgId:"".concat(Date.now()),content:"Xin ch\xe0o! ".concat(l," r\u1ea5t vui \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 b\u1ea1n."),destId:"0",msgId:"-9999",msgType:1,srcId:"".concat(u),ts:"0",ttl:0}),f[d[0].cliMsgId]={index:0,state:0});let h=e.messages.reverse(),b=p;const{shouldShowBox:m}=a().app;var v;t&&(v=h[0],!bt.getState().messaging.messagesInfo[v.cliMsgId])&&!_t(h[0])&&!m&&(b=p+1);for(const e of h){Gt(e),Ht(e);const t=f[e.cliMsgId];t?(d[t.index]=e,f[e.cliMsgId]={...t,state:G.Sent}):(d.push(e),f[e.cliMsgId]={index:d.length-1,state:G.Sent}),Jt(e,n),_t(e)&&(g=e.cliMsgId)}let j=e.lastReceivedMessageId;j&&(f[j]={...f[j],state:G.Delivered}),Object(i.b)((()=>{n(Qt({messages:d,messagesInfo:f,myLastMsgId:g})),n(en(b))})),o.typing.onGoing&&o.typing.cancelId&&(clearTimeout(o.typing.cancelId),n(xt({cancelId:null,onGoing:!1})))}},Gt=e=>{const t=e.msgType;try{switch(t){case _e.Photo:case _e.Video:case _e.Chat_Recommeneded:case _e.File:e.content.parsedParams=JSON.parse(e.content.params);break;default:e.content.params&&(e.content.parsedParams=JSON.parse(e.content.params))}}catch(n){}},Ht=e=>{var t;null!==(t=e.quote)&&void 0!==t&&t.attach&&(e.quote.parsedAttach=JSON.parse(e.quote.attach))},Jt=(e,t)=>{var n;if(e.msgType===_e.Sticker){const{catId:n}=e.content;t(fe(n))}if((null===(n=e.quote)||void 0===n?void 0:n.cliMsgType)===_e.Sticker){var a;const{catId:n}=null===(a=e.quote)||void 0===a?void 0:a.parsedAttach;t(fe(n))}};var Kt,Yt=function(e,t,n,a){var r=e.messaging,c=r.messages,s=r.messagesInfo;s[t]=Object(g.a)(Object(g.a)({},s[t]),{},{state:a}),n(Qt({messages:Object(f.a)(c),messagesInfo:s}))},Xt=function(e,t,n){var a=n().messaging,r=a.messages,c=a.messagesInfo;c[e.cliMsgId]={index:r.length,state:G.Sending},setTimeout((function(){c[e.cliMsgId].state===G.Sending&&Yt(n(),Number.parseInt(e.cliMsgId),t,G.Error)}),M.sendDuration),t(Qt({messages:[].concat(Object(f.a)(r),[e]),messagesInfo:c}))},Qt=function(e){return{type:q,payload:e}},$t=function(e){return{type:V,payload:e}},en=function(e){return{type:W,payload:e}},tn=function(){return function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(i.b)((function(){t($t(A.Loading)),t(Qt({messages:[],messagesInfo:{},myLastMsgId:""})),t(Lt())})),e.abrupt("return",ae.Success);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},nn=function(e,t,n,a){return{type:P,payload:{status:e,oaInfo:n,appInfo:t,zuserInfo:a}}},an=function(e){return{type:E,payload:e}},rn=function(e){return{type:T,payload:e}},cn=function(e){return{type:D,payload:e}},sn=function(e){return{type:Q,payload:e}},on=function(e,t){return{type:te,payload:{connectionState:e,pingIntervalId:t}}},ln=function(e,t){var n=function(e){return JSON.parse((new TextDecoder).decode(new Uint8Array(e,4)))}(e);switch(t||(t=n.key),n.encrypt){case ve.Zip:n.data=Object(ke.e)(n.data);break;case ve.GZIP_AES128_GCM:var a=Object(ke.b)(n.data,t);n.data=Object(ke.f)(a)}return n},un=function(){return{type:tt,payload:void 0}},dn=function(e){return function(){var t=Object(d.a)(Object(u.a)().mark((function t(n){var a,r,c,s,o,i;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.total,r=[],c=(c=e.messages).reverse(),s=Object(ce.a)(c);try{for(s.s();!(o=s.n()).done;)i=o.value,fn(i),gn(i),r.push(i)}catch(l){s.e(l)}finally{s.f()}n({type:et,payload:{messages:r,total:a}});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},fn=function(e){var t=e.msgType;try{switch(t){case _e.Photo:case _e.Video:case _e.Chat_Recommeneded:case _e.File:e.content.parsedParams=JSON.parse(e.content.params);break;default:e.content.params&&(e.content.parsedParams=JSON.parse(e.content.params))}}catch(n){}},gn=function(e){var t;null!==(t=e.quote)&&void 0!==t&&t.attach&&(e.quote.parsedAttach=JSON.parse(e.quote.attach))},pn=function(e){return{type:R,payload:e}},hn=function(e){return{type:U,payload:e}},bn=function(){return{type:L}},mn=function(e){return e[e.CLOSE_CONVERSATION=1]="CLOSE_CONVERSATION",e[e.OPEN_CONVERSATION=2]="OPEN_CONVERSATION",e[e.UPGRADE_CONVERSATION=3]="UPGRADE_CONVERSATION",e}({}),vn=Object(be.a)((function e(){Object(he.a)(this,e),this.postMessage=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){var n,a,r,c,s,o,i;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=bt.getState().session,a=n.service_map,r=n.conversationId,c=n.encrWzuId,s=n.zoaw_enk,r){e.next=3;break}throw new Error("conversationId is nill");case 3:try{o={type:t,payload:{oaIdPublic:bt.getState().app.oaIdPublic,tabId:bt.getState().app.tabId}},i=JSON.stringify(o),qe.sendControl(a.message,{toId:r,data:i,wzuId:c},s)}catch(l){}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.handle=function(e,t){var n,a=JSON.parse(e.ctrlMsg);if((null===(n=a.payload)||void 0===n?void 0:n.tabId)!==t.getState().app.tabId){var r=t.dispatch;switch(a.type){case mn.CLOSE_CONVERSATION:a.payload.oaIdPublic===t.getState().app.oaIdPublic&&Object(i.b)((function(){r(bn()),r(un()),r(tn())}));break;case mn.OPEN_CONVERSATION:a.payload.oaIdPublic===t.getState().app.oaIdPublic&&r(Rn());break;case mn.UPGRADE_CONVERSATION:a.payload.oaIdPublic===t.getState().app.oaIdPublic&&r(Rn())}}}})),jn=new vn,_n=(Kt={},Object(Ce.a)(Kt,je.Receive_Message,(function(e,t){se(e)&&t.dispatch(Wt({messages:[e.data],total:1}))})),Object(Ce.a)(Kt,je.Typing_Message,(function(e,t){se(e)&&t.dispatch(function(){var e=Object(d.a)(Object(u.a)().mark((function e(t,n){var a,r;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=n().messaging.typing.cancelId)&&clearTimeout(a),r=setTimeout((function(){t(xt({onGoing:!1,cancelId:null}))}),M.showTypingDuration),t(xt({onGoing:!0,cancelId:r}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})),Object(Ce.a)(Kt,je.Delivered_Message,(function(e,t){se(e)&&t.dispatch((async(e,t)=>{const n=t().messaging,{messages:a,messagesInfo:r}=n;Object.keys(r).forEach((e=>{let t=r[e];r[e]={...t,state:G.Delivered}})),e(Qt({messages:a,messagesInfo:r}))}))})),Object(Ce.a)(Kt,je.Seen_Message,(function(e,t){se(e)})),Object(Ce.a)(Kt,je.Load_Thread_Chat,(function(e,t){var n;t.dispatch((n=e.data,async e=>{e($t(A.Done)),e(Wt(n,!1))}))})),Object(Ce.a)(Kt,je.Pull_Offline_Message,(function(e,t){})),Object(Ce.a)(Kt,je.Control,(function(e,t){jn.handle(e.data,t)})),Object(Ce.a)(Kt,je.Load_History_Chat,(function(e,t){var n;t.dispatch((n=e.data,function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(dn(n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))})),Kt),wn=0,On=0,yn=2e3,kn=function(e){return{type:X,promise:e}},xn=function(){return kn((function(e,t){var n=Ee(t.getState().session.service_map.web_socket);return e.connect(n)}))},In=function(){return kn((function(e,t){return e.onmessage((function(e){var n=new FileReader;n.readAsArrayBuffer(e.data),n.onload=function(e){var a,r=n.result,c=new DataView(r),s=(c.getUint8(0),c.getUint16(1,!0));switch(s){case je.Ping:break;case je.Authentication:var o=ln(r);t.dispatch((a=o.key,{type:ee,payload:a})),t.dispatch(En());break;case je.Create_Connection:t.dispatch(Tn());break;default:var i=function(e){try{return JSON.parse(e)}catch(t){return JSON.parse("{}")}}(ln(r,t.getState().zwebsocket.zws_key).data);if(!se(i))break;var l=_n[s];l&&se(i)&&l(i,t)}}}))}))},Sn=function(){return kn((function(e,t){return e.onclose((function(e){var n=t.getState().zwebsocket.pingIntervalId;n&&clearInterval(n),wn<On?(++wn,t.dispatch(sn(ne.Connecting)),setTimeout((function(){return t.dispatch(xn())}),yn)):t.dispatch(sn(ne.Closed))}))}))},Nn=function(){return kn((function(e,t){return e.onerror((function(e){}))}))},zn=function(){return kn((function(e){return e.onopen((function(e){}))}))},Cn=function(e){return kn((function(t,n){return n.getState().zwebsocket.connectionState!==ne.Connected?Promise.reject("Not authenticated, cannot send message"):t.send(e).catch((function(e){}))}))},Mn=function(e,t){var n=ye.createLoadThreadChat({conversationId:t,lastMsgId:"0"});e(Cn(n));var a=ye.createPullOfflineMessage({conversationId:t,lastMsgId:"0"});return e(Cn(a)),ae.Success},En=function(){return function(){var e=Object(d.a)(Object(u.a)().mark((function e(t,n){var a,r,c;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ye.createPingMessage(),r=setInterval((function(){t(Cn(a))}),M.pingInterval),t(on(ne.Connected,r)),c=ye.createConnection({oaId:n().app.oaIdPublic}),t(Cn(c)),e.abrupt("return",ae.Success);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Tn=function(){return function(){var e=Object(d.a)(Object(u.a)().mark((function e(t,n){var a,r,c,s;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null===(a=n().app.oaInfo)||void 0===a?void 0:a.id,c=n().session.encrWzuId,r){e.next=4;break}throw new Error("conversationId is empty!");case 4:return s="".concat(r,"_").concat(c),Mn(t,s),e.abrupt("return",ae.Success);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Dn=function(){return function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(i.b)((function(){t(xn()),t(zn()),t(Sn()),t(Nn()),t(In())})),e.abrupt("return",ae.Success);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Pn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me.Anonymous;return function(){var t=Object(d.a)(Object(u.a)().mark((function t(n,a,r){var c,s,o,l,d,f,p;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r.zchatService,s=r.zwidgetService,t.prev=1,n(hn(A.Loading)),o=a().app.oaIdPublic,t.next=6,xe(e);case 6:return l=t.sent,t.next=9,c.getSessionInfo(e,l,o);case 9:if(se(d=t.sent)){t.next=14;break}return n(hn(A.Failed)),t.abrupt("return",ae.Failed);case 14:return t.next=16,s.getWidgetOAInfo(o);case 16:if(se(f=t.sent)){t.next=21;break}return n(hn(A.Failed)),t.abrupt("return",ae.Failed);case 21:if(p=null,e!==me.Zalo){t.next=27;break}return t.next=25,s.getZUserInfo();case 25:se(p=t.sent);case 27:return Object(i.b)((function(){n(pn(Object(g.a)(Object(g.a)({},a().session),{},{status:A.Done,service_map:d.data.service_map,conversationId:f.data.id,zoaw_enk:d.data.zoaw_enk,globalId:d.data.global_id,encrWzuId:d.data.wzu_id||"",conversationType:e,zconv_id:d.data.zconv_id||""}))),n(rn(f.data)),n(Dn()),n(de()),p&&se(p)&&n(an(p.data))})),jn.postMessage(mn.OPEN_CONVERSATION),t.abrupt("return",ae.Success);case 32:return t.prev=32,t.t0=t.catch(1),n(hn(A.Failed)),t.abrupt("return",ae.Exception);case 37:case"end":return t.stop()}}),t,null,[[1,32]])})));return function(e,n,a){return t.apply(this,arguments)}}()},An=function(){return function(){var e=Object(d.a)(Object(u.a)().mark((function e(t,n,a){var r,c,s,o,l,f,p;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.zwidgetService,c=a.zchatService,e.prev=1,s="undefined"===typeof ZA?"":ZA.getVisitorID(),o=n().app.oaIdPublic,e.next=6,c.upgradeSessionInfo(o,s);case 6:if(se(l=e.sent)){e.next=10;break}return e.abrupt("return",ae.Failed);case 10:if(f=null,n().app.zuserInfo){e.next=17;break}return e.next=15,r.getZUserInfo();case 15:se(f=e.sent);case 17:return e.next=19,r.getWidgetOAInfo(o);case 19:return se(p=e.sent),Object(i.b)((function(){t(pn(Object(g.a)(Object(g.a)({},n().session),{},{status:A.Done,conversationId:l.data.oa.id,service_map:l.data.session.service_map,zoaw_enk:l.data.session.zoaw_enk,globalId:l.data.session.global_id,encrWzuId:l.data.wzu_id||"",conversationType:me.Zalo,zconv_id:l.data.zconv_id||""}))),t(rn(l.data.oa)),t(function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(i.b)((function(){t(xn()),t(zn()),t(Sn()),t(Nn()),t(In())})),e.abrupt("return",ae.Success);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t(tn()),f&&se(f)&&t(an(f.data)),p&&se(p)&&t(rn(p.data))})),jn.postMessage(mn.UPGRADE_CONVERSATION),e.abrupt("return",ae.Success);case 26:return e.prev=26,e.t0=e.catch(1),e.abrupt("return",ae.Exception);case 30:case"end":return e.stop()}}),e,null,[[1,26]])})));return function(t,n,a){return e.apply(this,arguments)}}()},Rn=function(){return function(){var e=Object(d.a)(Object(u.a)().mark((function e(t,n,a){var r,c,s,o,l,d,f,p,h,b,m;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.zchatService,c=a.zwidgetService,e.prev=1,s=n().app.oaIdPublic,o=n().session.conversationType,l=o!==me.Unknown?o:me.Anonymous,e.next=7,xe(l);case 7:return d=e.sent,e.next=10,r.loginTab(d,s);case 10:if(se(f=e.sent)){e.next=15;break}return t(hn(A.Failed)),e.abrupt("return",ae.Failed);case 15:return p=c.getWidgetOAInfo(s),h=c.getZUserInfo(),e.next=19,p;case 19:if(se(b=e.sent)){e.next=24;break}return t(hn(A.Failed)),e.abrupt("return",ae.Failed);case 24:return e.next=26,h;case 26:return se(m=e.sent),Object(i.b)((function(){t(pn(Object(g.a)(Object(g.a)({},n().session),{},{status:A.Done,service_map:f.data.service_map,conversationId:b.data.id,zoaw_enk:f.data.zoaw_enk,globalId:f.data.global_id,encrWzuId:f.data.wzu_id||"",conversationType:f.data.c_type||me.Unknown,zconv_id:f.data.zconv_id||""}))),t(rn(b.data)),t(de()),t(an(m.data)),t(Dn())})),e.abrupt("return",ae.Success);case 32:return e.prev=32,e.t0=e.catch(1),t(hn(A.Failed)),e.abrupt("return",ae.Exception);case 37:case"end":return e.stop()}}),e,null,[[1,32]])})));return function(t,n,a){return e.apply(this,arguments)}}()},Un=function(){return function(){var e=Object(d.a)(Object(u.a)().mark((function e(t,n,a){var r,c,s,o,l;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.zchatService,e.prev=1,c=n().app.oaIdPublic,s=n().session.conversationType,o=s!==me.Unknown?s:me.Anonymous,e.next=8,xe(o);case 8:return l=e.sent,e.next=11,r.closeSession(c,l);case 11:if(se(e.sent)){e.next=15;break}return e.abrupt("return",ae.Failed);case 15:return Object(i.b)((function(){t(bn()),t(un()),t(tn())})),jn.postMessage(mn.CLOSE_CONVERSATION),e.abrupt("return",ae.Success);case 20:return e.prev=20,e.t0=e.catch(1),e.abrupt("return",ae.Exception);case 24:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(t,n,a){return e.apply(this,arguments)}}()},Ln=function(){return function(){var e=Object(d.a)(Object(u.a)().mark((function e(t,n,a){var r,c,s,o,i;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.zwidgetService,e.prev=1,c=n().app,s=c.oaIdPublic,o=c.oaInfo,e.next=5,r.followOA(s);case 5:if(se(i=e.sent)){e.next=9;break}return e.abrupt("return",ae.Failed);case 9:return t(rn(Object(g.a)(Object(g.a)({},o),{},{isFollow:i.data.ret}))),e.abrupt("return",ae.Success);case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",ae.Exception);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,n,a){return e.apply(this,arguments)}}()},qn=new(Object(be.a)((function e(){var t=this;Object(he.a)(this,e),this.getZaloMeLink=function(){var e=bt.getState().app.oaIdPublic;return e?M.zaloMeDomain.replace("{oaId}",e):"https://chat.zalo.me/"},this.getZaloWebLink=function(){var e=bt.getState().session.zconv_id;return e&&"0"!==e?M.zaloWebDomain.replace("{convId}",e):""},this.getZaloPcLink=function(){var e=bt.getState().app.oaIdPublic;return M.zaloPcDomain.replace("{convId}",e)},this.openZaloWeb=function(e){Ge.getZUserInfo().then((function(n){var a,r;se(n)?null===(a=window.open(t.getZaloWebLink(),"_blank"))||void 0===a||a.focus():null===(r=window.open(t.getZaloMeLink(),"_blank"))||void 0===r||r.focus();e&&e()})).catch((function(){var n;null===(n=window.open(t.getZaloMeLink(),"_blank"))||void 0===n||n.focus(),e&&e()}))},this.openZaloPc=function(e){var n=t.getZaloPcLink();window.ZaloPC.open(n,(function(n){"unsupport"===n?t.openZaloWeb(e):(t.logZaloPc("PC"),e&&e())}))},this.openChat=function(e){var n=window.BrowserUtil.detectOS();n===window.BrowserUtil.osName.Linux||n===window.BrowserUtil.osName.Unknown?t.openZaloWeb(e):t.openZaloPc(e)},this.logZaloPc=function(e){var t=bt.getState().app.oaIdPublic;qe.sendLogChatPc(e,t)},this.logLoadWidget=function(){var e=bt.getState().app.oaIdPublic;qe.sendLog("7",e)},this.logOpenWidget=function(){var e=bt.getState().app.oaIdPublic;qe.sendLog("8",e)}}))),Fn=function(e){return!(!e.oaid||0===e.oaid.length)},Bn=Object(be.a)((function e(t){var n=this;Object(he.a)(this,e),this.publicOaId=void 0,this.log=function(e,t){new Promise((function(){t?window.ztr("track",e,t):window.ztr("track",e)}))},this.logLoginAnonymous=function(){n.log("LoginAnonymous",{oaId:n.publicOaId})},this.logLogin=function(){n.log("LoginAnonymous",{oaId:n.publicOaId})},this.logOpenChatHead=function(){n.log("OpenChatHead",{oaId:n.publicOaId})},this.logCloseChatHead=function(){n.log("CloseChatHead",{oaId:n.publicOaId})},this.logStartThreadChat=function(){n.log("StartThreadChat",{oaId:n.publicOaId})},this.logEndThreadChat=function(){n.log("EndThreadChat",{oaId:n.publicOaId})},this.logMuteChat=function(){n.log("MuteChat",{oaId:n.publicOaId})},this.logSendMessage=function(){n.log("SendMessage",{oaId:n.publicOaId})},this.logReceiveMessage=function(){n.log("ReceiveMessage",{oaId:n.publicOaId})},this.publicOaId=t})),Zn=window.location.search,Vn=new URLSearchParams(Zn).get("oaid"),Wn=new Bn(Vn||""),Gn=n(302),Hn=["image/jpeg","image/png","image/jpg","image/gif"],Jn=["video/mp4"],Kn=function(e){return Hn.some((function(t){return e.includes(t)}))},Yn=function(e){return Jn.some((function(t){return e.includes(t)}))},Xn=n(0),Qn=function(e){var t=e.open,n=void 0!==t&&t,a=e.onClose,r=Object(Gn.a)().t,c=Object(i.d)(),s=At,o=Rt,l=Pt,u=Kn,d=Yn;return Object(Xn.jsx)(Xn.Fragment,{children:n&&Object(Xn.jsx)("div",{className:"drag-drop-zone",onDragLeave:a,onDragOver:function(e){return e.preventDefault()},onDrop:function(e){e.preventDefault();var t=e.dataTransfer.files,n=t.length;if(t&&0!==n){for(var r=function(){var e=t[i];u(e.type)?setTimeout((function(){return c(s(e,""))}),250*i):d(e.type)?setTimeout((function(){return c(o(e,""))}),250*i):setTimeout((function(){return c(l(e))}),250*i)},i=0;i<n;i++)r();null===a||void 0===a||a()}},children:r("dragdropzone.drop")})})},$n=function(e){var t=e.loginURL,n=e.width,a=e.height,r=e.title,c=window.screen.width/2-250+(window.screenLeft?window.screenLeft:window.screenX?window.screenX:0),s=window.screen.height/2-350+(window.screenTop?window.screenTop:window.screenY?window.screenY:0);return window.open(t,r,"height="+a+",width="+n+",left="+c+",top="+s)},ea=function(e){var t=e.imgSrc,n=e.isActivated;return t?Object(Xn.jsxs)("figure",{className:"image avatar avatar--oa",children:[Object(Xn.jsx)("img",{src:t,alt:""}),n&&Object(Xn.jsx)("div",{className:"oa-active"})]}):null},ta=n(152),na=function(e){var t=e.title,n=e.desc;return Object(Xn.jsxs)("div",{className:"oa-info",children:[Object(Xn.jsx)("p",{"data-tip":!0,"data-for":"titleTip",className:"oa-name has-one-line wb-break-all",children:t}),!!n&&Object(Xn.jsx)("p",{children:n}),Object(Xn.jsx)(ta.a,{id:"titleTip",place:"top",effect:"solid",children:t})]})},aa=function(e){var t=e.iconName,n=e.falName,a=e.isCircle,r=e.handleClick;return t?a?Object(Xn.jsx)("div",{className:"circle-icon button",onClick:r,children:Object(Xn.jsx)("i",{className:"icon ".concat(t),style:{color:"white"}})}):Object(Xn.jsx)("i",{className:"icon ".concat(t),onClick:r}):a?Object(Xn.jsx)("div",{className:"circle-icon button",onClick:r,children:Object(Xn.jsx)("i",{className:"fal ".concat(n),style:{color:"white"}})}):Object(Xn.jsx)("i",{className:"fal ".concat(n),onClick:r})},ra=Object(i.c)((function(e){return{app:e.app,session:e.session}}),(function(e){return{updateShowBox:function(t){return e(cn(t))}}})),ca=function(e){var t=e.imgSrc,n=Object(Gn.a)().t;return Object(Xn.jsxs)("div",{className:"box__welcome",children:[Object(Xn.jsx)("h1",{children:n("chatheader.hello")}),Object(Xn.jsx)("h3",{children:n("chatheader.welcome")}),t&&Object(Xn.jsx)("div",{className:"avatar--user",children:Object(Xn.jsx)("figure",{className:"image avatar",children:Object(Xn.jsx)("img",{src:t,alt:""})})})]})},sa=ra((function(e){var t,n,a,s=e.updateShowBox,o=e.showMessageView,i=e.closeConversation,u=(e.upgradeUser,e.app),d=e.session,f=Object(r.useState)(!0),g=Object(l.a)(f,2),p=g[0],h=g[1];c.a.useEffect((function(){var e=function(){h(!0)};return window.addEventListener("click",e),function(){window.removeEventListener("click",e)}}),[]);var b=Object(Gn.a)().t,m=u.status===A.Done&&d.conversationType===me.Zalo,v=u.status===A.Done,j=u.status===A.Done&&d.conversationType!==me.Unknown,_=d.conversationType===me.Anonymous?"/static/images/ava-anonymous.png":null===(t=u.zuserInfo)||void 0===t?void 0:t.avatar,w=u.status===A.Done&&d.conversationType!==me.Unknown,O="https://developers.zalo.me/docs/social/zalo-chat-widget",y=qn.getZaloWebLink(),k=Object(Xn.jsx)("a",{className:"option-popup button",href:O,target:"tab",children:b("chatheader.setupwidget")}),x=Object(Xn.jsxs)(r.Fragment,{children:[m&&Object(Xn.jsx)("a",{className:"option-popup button",href:y,rel:"noreferrer",target:"_blank",children:b("chatheader.chatpc")}),!1,Object(Xn.jsx)("a",{className:"option-popup button",href:O,rel:"noreferrer",target:"_blank",children:b("chatheader.setupwidget")}),v&&Object(Xn.jsx)("a",{className:"option-popup button text-warning",onClick:i,children:b("chatheader.end")})]});return Object(Xn.jsxs)("div",{className:"box__top",children:[Object(Xn.jsxs)("div",{className:"box__header media justify-between items-center",children:[Object(Xn.jsxs)("div",{className:"media-left is-flex items-center overflow-init",children:[Object(Xn.jsx)(ea,{imgSrc:(null===(n=u.oaInfo)||void 0===n?void 0:n.avatar)||"",isActivated:!0}),Object(Xn.jsx)(na,{title:(null===(a=u.oaInfo)||void 0===a?void 0:a.name)||""})]}),Object(Xn.jsxs)("div",{className:"media-right",children:[Object(Xn.jsxs)("span",{className:"circle-icon dropdown button",onClick:function(e){e.stopPropagation(),h((function(e){return!e}))},children:[Object(Xn.jsx)("i",{className:"far fa-ellipsis-h",style:{color:"white"}}),Object(Xn.jsxs)("div",{className:"dropdown-content ".concat(p&&"is-hidden"),children:[Object(Xn.jsx)("div",{className:"triangle"}),w?x:k]})]}),Object(Xn.jsx)(aa,{isCircle:!0,falName:"fa-chevron-down",handleClick:function(){var e,t;e=window.zsp_min_width,t=window.zsp_min_height,window.onChangeSizeIframe(e,t),s(!1),Wn.logCloseChatHead()}})]})]}),!o&&Object(Xn.jsx)(ca,{imgSrc:j&&_||""})]})})),oa=(n(294),function(e){var t=e.keyword,n=e.position,a=e.className;return Object(Xn.jsx)("span",{className:a,style:{background:"url(".concat("static/images/emoji.png",") ").concat(n," / 5100%  no-repeat"),width:45,height:45,display:"inline-block"},"data-keyword":t})}),ia={":)":"82.00% 17.50%",":~":"84.00% 37.50%",":b":"82.00% 30.00%",":')":"82.00% 05.00%","8-)":"82.00% 45.00%",":-((":"84.00% 02.50%",":$":"82.00% 20.00%",":3":"82.00% 37.50%",":z":"84.00% 50.00%",":((":"82.00% 95.00%","&-(":"84.00% 35.00%",":-h":"84.00% 05.00%",":p":"82.00% 40.00%",":d":"82.00% 00.00%",":o":"84.00% 20.00%",":(":"82.00% 85.00%",";-)":"82.00% 50.00%","--b":"84.00% 30.00%",":))":"82.00% 10.00%",":-*":"82.00% 32.50%",";p":"82.00% 22.50%",";-d":"82.00% 27.50%","/-showlove":"82.00% 25.00%",";d":"82.00% 60.00%",";o":"82.00% 87.50%",";g":"82.00% 42.50%","|-)":"84.00% 45.00%",":!":"84.00% 00.00%",":l":"82.00% 70.00%",":>":"82.00% 07.50%",":;":"82.00% 47.50%",";f":"82.00% 57.50%",":v":"82.00% 55.00%",":wipe":"84.00% 32.50%",":-dig":"82.00% 80.00%",":handclap":"82.00% 77.50%","b-)":"82.00% 02.50%",":-r":"82.00% 72.50%",":-<":"82.00% 65.00%",":-o":"84.00% 47.50%",";-s":"84.00% 07.50%",";?":"84.00% 17.50%",";-x":"82.00% 75.00%",":-f":"84.00% 40.00%","8*)":"84.00% 25.00%",";!":"82.00% 100.00%",";-!":"84.00% 52.50%",";xx":"84.00% 12.50%",":-bye":"82.00% 12.50%",">-|":"82.00% 82.50%","p-(":"82.00% 90.00%",":--|":"82.00% 92.50%",":q":"84.00% 10.00%","x-)":"82.00% 52.50%",":*":"82.00% 35.00%",";-a":"84.00% 22.50%","8*":"82.00% 97.50%",":|":"82.00% 67.50%",":x":"84.00% 27.50%",":t":"84.00% 42.50%",";-/":"84.00% 15.00%",":-l":"82.00% 62.50%","$-)":"82.00% 15.00%","/-beer":"84.00% 55.00%","/-coffee":"84.00% 57.50%","/-rose":"84.00% 60.00%","/-fade":"84.00% 62.50%","/-bd":"84.00% 65.00%","/-bome":"84.00% 67.50%","/-cake":"84.00% 70.00%","/-heart":"84.00% 72.50%","/-break":"84.00% 75.00%","/-shit":"84.00% 77.50%","/-li":"84.00% 80.00%","/-flag":"86.00% 07.50%","/-strong":"84.00% 82.50%","/-weak":"84.00% 85.00%","/-ok":"84.00% 87.50%","/-v":"84.00% 90.00%","/-thanks":"84.00% 92.50%","/-punch":"84.00% 95.00%","/-share":"84.00% 97.50%","_()_":"84.00% 100.00%","/-no":"86.00% 00.00%","/-bad":"86.00% 02.50%","/-loveu":"86.00% 05.00%",":B":"82.00% 30.00%",":Z":"84.00% 50.00%",":-H":"84.00% 05.00%",":P":"82.00% 40.00%",":D":"82.00% 00.00%",":O":"84.00% 20.00%","--B":"84.00% 30.00%",";P":"82.00% 22.50%",";-D":"82.00% 27.50%",";D":"82.00% 60.00%","/-SHOWLOVE":"82.00% 25.00%",";O":"82.00% 87.50%",";G":"82.00% 42.50%",":L":"82.00% 70.00%",";F":"82.00% 57.50%",":V":"82.00% 55.00%",":WIPE":"84.00% 32.50%",":-DIG":"82.00% 80.00%",":HANCLAP":"82.00% 77.50%","B-)":"82.00% 02.50%",":-R":"82.00% 72.50%",":-O":"84.00% 47.50%",";-S":"84.00% 07.50%",";-X":"82.00% 75.00%",":-F":"84.00% 40.00%",";XX":"84.00% 12.50%",":-BYE":"82.00% 12.50%","P-(":"82.00% 90.00%",":Q":"84.00% 10.00%","X-)":"82.00% 52.50%",";-A":"84.00% 22.50%",":X":"84.00% 27.50%",":T":"84.00% 42.50%",":-L":"82.00% 62.50%","/-BEER":"84.00% 55.00%","/-COFFEE":"84.00% 57.50%","/-ROSE":"84.00% 60.00%","/-FADE":"84.00% 62.50%","/-BD":"84.00% 65.00%","/-BOME":"84.00% 67.50%","/-CAKE":"84.00% 70.00%","/-HEART":"84.00% 72.50%","/-BREAK":"84.00% 75.00%","/-SHIT":"84.00% 77.50%","/-LI":"84.00% 80.00%","/-FLAG":"86.00% 07.50%","/-STRONG":"84.00% 82.50%","/-WEAK":"84.00% 85.00%","/-OK":"84.00% 87.50%","/-V":"84.00% 90.00%","/-THANKS":"84.00% 92.50%","/-PUNCH":"84.00% 95.00%","/-SHARE":"84.00% 97.50%","/-NO":"86.00% 00.00%","/-BAD":"86.00% 02.50%","/-LOVEU":"86.00% 05.00%",";8":"84.00% 10.00%",":-|":"86.00% 10.00%",":+":"86.00% 12.50%",":grinning:":"52.00% 50.00%",":grimacing:":"54.00% 57.50%",":grin:":"52.00% 52.50%",":joy:":"52.00% 55.00%",":smiley:":"52.00% 57.50%",":smile:":"52.00% 60.00%",":sweat_smile:":"52.00% 62.50%",":laughing:":"52.00% 65.00%",":innocent:":"52.00% 67.50%",":wink:":"52.00% 72.50%",":blush:":"52.00% 75.00%",":slightly_smiling_face:":"56.00% 10.00%",":upside_down_face:":"56.00% 12.50%",":relaxed:":"02.00% 62.50%",":yum:":"52.00% 77.50%",":relieved:":"52.00% 80.00%",":heart_eyes:":"52.00% 82.50%",":kissing_heart:":"54.00% 07.50%",":kissing:":"54.00% 05.00%",":kissing_smiling_eyes:":"54.00% 10.00%",":kissing_closed_eyes:":"54.00% 12.50%",":stuck_out_tongue_winking_eye:":"54.00% 17.50%",":stuck_out_tongue_closed_eyes:":"54.00% 20.00%",":stuck_out_tongue:":"54.00% 15.00%",":money_mouth_face:":"64.00% 17.50%",":nerd_face:":"64.00% 22.50%",":sunglasses:":"52.00% 85.00%",":hugging_face:":"64.00% 32.50%",":smirk:":"52.00% 87.50%",":no_mouth:":"54.00% 82.50%",":neutral_face:":"52.00% 90.00%",":expressionless:":"52.00% 92.50%",":unamused:":"52.00% 95.00%",":face_with_rolling_eyes:":"56.00% 15.00%",":thinking_face:":"64.00% 25.00%",":flushed:":"54.00% 75.00%",":disappointed:":"54.00% 22.50%",":worried:":"54.00% 25.00%",":angry:":"54.00% 27.50%",":rage:":"54.00% 30.00%",":pensive:":"52.00% 100.00%",":confused:":"54.00% 00.00%",":slightly_frowning_face:":"56.00% 07.50%",":white_frowning_face:":"02.00% 60.00%",":persevere:":"54.00% 35.00%",":confounded:":"54.00% 02.50%",":tired_face:":"54.00% 55.00%",":weary:":"54.00% 50.00%",":triumph:":"54.00% 37.50%",":open_mouth:":"54.00% 62.50%",":scream:":"54.00% 70.00%",":fearful:":"54.00% 47.50%",":cold_sweat:":"54.00% 67.50%",":hushed:":"54.00% 65.00%",":frowning:":"54.00% 42.50%",":anguished:":"54.00% 45.00%",":cry:":"54.00% 32.50%",":disappointed_relieved:":"54.00% 40.00%",":sleepy:":"54.00% 52.50%",":sweat:":"52.00% 97.50%",":sob:":"54.00% 60.00%",":dizzy_face:":"54.00% 80.00%",":astonished:":"54.00% 72.50%",":zipper_mouth_face:":"64.00% 15.00%",":mask:":"54.00% 85.00%",":face_with_thermometer:":"64.00% 20.00%",":face_with_head_bandage:":"64.00% 27.50%",":sleeping:":"54.00% 77.50%",":zzz:":"40.00% 40.00%",":hankey:":"40.00% 52.50%",":smiling_imp:":"52.00% 70.00%",":imp:":"36.00% 77.50%",":japanese_ogre:":"36.00% 50.00%",":japanese_goblin:":"36.00% 52.50%",":skull:":"36.00% 80.00%",":ghost:":"36.00% 55.00%",":alien:":"36.00% 72.50%",":robot_face:":"64.00% 30.00%",":smiley_cat:":"54.00% 92.50%",":smile_cat:":"54.00% 87.50%",":joy_cat:":"54.00% 90.00%",":heart_eyes_cat:":"54.00% 95.00%",":smirk_cat:":"54.00% 97.50%",":kissing_cat:":"54.00% 100.00%",":scream_cat:":"56.00% 05.00%",":crying_cat_face:":"56.00% 02.50%",":pouting_cat:":"56.00% 00.00%",":raised_hands:":"56.00% 85.00%",":clap:":"30.00% 52.50%",":wave:":"28.00% 95.00%",":+1:":"30.00% 22.50%",":-1:":"30.00% 37.50%",":facepunch:":"28.00% 80.00%",":fist:":"06.00% 22.50%",":v:":"06.00% 52.50%",":ok_hand:":"30.00% 07.50%",":hand:":"06.00% 37.50%",":open_hands:":"30.00% 67.50%",":muscle:":"40.00% 55.00%",":pray:":"58.00% 27.50%",":point_up:":"02.00% 25.00%",":point_up_2:":"28.00% 20.00%",":point_down:":"28.00% 35.00%",":point_left:":"28.00% 50.00%",":point_right:":"28.00% 65.00%",":middle_finger:":"50.00% 60.00%",":raised_hand_with_fingers_splayed:":"50.00% 45.00%",":the_horns:":"64.00% 35.00%",":spock-hand:":"50.00% 75.00%",":writing_hand:":"06.00% 67.50%",":nail_care:":"38.00% 27.50%",":lips:":"28.00% 15.00%",":tongue:":"28.00% 17.50%",":ear:":"26.00% 87.50%",":nose:":"28.00% 00.00%",":eye:":"26.00% 85.00%",":eyes:":"26.00% 82.50%",":bust_in_silhouette:":"32.00% 27.50%",":busts_in_silhouette:":"32.00% 30.00%",":speaking_head_in_silhouette:":"52.00% 25.00%",":baby:":"36.00% 05.00%",":boy:":"32.00% 32.50%",":girl:":"32.00% 47.50%",":man:":"32.00% 62.50%",":woman:":"32.00% 77.50%",":person_with_blond_hair:":"34.00% 32.50%",":older_man:":"34.00% 77.50%",":older_woman:":"34.00% 92.50%",":man_with_gua_pi_mao:":"34.00% 47.50%",":man_with_turban:":"34.00% 62.50%",":cop:":"34.00% 00.00%",":construction_worker:":"36.00% 20.00%",":guardsman:":"36.00% 97.50%",":sleuth_or_spy:":"50.00% 07.50%",":santa:":"16.00% 72.50%",":angel:":"36.00% 57.50%",":princess:":"36.00% 35.00%",":bride_with_veil:":"34.00% 17.50%",":walking:":"62.00% 10.00%",":runner:":"20.00% 22.50%",":dancer:":"38.00% 10.00%",":dancers:":"34.00% 15.00%",":couple:":"32.00% 95.00%",":two_men_holding_hands:":"32.00% 97.50%",":two_women_holding_hands:":"32.00% 100.00%",":bow:":"56.00% 47.50%",":information_desk_person:":"36.00% 82.50%",":no_good:":"56.00% 17.50%",":ok_woman:":"56.00% 32.50%",":raising_hand:":"56.00% 70.00%",":person_with_pouting_face:":"58.00% 12.50%",":person_frowning:":"56.00% 100.00%",":haircut:":"38.00% 57.50%",":massage:":"38.00% 42.50%",":couple_with_heart:":"38.00% 95.00%",":woman-heart-woman:":"78.00% 60.00%",":man-heart-man:":"78.00% 42.50%",":couplekiss:":"38.00% 90.00%",":woman-kiss-woman:":"78.00% 62.50%",":man-kiss-man:":"78.00% 45.00%",":family:":"32.00% 92.50%",":man-woman-girl:":"78.00% 35.00%",":man-woman-girl-boy:":"78.00% 37.50%",":man-woman-boy-boy:":"78.00% 32.50%",":man-woman-girl-girl:":"78.00% 40.00%",":woman-woman-boy:":"78.00% 47.50%",":woman-woman-girl:":"78.00% 52.50%",":woman-woman-girl-boy:":"78.00% 55.00%",":woman-woman-boy-boy:":"78.00% 50.00%",":woman-woman-girl-girl:":"78.00% 57.50%",":man-man-boy:":"78.00% 20.00%",":man-man-girl:":"78.00% 25.00%",":man-man-girl-boy:":"78.00% 27.50%",":man-man-boy-boy:":"78.00% 22.50%",":man-man-girl-girl:":"78.00% 30.00%",":womans_clothes:":"32.00% 02.50%",":shirt:":"30.00% 92.50%",":jeans:":"30.00% 95.00%",":necktie:":"30.00% 90.00%",":dress:":"30.00% 97.50%",":bikini:":"32.00% 00.00%",":kimono:":"30.00% 100.00%",":lipstick:":"38.00% 25.00%",":kiss:":"38.00% 80.00%",":footprints:":"32.00% 25.00%",":high_heel:":"32.00% 17.50%",":sandal:":"32.00% 20.00%",":boot:":"32.00% 22.50%",":mans_shoe:":"32.00% 12.50%",":athletic_shoe:":"32.00% 15.00%",":womans_hat:":"30.00% 85.00%",":tophat:":"18.00% 60.00%",":helmet_with_white_cross:":"04.00% 62.50%",":mortar_board:":"18.00% 17.50%",":crown:":"30.00% 82.50%",":school_satchel:":"18.00% 15.00%",":pouch:":"32.00% 10.00%",":purse:":"32.00% 05.00%",":handbag:":"32.00% 07.50%",":briefcase:":"42.00% 10.00%",":eyeglasses:":"30.00% 87.50%",":dark_sunglasses:":"50.00% 22.50%",":ring:":"38.00% 85.00%",":closed_umbrella:":"10.00% 57.50%",":dog:":"26.00% 57.50%",":cat:":"26.00% 45.00%",":mouse:":"26.00% 35.00%",":hamster:":"26.00% 65.00%",":rabbit:":"26.00% 42.50%",":bear:":"26.00% 70.00%",":panda_face:":"26.00% 72.50%",":koala:":"26.00% 22.50%",":tiger:":"26.00% 40.00%",":lion_face:":"64.00% 52.50%",":cow:":"26.00% 37.50%",":pig:":"26.00% 60.00%",":pig_nose:":"26.00% 75.00%",":frog:":"26.00% 62.50%",":octopus:":"24.00% 87.50%",":monkey_face:":"26.00% 55.00%",":see_no_evil:":"56.00% 62.50%",":hear_no_evil:":"56.00% 65.00%",":speak_no_evil:":"56.00% 67.50%",":monkey:":"24.00% 70.00%",":chicken:":"24.00% 75.00%",":penguin:":"26.00% 20.00%",":bird:":"26.00% 17.50%",":baby_chick:":"26.00% 12.50%",":hatching_chick:":"26.00% 10.00%",":hatched_chick:":"26.00% 15.00%",":wolf:":"26.00% 67.50%",":boar:":"24.00% 82.50%",":horse:":"26.00% 52.50%",":unicorn_face:":"64.00% 60.00%",":bee:":"24.00% 97.50%",":bug:":"24.00% 92.50%",":snail:":"24.00% 55.00%",":beetle:":"24.00% 100.00%",":ant:":"24.00% 95.00%",":spider:":"50.00% 25.00%",":scorpion:":"64.00% 55.00%",":crab:":"64.00% 50.00%",":snake:":"24.00% 57.50%",":turtle:":"26.00% 07.50%",":tropical_fish:":"26.00% 02.50%",":fish:":"26.00% 00.00%",":blowfish:":"26.00% 05.00%",":dolphin:":"26.00% 32.50%",":whale:":"26.00% 50.00%",":whale2:":"24.00% 52.50%",":crocodile:":"24.00% 50.00%",":leopard:":"24.00% 40.00%",":tiger2:":"24.00% 37.50%",":water_buffalo:":"24.00% 32.50%",":ox:":"24.00% 30.00%",":cow2:":"24.00% 35.00%",":dromedary_camel:":"26.00% 27.50%",":camel:":"26.00% 30.00%",":elephant:":"24.00% 85.00%",":goat:":"24.00% 65.00%",":ram:":"24.00% 62.50%",":sheep:":"24.00% 67.50%",":racehorse:":"24.00% 60.00%",":pig2:":"24.00% 80.00%",":rat:":"24.00% 25.00%",":mouse2:":"24.00% 27.50%",":rooster:":"24.00% 72.50%",":turkey:":"64.00% 57.50%",":dove_of_peace:":"48.00% 27.50%",":dog2:":"24.00% 77.50%",":poodle:":"26.00% 25.00%",":cat2:":"24.00% 45.00%",":rabbit2:":"24.00% 42.50%",":chipmunk:":"26.00% 80.00%",":feet:":"26.00% 77.50%",":dragon:":"24.00% 47.50%",":dragon_face:":"26.00% 47.50%",":cactus:":"12.00% 77.50%",":christmas_tree:":"16.00% 70.00%",":evergreen_tree:":"12.00% 70.00%",":deciduous_tree:":"12.00% 72.50%",":palm_tree:":"12.00% 75.00%",":seedling:":"12.00% 67.50%",":herb:":"14.00% 00.00%",":shamrock:":"02.00% 22.50%",":four_leaf_clover:":"14.00% 02.50%",":bamboo:":"18.00% 02.50%",":tanabata_tree:":"16.00% 100.00%",":leaves:":"14.00% 10.00%",":fallen_leaf:":"14.00% 07.50%",":maple_leaf:":"14.00% 05.00%",":ear_of_rice:":"12.00% 100.00%",":hibiscus:":"12.00% 90.00%",":sunflower:":"12.00% 92.50%",":rose:":"12.00% 87.50%",":tulip:":"12.00% 82.50%",":blossom:":"12.00% 95.00%",":cherry_blossom:":"12.00% 85.00%",":bouquet:":"38.00% 92.50%",":mushroom:":"14.00% 12.50%",":chestnut:":"12.00% 65.00%",":jack_o_lantern:":"16.00% 67.50%",":shell:":"24.00% 90.00%",":spider_web:":"50.00% 27.50%",":earth_americas:":"10.00% 87.50%",":earth_africa:":"10.00% 85.00%",":earth_asia:":"10.00% 90.00%",":full_moon:":"12.00% 02.50%",":waning_gibbous_moon:":"12.00% 05.00%",":last_quarter_moon:":"12.00% 07.50%",":waning_crescent_moon:":"12.00% 10.00%",":new_moon:":"10.00% 95.00%",":waxing_crescent_moon:":"10.00% 97.50%",":first_quarter_moon:":"10.00% 100.00%",":moon:":"12.00% 00.00%",":new_moon_with_face:":"12.00% 15.00%",":full_moon_with_face:":"12.00% 22.50%",":first_quarter_moon_with_face:":"12.00% 17.50%",":last_quarter_moon_with_face:":"12.00% 20.00%",":sun_with_face:":"12.00% 25.00%",":crescent_moon:":"12.00% 12.50%",":star:":"08.00% 60.00%",":star2:":"12.00% 27.50%",":dizzy:":"40.00% 70.00%",":sparkles:":"06.00% 97.50%",":comet:":"02.00% 10.00%",":sunny:":"02.00% 00.00%",":mostly_sunny:":"12.00% 35.00%",":partly_sunny:":"04.00% 52.50%",":barely_sunny:":"12.00% 37.50%",":partly_sunny_rain:":"12.00% 40.00%",":cloud:":"02.00% 02.50%",":rain_cloud:":"12.00% 42.50%",":thunder_cloud_and_rain:":"04.00% 55.00%",":lightning:":"12.00% 47.50%",":zap:":"04.00% 32.50%",":fire:":"46.00% 65.00%",":boom:":"40.00% 42.50%",":snowflake:":"08.00% 02.50%",":snow_cloud:":"12.00% 45.00%",":snowman_without_snow:":"04.00% 50.00%",":snowman:":"02.00% 07.50%",":wind_blowing_face:":"12.00% 55.00%",":dash:":"40.00% 50.00%",":tornado:":"12.00% 50.00%",":fog:":"12.00% 52.50%",":umbrella:":"02.00% 05.00%",":umbrella_with_rain_drops:":"02.00% 17.50%",":droplet:":"40.00% 47.50%",":sweat_drops:":"40.00% 45.00%",":ocean:":"10.00% 77.50%",":green_apple:":"14.00% 40.00%",":apple:":"14.00% 37.50%",":pear:":"14.00% 42.50%",":tangerine:":"14.00% 27.50%",":lemon:":"14.00% 30.00%",":banana:":"14.00% 32.50%",":watermelon:":"14.00% 25.00%",":grapes:":"14.00% 20.00%",":strawberry:":"14.00% 50.00%",":melon:":"14.00% 22.50%",":cherries:":"14.00% 47.50%",":peach:":"14.00% 45.00%",":pineapple:":"14.00% 35.00%",":tomato:":"14.00% 15.00%",":eggplant:":"14.00% 17.50%",":hot_pepper:":"12.00% 80.00%",":corn:":"12.00% 97.50%",":sweet_potato:":"14.00% 82.50%",":honey_pot:":"16.00% 17.50%",":bread:":"14.00% 77.50%",":cheese_wedge:":"64.00% 62.50%",":poultry_leg:":"14.00% 60.00%",":meat_on_bone:":"14.00% 57.50%",":fried_shrimp:":"14.00% 92.50%",":egg:":"16.00% 27.50%",":hamburger:":"14.00% 52.50%",":fries:":"14.00% 80.00%",":hotdog:":"12.00% 57.50%",":pizza:":"14.00% 55.00%",":spaghetti:":"14.00% 75.00%",":taco:":"12.00% 60.00%",":burrito:":"12.00% 62.50%",":ramen:":"14.00% 72.50%",":stew:":"16.00% 25.00%",":fish_cake:":"14.00% 95.00%",":sushi:":"14.00% 90.00%",":bento:":"16.00% 22.50%",":curry:":"14.00% 70.00%",":rice_ball:":"14.00% 65.00%",":rice:":"14.00% 67.50%",":rice_cracker:":"14.00% 62.50%",":oden:":"14.00% 87.50%",":dango:":"14.00% 85.00%",":shaved_ice:":"14.00% 100.00%",":ice_cream:":"16.00% 00.00%",":icecream:":"14.00% 97.50%",":cake:":"16.00% 20.00%",":birthday:":"16.00% 65.00%",":custard:":"16.00% 15.00%",":candy:":"16.00% 10.00%",":lollipop:":"16.00% 12.50%",":chocolate_bar:":"16.00% 07.50%",":popcorn:":"16.00% 57.50%",":doughnut:":"16.00% 02.50%",":cookie:":"16.00% 05.00%",":beer:":"16.00% 45.00%",":beers:":"16.00% 47.50%",":wine_glass:":"16.00% 37.50%",":cocktail:":"16.00% 40.00%",":tropical_drink:":"16.00% 42.50%",":champagne:":"16.00% 55.00%",":sake:":"16.00% 35.00%",":tea:":"16.00% 32.50%",":coffee:":"02.00% 20.00%",":baby_bottle:":"16.00% 50.00%",":fork_and_knife:":"16.00% 30.00%",":knife_fork_plate:":"16.00% 52.50%",":soccer:":"04.00% 45.00%",":basketball:":"20.00% 15.00%",":football:":"20.00% 72.50%",":baseball:":"04.00% 47.50%",":tennis:":"20.00% 10.00%",":volleyball:":"22.00% 15.00%",":rugby_football:":"20.00% 75.00%",":8ball:":"18.00% 80.00%",":golf:":"04.00% 82.50%",":golfer:":"22.00% 05.00%",":table_tennis_paddle_and_ball:":"22.00% 22.50%",":badminton_racquet_and_shuttlecock:":"24.00% 05.00%",":ice_hockey_stick_and_puck:":"22.00% 20.00%",":field_hockey_stick_and_ball:":"22.00% 17.50%",":cricket_bat_and_ball:":"22.00% 12.50%",":ski:":"20.00% 12.50%",":skier:":"04.00% 90.00%",":snowboarder:":"20.00% 20.00%",":ice_skate:":"04.00% 92.50%",":bow_and_arrow:":"24.00% 07.50%",":fishing_pole_and_fish:":"18.00% 45.00%",":rowboat:":"60.00% 27.50%",":swimmer:":"20.00% 77.50%",":surfer:":"20.00% 37.50%",":bath:":"62.00% 47.50%",":person_with_ball:":"04.00% 95.00%",":weight_lifter:":"20.00% 92.50%",":bicyclist:":"60.00% 82.50%",":mountain_bicyclist:":"60.00% 97.50%",":horse_racing:":"20.00% 57.50%",":man_in_business_suit_levitating:":"50.00% 05.00%",":trophy:":"20.00% 55.00%",":running_shirt_with_sash:":"20.00% 07.50%",":sports_medal:":"20.00% 52.50%",":medal:":"18.00% 20.00%",":reminder_ribbon:":"18.00% 22.50%",":rosette:":"24.00% 00.00%",":ticket:":"18.00% 65.00%",":admission_tickets:":"18.00% 35.00%",":performing_arts:":"18.00% 70.00%",":art:":"18.00% 57.50%",":circus_tent:":"18.00% 62.50%",":microphone:":"18.00% 47.50%",":headphones:":"18.00% 55.00%",":musical_score:":"20.00% 05.00%",":musical_keyboard:":"18.00% 100.00%",":saxophone:":"18.00% 95.00%",":trumpet:":"20.00% 00.00%",":guitar:":"18.00% 97.50%",":violin:":"20.00% 02.50%",":clapper:":"18.00% 67.50%",":video_game:":"18.00% 72.50%",":space_invader:":"36.00% 75.00%",":dart:":"18.00% 75.00%",":game_die:":"18.00% 82.50%",":slot_machine:":"18.00% 77.50%",":bowling:":"18.00% 85.00%",":car:":"58.00% 100.00%",":taxi:":"58.00% 95.00%",":blue_car:":"60.00% 02.50%",":bus:":"58.00% 72.50%",":trolleybus:":"58.00% 77.50%",":racing_car:":"22.00% 10.00%",":police_car:":"58.00% 90.00%",":ambulance:":"58.00% 85.00%",":fire_engine:":"58.00% 87.50%",":minibus:":"58.00% 82.50%",":truck:":"60.00% 05.00%",":articulated_lorry:":"60.00% 07.50%",":tractor:":"60.00% 10.00%",":racing_motorcycle:":"22.00% 07.50%",":bike:":"60.00% 77.50%",":rotating_light:":"60.00% 52.50%",":oncoming_police_car:":"58.00% 92.50%",":oncoming_bus:":"58.00% 75.00%",":oncoming_automobile:":"60.00% 00.00%",":oncoming_taxi:":"58.00% 97.50%",":aerial_tramway:":"60.00% 22.50%",":mountain_cableway:":"60.00% 20.00%",":suspension_railway:":"60.00% 17.50%",":railway_car:":"58.00% 50.00%",":train:":"58.00% 70.00%",":monorail:":"60.00% 12.50%",":bullettrain_side:":"58.00% 52.50%",":bullettrain_front:":"58.00% 55.00%",":light_rail:":"58.00% 62.50%",":mountain_railway:":"60.00% 15.00%",":steam_locomotive:":"58.00% 47.50%",":train2:":"58.00% 57.50%",":metro:":"58.00% 60.00%",":tram:":"58.00% 67.50%",":station:":"58.00% 65.00%",":helicopter:":"58.00% 45.00%",":small_airplane:":"64.00% 02.50%",":airplane:":"06.00% 17.50%",":airplane_departure:":"64.00% 05.00%",":airplane_arriving:":"64.00% 07.50%",":boat:":"04.00% 87.50%",":motor_boat:":"64.00% 00.00%",":speedboat:":"60.00% 42.50%",":ferry:":"04.00% 85.00%",":passenger_ship:":"64.00% 12.50%",":rocket:":"58.00% 42.50%",":satellite:":"64.00% 10.00%",":seat:":"42.00% 05.00%",":anchor:":"04.00% 12.50%",":construction:":"60.00% 50.00%",":fuelpump:":"06.00% 10.00%",":busstop:":"58.00% 80.00%",":vertical_traffic_light:":"60.00% 47.50%",":traffic_light:":"60.00% 45.00%",":checkered_flag:":"20.00% 17.50%",":ship:":"60.00% 25.00%",":ferris_wheel:":"18.00% 40.00%",":roller_coaster:":"18.00% 42.50%",":carousel_horse:":"18.00% 37.50%",":building_construction:":"22.00% 32.50%",":foggy:":"10.00% 55.00%",":tokyo_tower:":"52.00% 40.00%",":factory:":"22.00% 87.50%",":fountain:":"04.00% 80.00%",":rice_scene:":"18.00% 12.50%",":mountain:":"04.00% 75.00%",":snow_capped_mountain:":"22.00% 25.00%",":mount_fuji:":"52.00% 37.50%",":volcano:":"10.00% 80.00%",":japan:":"52.00% 45.00%",":camping:":"22.00% 27.50%",":tent:":"06.00% 07.50%",":national_park:":"22.00% 50.00%",":motorway:":"62.00% 97.50%",":railway_track:":"62.00% 100.00%",":sunrise:":"10.00% 65.00%",":sunrise_over_mountains:":"10.00% 62.50%",":desert:":"22.00% 45.00%",":beach_with_umbrella:":"22.00% 30.00%",":desert_island:":"22.00% 47.50%",":city_sunrise:":"10.00% 70.00%",":city_sunset:":"10.00% 67.50%",":cityscape:":"22.00% 37.50%",":night_with_stars:":"10.00% 60.00%",":bridge_at_night:":"10.00% 75.00%",":milky_way:":"10.00% 82.50%",":stars:":"12.00% 30.00%",":sparkler:":"16.00% 90.00%",":fireworks:":"16.00% 87.50%",":rainbow:":"10.00% 72.50%",":house_buildings:":"22.00% 35.00%",":european_castle:":"22.00% 95.00%",":japanese_castle:":"22.00% 92.50%",":stadium:":"22.00% 52.50%",":statue_of_liberty:":"52.00% 42.50%",":house:":"22.00% 55.00%",":house_with_garden:":"22.00% 57.50%",":derelict_house_building:":"22.00% 40.00%",":office:":"22.00% 60.00%",":department_store:":"22.00% 85.00%",":post_office:":"22.00% 62.50%",":european_post_office:":"22.00% 65.00%",":hospital:":"22.00% 67.50%",":bank:":"22.00% 70.00%",":hotel:":"22.00% 75.00%",":convenience_store:":"22.00% 80.00%",":school:":"22.00% 82.50%",":love_hotel:":"22.00% 77.50%",":wedding:":"38.00% 97.50%",":classical_building:":"22.00% 42.50%",":church:":"04.00% 72.50%",":mosque:":"48.00% 32.50%",":synagogue:":"48.00% 35.00%",":kaaba:":"48.00% 30.00%",":shinto_shrine:":"04.00% 70.00%",":watch:":"00.00% 35.00%",":iphone:":"44.00% 40.00%",":calling:":"44.00% 42.50%",":computer:":"42.00% 07.50%",":keyboard:":"00.00% 40.00%",":desktop_computer:":"50.00% 90.00%",":printer:":"50.00% 92.50%",":three_button_mouse:":"50.00% 95.00%",":trackball:":"50.00% 97.50%",":joystick:":"50.00% 30.00%",":compression:":"52.00% 15.00%",":minidisc:":"42.00% 12.50%",":floppy_disk:":"42.00% 15.00%",":cd:":"42.00% 17.50%",":dvd:":"42.00% 20.00%",":vhs:":"44.00% 67.50%",":camera:":"44.00% 55.00%",":camera_with_flash:":"44.00% 57.50%",":video_camera:":"44.00% 60.00%",":movie_camera:":"18.00% 50.00%",":film_projector:":"44.00% 70.00%",":film_frames:":"18.00% 32.50%",":telephone_receiver:":"42.00% 95.00%",":phone:":"02.00% 12.50%",":pager:":"42.00% 97.50%",":fax:":"42.00% 100.00%",":tv:":"44.00% 62.50%",":radio:":"44.00% 65.00%",":studio_microphone:":"18.00% 25.00%",":level_slider:":"18.00% 27.50%",":control_knobs:":"18.00% 30.00%",":stopwatch:":"00.00% 65.00%",":timer_clock:":"00.00% 67.50%",":alarm_clock:":"00.00% 62.50%",":mantelpiece_clock:":"50.00% 00.00%",":hourglass_flowing_sand:":"00.00% 70.00%",":hourglass:":"00.00% 37.50%",":satellite_antenna:":"44.00% 00.00%",":battery:":"46.00% 00.00%",":electric_plug:":"46.00% 02.50%",":bulb:":"40.00% 32.50%",":flashlight:":"46.00% 67.50%",":candle:":"48.00% 100.00%",":wastebasket:":"52.00% 07.50%",":oil_drum:":"62.00% 95.00%",":money_with_wings:":"42.00% 00.00%",":dollar:":"40.00% 95.00%",":yen:":"40.00% 92.50%",":euro:":"40.00% 97.50%",":pound:":"40.00% 100.00%",":moneybag:":"40.00% 82.50%",":credit_card:":"40.00% 90.00%",":gem:":"38.00% 87.50%",":scales:":"04.00% 17.50%",":wrench:":"46.00% 70.00%",":hammer:":"46.00% 72.50%",":hammer_and_pick:":"04.00% 10.00%",":hammer_and_wrench:":"62.00% 90.00%",":pick:":"04.00% 60.00%",":nut_and_bolt:":"46.00% 75.00%",":gear:":"04.00% 22.50%",":chains:":"04.00% 65.00%",":gun:":"46.00% 80.00%",":bomb:":"40.00% 37.50%",":hocho:":"46.00% 77.50%",":dagger_knife:":"52.00% 22.50%",":crossed_swords:":"04.00% 15.00%",":shield:":"62.00% 92.50%",":smoking:":"60.00% 62.50%",":skull_and_crossbones:":"02.00% 40.00%",":coffin:":"04.00% 40.00%",":funeral_urn:":"04.00% 42.50%",":amphora:":"24.00% 10.00%",":crystal_ball:":"46.00% 87.50%",":prayer_beads:":"44.00% 72.50%",":barber:":"38.00% 72.50%",":alembic:":"04.00% 20.00%",":telescope:":"46.00% 85.00%",":microscope:":"46.00% 82.50%",":hole:":"50.00% 02.50%",":pill:":"38.00% 77.50%",":syringe:":"38.00% 75.00%",":thermometer:":"12.00% 32.50%",":label:":"24.00% 02.50%",":bookmark:":"46.00% 27.50%",":toilet:":"62.00% 40.00%",":shower:":"62.00% 45.00%",":bathtub:":"62.00% 62.50%",":key:":"46.00% 15.00%",":old_key:":"52.00% 17.50%",":couch_and_lamp:":"62.00% 75.00%",":sleeping_accommodation:":"62.00% 77.50%",":bed:":"62.00% 85.00%",":door:":"60.00% 57.50%",":bellhop_bell:":"62.00% 82.50%",":frame_with_picture:":"50.00% 100.00%",":world_map:":"52.00% 35.00%",":umbrella_on_ground:":"04.00% 77.50%",":moyai:":"52.00% 47.50%",":shopping_bags:":"62.00% 80.00%",":balloon:":"16.00% 92.50%",":flags:":"18.00% 07.50%",":ribbon:":"16.00% 60.00%",":gift:":"16.00% 62.50%",":confetti_ball:":"16.00% 97.50%",":tada:":"16.00% 95.00%",":dolls:":"18.00% 05.00%",":wind_chime:":"18.00% 10.00%",":crossed_flags:":"18.00% 00.00%",":izakaya_lantern:":"22.00% 90.00%",":email:":"06.00% 20.00%",":envelope_with_arrow:":"44.00% 20.00%",":incoming_envelope:":"44.00% 17.50%",":e-mail:":"44.00% 15.00%",":love_letter:":"38.00% 82.50%",":postbox:":"44.00% 32.50%",":mailbox_closed:":"44.00% 22.50%",":mailbox:":"44.00% 25.00%",":mailbox_with_mail:":"44.00% 27.50%",":mailbox_with_no_mail:":"44.00% 30.00%",":package:":"44.00% 12.50%",":postal_horn:":"44.00% 35.00%",":inbox_tray:":"44.00% 10.00%",":outbox_tray:":"44.00% 07.50%",":scroll:":"42.00% 90.00%",":page_with_curl:":"42.00% 27.50%",":bookmark_tabs:":"42.00% 62.50%",":bar_chart:":"42.00% 45.00%",":chart_with_upwards_trend:":"42.00% 40.00%",":chart_with_downwards_trend:":"42.00% 42.50%",":page_facing_up:":"42.00% 30.00%",":date:":"42.00% 32.50%",":calendar:":"42.00% 35.00%",":spiral_calendar_pad:":"52.00% 12.50%",":card_index:":"42.00% 37.50%",":card_file_box:":"52.00% 02.50%",":ballot_box_with_ballot:":"52.00% 32.50%",":file_cabinet:":"52.00% 05.00%",":clipboard:":"42.00% 47.50%",":spiral_note_pad:":"52.00% 10.00%",":file_folder:":"42.00% 22.50%",":open_file_folder:":"42.00% 25.00%",":card_index_dividers:":"52.00% 00.00%",":rolled_up_newspaper:":"52.00% 20.00%",":newspaper:":"44.00% 37.50%",":notebook:":"42.00% 67.50%",":closed_book:":"42.00% 72.50%",":green_book:":"42.00% 77.50%",":blue_book:":"42.00% 80.00%",":orange_book:":"42.00% 82.50%",":notebook_with_decorative_cover:":"42.00% 70.00%",":ledger:":"42.00% 65.00%",":books:":"42.00% 85.00%",":book:":"42.00% 75.00%",":link:":"46.00% 30.00%",":paperclip:":"42.00% 55.00%",":linked_paperclips:":"50.00% 32.50%",":scissors:":"06.00% 12.50%",":triangular_ruler:":"42.00% 60.00%",":straight_ruler:":"42.00% 57.50%",":pushpin:":"42.00% 50.00%",":round_pushpin:":"42.00% 52.50%",":triangular_flag_on_post:":"60.00% 55.00%",":waving_white_flag:":"22.00% 97.50%",":waving_black_flag:":"22.00% 100.00%",":closed_lock_with_key:":"46.00% 12.50%",":lock:":"46.00% 17.50%",":unlock:":"46.00% 20.00%",":lock_with_ink_pen:":"46.00% 10.00%",":lower_left_ballpoint_pen:":"50.00% 35.00%",":lower_left_fountain_pen:":"50.00% 37.50%",":black_nib:":"06.00% 85.00%",":memo:":"42.00% 92.50%",":pencil2:":"06.00% 82.50%",":lower_left_crayon:":"50.00% 42.50%",":lower_left_paintbrush:":"50.00% 40.00%",":mag:":"46.00% 05.00%",":mag_right:":"46.00% 07.50%",":heart:":"08.00% 25.00%",":yellow_heart:":"40.00% 17.50%",":green_heart:":"40.00% 15.00%",":blue_heart:":"40.00% 12.50%",":purple_heart:":"40.00% 20.00%",":broken_heart:":"40.00% 00.00%",":heavy_heart_exclamation_mark_ornament:":"08.00% 22.50%",":two_hearts:":"40.00% 02.50%",":revolving_hearts:":"40.00% 25.00%",":heartbeat:":"38.00% 100.00%",":heartpulse:":"40.00% 07.50%",":sparkling_heart:":"40.00% 05.00%",":cupid:":"40.00% 10.00%",":gift_heart:":"40.00% 22.50%",":heart_decoration:":"40.00% 27.50%",":peace_symbol:":"02.00% 52.50%",":latin_cross:":"06.00% 92.50%",":star_and_crescent:":"02.00% 50.00%",":om_symbol:":"48.00% 25.00%",":wheel_of_dharma:":"02.00% 57.50%",":star_of_david:":"06.00% 95.00%",":six_pointed_star:":"46.00% 90.00%",":menorah_with_nine_branches:":"48.00% 37.50%",":yin_yang:":"02.00% 55.00%",":orthodox_cross:":"02.00% 47.50%",":place_of_worship:":"62.00% 87.50%",":ophiuchus:":"04.00% 57.50%",":aries:":"02.00% 65.00%",":taurus:":"02.00% 67.50%",":gemini:":"02.00% 70.00%",":cancer:":"02.00% 72.50%",":leo:":"02.00% 75.00%",":virgo:":"02.00% 77.50%",":libra:":"02.00% 80.00%",":scorpius:":"02.00% 82.50%",":sagittarius:":"02.00% 85.00%",":capricorn:":"02.00% 87.50%",":aquarius:":"02.00% 90.00%",":pisces:":"02.00% 92.50%",":id:":"08.00% 100.00%",":atom_symbol:":"04.00% 25.00%",":u7a7a:":"10.00% 27.50%",":u5272:":"10.00% 42.50%",":radioactive_sign:":"02.00% 42.50%",":biohazard_sign:":"02.00% 45.00%",":mobile_phone_off:":"44.00% 47.50%",":vibration_mode:":"44.00% 45.00%",":u6709:":"10.00% 35.00%",":u7121:":"10.00% 20.00%",":u7533:":"10.00% 40.00%",":u55b6:":"10.00% 45.00%",":u6708:":"10.00% 37.50%",":eight_pointed_black_star:":"08.00% 00.00%",":vs:":"10.00% 12.50%",":accept:":"10.00% 50.00%",":white_flower:":"40.00% 77.50%",":ideograph_advantage:":"10.00% 47.50%",":secret:":"08.00% 72.50%",":congratulations:":"08.00% 70.00%",":u5408:":"10.00% 30.00%",":u6e80:":"10.00% 32.50%",":u7981:":"10.00% 25.00%",":a:":"08.00% 80.00%",":b:":"08.00% 82.50%",":ab:":"08.00% 90.00%",":cl:":"08.00% 92.50%",":o2:":"08.00% 85.00%",":sos:":"10.00% 07.50%",":no_entry:":"04.00% 67.50%",":name_badge:":"42.00% 87.50%",":no_entry_sign:":"60.00% 60.00%",":x:":"08.00% 07.50%",":o:":"08.00% 62.50%",":anger:":"40.00% 35.00%",":hotsprings:":"04.00% 02.50%",":no_pedestrians:":"62.00% 25.00%",":do_not_litter:":"60.00% 70.00%",":no_bicycles:":"60.00% 80.00%",":non-potable_water:":"60.00% 75.00%",":underage:":"46.00% 47.50%",":no_mobile_phones:":"44.00% 50.00%",":exclamation:":"08.00% 20.00%",":grey_exclamation:":"08.00% 17.50%",":question:":"08.00% 12.50%",":grey_question:":"08.00% 15.00%",":bangbang:":"00.00% 05.00%",":interrobang:":"00.00% 07.50%",":100:":"40.00% 80.00%",":low_brightness:":"44.00% 87.50%",":high_brightness:":"44.00% 90.00%",":trident:":"46.00% 95.00%",":fleur_de_lis:":"04.00% 27.50%",":part_alternation_mark:":"08.00% 67.50%",":warning:":"04.00% 30.00%",":children_crossing:":"62.00% 27.50%",":beginner:":"46.00% 92.50%",":recycle:":"04.00% 05.00%",":u6307:":"10.00% 22.50%",":chart:":"42.00% 02.50%",":sparkle:":"08.00% 05.00%",":eight_spoked_asterisk:":"06.00% 100.00%",":eject:":"00.00% 42.50%",":negative_squared_cross_mark:":"08.00% 10.00%",":white_check_mark:":"06.00% 15.00%",":diamond_shape_with_a_dot_inside:":"40.00% 30.00%",":cyclone:":"10.00% 52.50%",":loop:":"08.00% 40.00%",":globe_with_meridians:":"10.00% 92.50%",":m:":"00.00% 80.00%",":atm:":"22.00% 72.50%",":sa:":"10.00% 17.50%",":passport_control:":"62.00% 65.00%",":customs:":"62.00% 67.50%",":baggage_claim:":"62.00% 70.00%",":left_luggage:":"62.00% 72.50%",":wheelchair:":"04.00% 07.50%",":no_smoking:":"60.00% 65.00%",":wc:":"62.00% 42.50%",":parking:":"08.00% 87.50%",":potable_water:":"60.00% 72.50%",":mens:":"62.00% 30.00%",":womens:":"62.00% 32.50%",":baby_symbol:":"62.00% 37.50%",":restroom:":"62.00% 35.00%",":put_litter_in_its_place:":"60.00% 67.50%",":cinema:":"18.00% 52.50%",":signal_strength:":"44.00% 52.50%",":koko:":"10.00% 15.00%",":ng:":"10.00% 02.50%",":ok:":"10.00% 05.00%",":up:":"10.00% 10.00%",":cool:":"08.00% 95.00%",":new:":"10.00% 00.00%",":free:":"08.00% 97.50%",":zero:":"64.00% 70.00%",":one:":"64.00% 72.50%",":two:":"64.00% 75.00%",":three:":"64.00% 77.50%",":four:":"64.00% 80.00%",":five:":"64.00% 82.50%",":six:":"64.00% 85.00%",":seven:":"64.00% 87.50%",":eight:":"64.00% 90.00%",":nine:":"64.00% 92.50%",":keycap_ten:":"46.00% 50.00%",":keycap_star:":"64.00% 67.50%",":1234:":"46.00% 57.50%",":arrow_forward:":"00.00% 87.50%",":double_vertical_bar:":"00.00% 72.50%",":black_right_pointing_triangle_with_double_vertical_bar:":"00.00% 60.00%",":black_square_for_stop:":"00.00% 75.00%",":black_circle_for_record:":"00.00% 77.50%",":black_right_pointing_double_triangle_with_vertical_bar:":"00.00% 55.00%",":black_left_pointing_double_triangle_with_vertical_bar:":"00.00% 57.50%",":fast_forward:":"00.00% 45.00%",":rewind:":"00.00% 47.50%",":twisted_rightwards_arrows:":"44.00% 75.00%",":repeat:":"44.00% 77.50%",":repeat_one:":"44.00% 80.00%",":arrow_backward:":"00.00% 90.00%",":arrow_up_small:":"48.00% 20.00%",":arrow_down_small:":"48.00% 22.50%",":arrow_double_up:":"00.00% 50.00%",":arrow_double_down:":"00.00% 52.50%",":arrow_right:":"08.00% 35.00%",":arrow_left:":"08.00% 47.50%",":arrow_up:":"08.00% 50.00%",":arrow_down:":"08.00% 52.50%",":arrow_upper_right:":"00.00% 22.50%",":arrow_lower_right:":"00.00% 25.00%",":arrow_lower_left:":"00.00% 27.50%",":arrow_upper_left:":"00.00% 20.00%",":arrow_up_down:":"00.00% 17.50%",":left_right_arrow:":"00.00% 15.00%",":arrows_counterclockwise:":"44.00% 85.00%",":arrow_right_hook:":"00.00% 32.50%",":leftwards_arrow_with_hook:":"00.00% 30.00%",":arrow_heading_up:":"08.00% 42.50%",":arrow_heading_down:":"08.00% 45.00%",":hash:":"64.00% 65.00%",":information_source:":"00.00% 12.50%",":abc:":"46.00% 62.50%",":abcd:":"46.00% 55.00%",":capital_abcd:":"46.00% 52.50%",":symbols:":"46.00% 60.00%",":musical_note:":"18.00% 90.00%",":notes:":"18.00% 92.50%",":wavy_dash:":"08.00% 65.00%",":curly_loop:":"08.00% 37.50%",":heavy_check_mark:":"06.00% 87.50%",":arrows_clockwise:":"44.00% 82.50%",":heavy_plus_sign:":"08.00% 27.50%",":heavy_minus_sign:":"08.00% 30.00%",":heavy_division_sign:":"08.00% 32.50%",":heavy_multiplication_x:":"06.00% 90.00%",":heavy_dollar_sign:":"40.00% 87.50%",":currency_exchange:":"40.00% 85.00%",":copyright:":"00.00% 00.00%",":registered:":"00.00% 02.50%",":tm:":"00.00% 10.00%",":end:":"46.00% 37.50%",":back:":"46.00% 35.00%",":on:":"46.00% 40.00%",":top:":"46.00% 45.00%",":soon:":"46.00% 42.50%",":ballot_box_with_check:":"02.00% 15.00%",":radio_button:":"46.00% 32.50%",":white_circle:":"04.00% 35.00%",":black_circle:":"04.00% 37.50%",":red_circle:":"48.00% 00.00%",":large_blue_circle:":"48.00% 02.50%",":small_orange_diamond:":"48.00% 10.00%",":small_blue_diamond:":"48.00% 12.50%",":large_orange_diamond:":"48.00% 05.00%",":large_blue_diamond:":"48.00% 07.50%",":small_red_triangle:":"48.00% 15.00%",":black_small_square:":"00.00% 82.50%",":white_small_square:":"00.00% 85.00%",":black_large_square:":"08.00% 55.00%",":white_large_square:":"08.00% 57.50%",":small_red_triangle_down:":"48.00% 17.50%",":black_medium_square:":"00.00% 95.00%",":white_medium_square:":"00.00% 92.50%",":black_medium_small_square:":"00.00% 100.00%",":white_medium_small_square:":"00.00% 97.50%",":black_square_button:":"46.00% 97.50%",":white_square_button:":"46.00% 100.00%",":speaker:":"44.00% 95.00%",":sound:":"44.00% 97.50%",":loud_sound:":"44.00% 100.00%",":mute:":"44.00% 92.50%",":mega:":"44.00% 05.00%",":loudspeaker:":"44.00% 02.50%",":bell:":"46.00% 22.50%",":no_bell:":"46.00% 25.00%",":black_joker:":"08.00% 77.50%",":mahjong:":"08.00% 75.00%",":spades:":"02.00% 95.00%",":clubs:":"02.00% 97.50%",":hearts:":"02.00% 100.00%",":diamonds:":"04.00% 00.00%",":flower_playing_cards:":"18.00% 87.50%",":thought_balloon:":"40.00% 75.00%",":right_anger_bubble:":"52.00% 30.00%",":speech_balloon:":"40.00% 72.50%",":left_speech_bubble:":"52.00% 27.50%",":clock1:":"48.00% 40.00%",":clock2:":"48.00% 42.50%",":clock3:":"48.00% 45.00%",":clock4:":"48.00% 47.50%",":clock5:":"48.00% 50.00%",":clock6:":"48.00% 52.50%",":clock7:":"48.00% 55.00%",":clock8:":"48.00% 57.50%",":clock9:":"48.00% 60.00%",":clock10:":"48.00% 62.50%",":clock11:":"48.00% 65.00%",":clock12:":"48.00% 67.50%",":clock130:":"48.00% 70.00%",":clock230:":"48.00% 72.50%",":clock330:":"48.00% 75.00%",":clock430:":"48.00% 77.50%",":clock530:":"48.00% 80.00%",":clock630:":"48.00% 82.50%",":clock730:":"48.00% 85.00%",":clock830:":"48.00% 87.50%",":clock930:":"48.00% 90.00%",":clock1030:":"48.00% 92.50%",":clock1130:":"48.00% 95.00%",":clock1230:":"48.00% 97.50%",":flag-ac:":"64.00% 95.00%",":flag-ad:":"64.00% 97.50%",":flag-ae:":"64.00% 100.00%",":flag-af:":"66.00% 00.00%",":flag-ag:":"66.00% 02.50%",":flag-ai:":"66.00% 05.00%",":flag-al:":"66.00% 07.50%",":flag-am:":"66.00% 10.00%",":flag-ao:":"66.00% 12.50%",":flag-aq:":"66.00% 15.00%",":flag-ar:":"66.00% 17.50%",":flag-as:":"66.00% 20.00%",":flag-at:":"66.00% 22.50%",":flag-au:":"66.00% 25.00%",":flag-aw:":"66.00% 27.50%",":flag-ax:":"66.00% 30.00%",":flag-az:":"66.00% 32.50%",":flag-ba:":"66.00% 35.00%",":flag-bb:":"66.00% 37.50%",":flag-bd:":"66.00% 40.00%",":flag-be:":"66.00% 42.50%",":flag-bf:":"66.00% 45.00%",":flag-bg:":"66.00% 47.50%",":flag-bh:":"66.00% 50.00%",":flag-bi:":"66.00% 52.50%",":flag-bj:":"66.00% 55.00%",":flag-bl:":"66.00% 57.50%",":flag-bm:":"66.00% 60.00%",":flag-bn:":"66.00% 62.50%",":flag-bo:":"66.00% 65.00%",":flag-bq:":"66.00% 67.50%",":flag-br:":"66.00% 70.00%",":flag-bs:":"66.00% 72.50%",":flag-bt:":"66.00% 75.00%",":flag-bv:":"66.00% 77.50%",":flag-bw:":"66.00% 80.00%",":flag-by:":"66.00% 82.50%",":flag-bz:":"66.00% 85.00%",":flag-ca:":"66.00% 87.50%",":flag-cc:":"66.00% 90.00%",":flag-cd:":"66.00% 92.50%",":flag-cf:":"66.00% 95.00%",":flag-cg:":"66.00% 97.50%",":flag-ch:":"66.00% 100.00%",":flag-ci:":"68.00% 00.00%",":flag-ck:":"68.00% 02.50%",":flag-cl:":"68.00% 05.00%",":flag-cm:":"68.00% 07.50%",":flag-cn:":"68.00% 10.00%",":flag-co:":"68.00% 12.50%",":flag-cp:":"68.00% 15.00%",":flag-cr:":"68.00% 17.50%",":flag-cu:":"68.00% 20.00%",":flag-cv:":"68.00% 22.50%",":flag-cw:":"68.00% 25.00%",":flag-cx:":"68.00% 27.50%",":flag-cy:":"68.00% 30.00%",":flag-cz:":"68.00% 32.50%",":flag-de:":"68.00% 35.00%",":flag-dg:":"68.00% 37.50%",":flag-dj:":"68.00% 40.00%",":flag-dk:":"68.00% 42.50%",":flag-dm:":"68.00% 45.00%",":flag-do:":"68.00% 47.50%",":flag-dz:":"68.00% 50.00%",":flag-ea:":"68.00% 52.50%",":flag-ec:":"68.00% 55.00%",":flag-ee:":"68.00% 57.50%",":flag-eg:":"68.00% 60.00%",":flag-eh:":"68.00% 62.50%",":flag-er:":"68.00% 65.00%",":flag-es:":"68.00% 67.50%",":flag-et:":"68.00% 70.00%",":flag-eu:":"68.00% 72.50%",":flag-fi:":"68.00% 75.00%",":flag-fj:":"68.00% 77.50%",":flag-fk:":"68.00% 80.00%",":flag-fm:":"68.00% 82.50%",":flag-fo:":"68.00% 85.00%",":flag-fr:":"68.00% 87.50%",":flag-ga:":"68.00% 90.00%",":flag-gb:":"68.00% 92.50%",":flag-gd:":"68.00% 95.00%",":flag-ge:":"68.00% 97.50%",":flag-gf:":"68.00% 100.00%",":flag-gg:":"70.00% 00.00%",":flag-gh:":"70.00% 02.50%",":flag-gi:":"70.00% 05.00%",":flag-gl:":"70.00% 07.50%",":flag-gm:":"70.00% 10.00%",":flag-gn:":"70.00% 12.50%",":flag-gp:":"70.00% 15.00%",":flag-gq:":"70.00% 17.50%",":flag-gr:":"70.00% 20.00%",":flag-gs:":"70.00% 22.50%",":flag-gt:":"70.00% 25.00%",":flag-gu:":"70.00% 27.50%",":flag-gw:":"70.00% 30.00%",":flag-gy:":"70.00% 32.50%",":flag-hk:":"70.00% 35.00%",":flag-hm:":"70.00% 37.50%",":flag-hn:":"70.00% 40.00%",":flag-hr:":"70.00% 42.50%",":flag-ht:":"70.00% 45.00%",":flag-hu:":"70.00% 47.50%",":flag-ic:":"70.00% 50.00%",":flag-id:":"70.00% 52.50%",":flag-ie:":"70.00% 55.00%",":flag-il:":"70.00% 57.50%",":flag-im:":"70.00% 60.00%",":flag-in:":"70.00% 62.50%",":flag-io:":"70.00% 65.00%",":flag-iq:":"70.00% 67.50%",":flag-ir:":"70.00% 70.00%",":flag-is:":"70.00% 72.50%",":flag-it:":"70.00% 75.00%",":flag-je:":"70.00% 77.50%",":flag-jm:":"70.00% 80.00%",":flag-jo:":"70.00% 82.50%",":flag-jp:":"70.00% 85.00%",":flag-ke:":"70.00% 87.50%",":flag-kg:":"70.00% 90.00%",":flag-kh:":"70.00% 92.50%",":flag-ki:":"70.00% 95.00%",":flag-km:":"70.00% 97.50%",":flag-kn:":"70.00% 100.00%",":flag-kp:":"72.00% 00.00%",":flag-kr:":"72.00% 02.50%",":flag-kw:":"72.00% 05.00%",":flag-ky:":"72.00% 07.50%",":flag-kz:":"72.00% 10.00%",":flag-la:":"72.00% 12.50%",":flag-lb:":"72.00% 15.00%",":flag-lc:":"72.00% 17.50%",":flag-li:":"72.00% 20.00%",":flag-lk:":"72.00% 22.50%",":flag-lr:":"72.00% 25.00%",":flag-ls:":"72.00% 27.50%",":flag-lt:":"72.00% 30.00%",":flag-lu:":"72.00% 32.50%",":flag-lv:":"72.00% 35.00%",":flag-ly:":"72.00% 37.50%",":flag-ma:":"72.00% 40.00%",":flag-mc:":"72.00% 42.50%",":flag-md:":"72.00% 45.00%",":flag-me:":"72.00% 47.50%",":flag-mf:":"72.00% 50.00%",":flag-mg:":"72.00% 52.50%",":flag-mh:":"72.00% 55.00%",":flag-mk:":"72.00% 57.50%",":flag-ml:":"72.00% 60.00%",":flag-mm:":"72.00% 62.50%",":flag-mn:":"72.00% 65.00%",":flag-mo:":"72.00% 67.50%",":flag-mp:":"72.00% 70.00%",":flag-mq:":"72.00% 72.50%",":flag-mr:":"72.00% 75.00%",":flag-ms:":"72.00% 77.50%",":flag-mt:":"72.00% 80.00%",":flag-mu:":"72.00% 82.50%",":flag-mv:":"72.00% 85.00%",":flag-mw:":"72.00% 87.50%",":flag-mx:":"72.00% 90.00%",":flag-my:":"72.00% 92.50%",":flag-mz:":"72.00% 95.00%",":flag-na:":"72.00% 97.50%",":flag-nc:":"72.00% 100.00%",":flag-ne:":"74.00% 00.00%",":flag-nf:":"74.00% 02.50%",":flag-ng:":"74.00% 05.00%",":flag-ni:":"74.00% 07.50%",":flag-nl:":"74.00% 10.00%",":flag-no:":"74.00% 12.50%",":flag-np:":"74.00% 15.00%",":flag-nr:":"74.00% 17.50%",":flag-nu:":"74.00% 20.00%",":flag-nz:":"74.00% 22.50%",":flag-om:":"74.00% 25.00%",":flag-pa:":"74.00% 27.50%",":flag-pe:":"74.00% 30.00%",":flag-pf:":"74.00% 32.50%",":flag-pg:":"74.00% 35.00%",":flag-ph:":"74.00% 37.50%",":flag-pk:":"74.00% 40.00%",":flag-pl:":"74.00% 42.50%",":flag-pm:":"74.00% 45.00%",":flag-pn:":"74.00% 47.50%",":flag-pr:":"74.00% 50.00%",":flag-ps:":"74.00% 52.50%",":flag-pt:":"74.00% 55.00%",":flag-pw:":"74.00% 57.50%",":flag-py:":"74.00% 60.00%",":flag-qa:":"74.00% 62.50%",":flag-re:":"74.00% 65.00%",":flag-ro:":"74.00% 67.50%",":flag-rs:":"74.00% 70.00%",":flag-ru:":"74.00% 72.50%",":flag-rw:":"74.00% 75.00%",":flag-sa:":"74.00% 77.50%",":flag-sb:":"74.00% 80.00%",":flag-sc:":"74.00% 82.50%",":flag-sd:":"74.00% 85.00%",":flag-se:":"74.00% 87.50%",":flag-sg:":"74.00% 90.00%",":flag-sh:":"74.00% 92.50%",":flag-si:":"74.00% 95.00%",":flag-sj:":"74.00% 97.50%",":flag-sk:":"74.00% 100.00%",":flag-sl:":"76.00% 00.00%",":flag-sm:":"76.00% 02.50%",":flag-sn:":"76.00% 05.00%",":flag-so:":"76.00% 07.50%",":flag-sr:":"76.00% 10.00%",":flag-ss:":"76.00% 12.50%",":flag-st:":"76.00% 15.00%",":flag-sv:":"76.00% 17.50%",":flag-sx:":"76.00% 20.00%",":flag-sy:":"76.00% 22.50%",":flag-sz:":"76.00% 25.00%",":flag-ta:":"76.00% 27.50%",":flag-tc:":"76.00% 30.00%",":flag-td:":"76.00% 32.50%",":flag-tf:":"76.00% 35.00%",":flag-tg:":"76.00% 37.50%",":flag-th:":"76.00% 40.00%",":flag-tj:":"76.00% 42.50%",":flag-tk:":"76.00% 45.00%",":flag-tl:":"76.00% 47.50%",":flag-tm:":"76.00% 50.00%",":flag-tn:":"76.00% 52.50%",":flag-to:":"76.00% 55.00%",":flag-tr:":"76.00% 57.50%",":flag-tt:":"76.00% 60.00%",":flag-tv:":"76.00% 62.50%",":flag-tw:":"76.00% 65.00%",":flag-tz:":"76.00% 67.50%",":flag-ua:":"76.00% 70.00%",":flag-ug:":"76.00% 72.50%",":flag-um:":"76.00% 75.00%",":flag-us:":"76.00% 77.50%",":flag-uy:":"76.00% 80.00%",":flag-uz:":"76.00% 82.50%",":flag-va:":"76.00% 85.00%",":flag-vc:":"76.00% 87.50%",":flag-ve:":"76.00% 90.00%",":flag-vg:":"76.00% 92.50%",":flag-vi:":"76.00% 95.00%",":flag-vn:":"76.00% 97.50%",":flag-vu:":"76.00% 100.00%",":flag-wf:":"78.00% 00.00%",":flag-ws:":"78.00% 02.50%",":flag-xk:":"78.00% 05.00%",":flag-ye:":"78.00% 07.50%",":flag-yt:":"78.00% 10.00%",":flag-za:":"78.00% 12.50%",":flag-zm:":"78.00% 15.00%",":flag-zw:":"78.00% 17.50%"},la=[":d",":')",":-*","/-heart","/-strong",":3","--b",":b",";d",":~",":>",";p",":*",";o",":((",":))",":)",":p",":$",":-h",":-((","x-)","8-)",";-d",":q",":(","b-)",";?",":|",";xx",":--|",";g",":o",":z",":l","p-(",":-bye",":x","|-)",":wipe",":!","8*",":-dig",":t","&-(",":-|",":handclap",">-|",":-f",":-l",":-r","/-showlove",";-x",":-o",";-s",";8","8*)",";!",";f",":;",":+",";-a",":-<",";-!","/-beer","/-coffee","/-rose","/-fade","/-bd","/-bome","/-cake","/-break","/-shit","/-li","/-weak","/-ok","/-v","/-thanks","/-punch","/-share","/-jj","/-no","/-bad","/-loveu","/-flag"],ua={},da=function(){return 0===Object.entries(ua).length&&la.forEach((function(e){var t=Object.entries(ia).find((function(t){return t[0]===e}));if(t){var n=t[0],a=t[1];ua[n]=a}})),ua},fa=Object(i.c)((function(e){return{sticker:e.sticker}}),(function(e){return{sendStickerMessage:function(t){return e(Ut(t))},sendEmojiMessage:function(t){return e(qt(t))}}}))((function(e){var t=e.sticker,n=e.isShow,a=e.sendStickerMessage,c=e.sendEmojiMessage,s=t.categoriesRender,o=t.stickerMap,i=Object(r.useState)("STICKER"),u=Object(l.a)(i,2),d=u[0],f=u[1],g=function(e){e.stopPropagation(),f("STICKER"===d?"EMOJI":"STICKER")},p=n?"":"is-hidden",h="STICKER"===d,b=!h;return Object(Xn.jsxs)("div",{id:"modal-emoji-id",className:"modal-emoji ".concat(p," "),children:[Object(Xn.jsxs)("div",{className:"modal-header tab",children:[Object(Xn.jsx)("button",{className:"tablinks ".concat(h&&"active"),onClick:function(e){return g(e)},children:"STICKER"}),Object(Xn.jsx)("button",{className:"tablinks ".concat(b&&"active"),onClick:function(e){return g(e)},children:"EMOJI"})]}),Object(Xn.jsx)("hr",{className:"hr-solid"}),Object(Xn.jsx)("div",{id:"Sticker",className:"modal-content grid-container tabcontent ".concat(!h&&"is-hidden"," "),children:s.data.map((function(e){var t=o[e.id];return t?Object.keys(t.data).map(Number).map((function(n){var r=t.data[n];return r?Object(Xn.jsx)("div",{className:"grid-item",onClick:function(){return function(e){a(e)}({id:n,catId:e.id,type:7})},children:Object(Xn.jsx)("img",{className:"sticker",src:r,alt:""})},n):null})).filter((function(e){return null!=e})):null}))}),Object(Xn.jsx)("div",{id:"Emoji",className:"modal-content grid-container tabcontent ".concat(!b&&"is-hidden"," "),children:function(){var e=da();return Object.entries(e).map((function(e){var t=e[0],n=e[1];return Object(Xn.jsx)("div",{className:"grid-item",onClick:function(){return function(e){c(e)}(t)},children:Object(Xn.jsx)(oa,{keyword:t,position:n})},t)})).filter((function(e){return null!=e}))}()})]})}));const ga=Object(i.c)((e=>({appState:e.app})),(e=>({sendTextMessage:t=>e(qt(t)),sendPhotoMessage:(t,n)=>e(At(t,n)),sendVideoMessage:(t,n)=>e(Rt(t,n)),sendFileMessage:(t,n)=>e(Pt(t)),sendTypingTextMessage:t=>e(function(e){return function(){var t=Object(d.a)(Object(u.a)().mark((function t(n,a,r){var c,s,o,i,l,d;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r.zchatService,s=a().session.conversationId){t.next=5;break}return t.abrupt("return");case 5:o=a().session,i=o.zoaw_enk,l=o.service_map,d=o.encrWzuId;try{c.sendTyping(l.message,{toId:s,type:e,fdata:"",wzuId:d},i)}catch(n){}case 7:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()}(t))})));var pa=ga((e=>{let{appState:t,sendTextMessage:n,sendPhotoMessage:a,sendVideoMessage:c,sendFileMessage:s,sendTypingTextMessage:o,onToggleFooterView:i,parentUrl:l}=e;const[u,d]=Object(r.useState)(!1),[f,g]=Object(r.useState)(!1),[p,h]=Object(r.useState)(!1),b=Object(r.useRef)(null),m=Object(r.useRef)(null),[v,j]=Object(r.useState)({text:"",lastTypingTime:0}),_=()=>{const e=v.text.trim();""!==e&&(n(e),j({text:"",lastTypingTime:0}),Wn.logSendMessage())};Object(r.useEffect)((()=>{let e=document.getElementsByClassName("modal-emoji")[0];document.addEventListener("click",(function(t){e.contains(t.target)||t.target===document.getElementsByClassName("ic-sticker")[0]||d(!1)})),window.addEventListener("focus",(()=>{h(!1)}))}));const w=()=>new Promise(((e,t)=>{const n=()=>e(!1);try{localStorage.length||(localStorage.setItem("inPrivate","0"),localStorage.removeItem("inPrivate")),n()}catch(a){e(!0)}return n()}));Object(r.useEffect)((()=>{try{w().then((function(e){if(e)g(!0);else{const e=localStorage.getItem("hintChat_0"),t=localStorage.getItem("hintChat_1");switch([e,t,localStorage.getItem("hintChat_2")].indexOf(null)){case 0:localStorage.setItem("hintChat_0",l),g(!0);break;case 1:e!==l&&(localStorage.setItem("hintChat_1",l),g(!0));break;case 2:e!==l&&t!==l&&(localStorage.setItem("hintChat_2",l),g(!0))}}}))}catch(e){g(!0)}}),[]),Object(r.useEffect)((()=>{var e;t.shouldShowBox&&(null===b||void 0===b||null===(e=b.current)||void 0===e||e.focus())}),[t.shouldShowBox]);const{t:O}=Object(Gn.a)();return Object(Xn.jsxs)("div",{className:"input-wrapper",children:[Object(Xn.jsx)("div",{className:"hint-input ".concat(f?"hint-input--active":""),children:"Nh\u1eadp c\xe2u h\u1ecfi c\u1ee7a b\u1ea1n t\u1ea1i \u0111\xe2y"}),Object(Xn.jsx)("div",{className:"icon-wrapper button btn-show"}),Object(Xn.jsx)("input",{ref:b,onKeyDown:e=>{"Enter"===e.key&&_()},onChange:e=>{const t=Date.now();let n=v.lastTypingTime;t-v.lastTypingTime>=M.showTypingDuration&&(o(Oe.Text),n=t),j({text:e.target.value,lastTypingTime:n})},value:v.text,type:"text",placeholder:O("chatbox.placeholder")}),Object(Xn.jsx)("label",{className:"icon-btn ".concat(p&&"active"),htmlFor:"input-file",onClick:()=>{h(!p)},children:Object(Xn.jsx)("i",{className:"fal fa-paperclip button"})}),Object(Xn.jsx)("div",{className:"attachted-wrapper",children:Object(Xn.jsx)("input",{ref:m,style:{display:"none"},onChange:e=>{const{files:t}=e.target;if(t&&0!==t.length){for(let e=0;e<t.length;e++){const n=t[e];Kn(n.type)?a(n,""):Yn(n.type)?c(n,""):s(n,"")}m&&m.current&&(m.current.value="")}},name:"file",id:"input-file",multiple:!0,type:"file"})}),Object(Xn.jsx)("label",{className:"icon-btn ".concat(u&&"active"),onClick:()=>{d(!u)},children:Object(Xn.jsx)("i",{className:"icon ic-sticker button",children:Object(Xn.jsx)(fa,{isShow:u})})})]})})),ha=Object(i.c)((function(e){return{}}),(function(e){return{onSendHashtagMessage:function(t){return e((n=t,function(){var e=Object(d.a)(Object(u.a)().mark((function e(t,a,r){var c;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Date.now(),e.prev=1,e.next=4,Vt(n,c,t,a,r);case 4:oe(e.sent)||Yt(a(),c,t,G.Error),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),Yt(a(),c,t,G.Error);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n,a){return e.apply(this,arguments)}}()));var n}}})),ba=ha((function(e){var t,n,a,c=e.subMenu,s=e.onSendHashtagMessage,o=Object(r.useRef)(null),i=Object(r.useState)(!1),u=Object(l.a)(i,2),d=u[0],f=u[1];Object(r.useEffect)((function(){function e(e){o.current&&!o.current.contains(e.target)&&f(!1)}return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[o]);var g=Object(r.useCallback)((function(e){e&&e.startsWith("#")&&s(e)}),[s]),p=Object(r.useCallback)((function(){var e;Je(c.menuData)?window.open(c.menuData,"_blank"):null!==(e=c.listSubMenu)&&void 0!==e&&e.length?f(!d):g(c.menuData)}),[d,c,g]),h=Object(r.useCallback)((function(e){Je(e)?window.open(e,"_blank"):g(e)}),[g]);return Object(Xn.jsxs)("div",{className:"menu-item same-width".concat(null!==(t=c.listSubMenu)&&void 0!==t&&t.length?" drop-up":""),ref:o,onClick:p,children:[Object(Xn.jsx)("span",{className:"one-line button",children:c.menuName}),!(null===(n=c.listSubMenu)||void 0===n||!n.length)&&Object(Xn.jsxs)(Xn.Fragment,{children:[Object(Xn.jsx)("div",{className:"collapse circle-icon",children:Object(Xn.jsx)("i",{className:"icon ".concat(d?"ic-arrow-down":"ic-arrow-up")})}),Object(Xn.jsxs)("div",{className:"drop-up-content",style:{display:d?"block":"none"},children:[null===(a=c.listSubMenu)||void 0===a?void 0:a.map((function(e){return Object(Xn.jsx)("a",{onClick:function(){return h(e.subMenuData)},children:e.subMenuName},e.subMenuId)})),Object(Xn.jsx)("div",{className:"arrow-down-triangle"})]})]})]})})),ma=(n(295),function(e){var t=e.oaMenu,n=e.onToggleFooterView;return t&&t.length?Object(Xn.jsxs)("div",{className:"menu-wrapper footer",children:[Object(Xn.jsx)("div",{className:"menu-wrapper__left",children:Object(Xn.jsx)(aa,{iconName:"ic-keyboard-line",handleClick:n})}),Object(Xn.jsx)("div",{className:"menu-wrapper__right",children:Object(Xn.jsx)("div",{className:"action-container",children:t.map((function(e){return Object(Xn.jsx)(ba,{subMenu:e},e.menuId)}))})})]}):null}),va=function(e){var t=e.msg;return Object(Xn.jsx)(Xn.Fragment,{children:function(){if(t){if(!function(e){var t=Object.entries(da()).find((function(t){var n=t[0];return e.toLowerCase().includes(n)}));return t?{keyword:t[0],position:t[1]}:null}(t))return t;var e=function(e,t){var n=[e];return t.sort((function(e,t){return t.keyword.length-e.keyword.length})),t.forEach((function(e){return n=function(e,n){return e.flatMap((function(e){if(t.find((function(t){return t.keyword===e})))return[e];for(var a=e.split(n.keyword),r=1;r<a.length;r+=2)a.splice(r,0,n.keyword);return a}))}(n,e)})),n.map((function(e){return function(e){var n=t.find((function(t){return t.keyword===e}));return Object(Xn.jsxs)(Xn.Fragment,{children:[n&&Object(Xn.jsx)(oa,{className:"zemoji",keyword:n.keyword,position:n.position}),!n&&e]})}(e)})).concat()},n=function(t){var n=function(e){var t=[];return Object.entries(da()).forEach((function(n){var a=n[0];e.toLowerCase().includes(a)&&t.push({keyword:n[0],position:n[1]})})),t.length?t:null}(t);return Object(Xn.jsxs)(Xn.Fragment,{children:[n&&e(t,n),!n&&t," "]})};return t.split(" ").map((function(e,t){var a=n(e);return Object(Xn.jsx)(c.a.Fragment,{children:a},t)})).concat()}}()})},ja=Object(i.c)((function(e){var t,n;return{replyingMessage:e.messaging.replyingMsg,oaName:null===(t=e.app.oaInfo)||void 0===t?void 0:t.name,oaMenu:null===(n=e.app.oaInfo)||void 0===n?void 0:n.oaMenu}}),(function(e){return{removeReplyingMessage:function(){return e(Lt())}}}))((function(e){var t=e.replyingMessage,n=(e.oaName,e.oaMenu),a=e.removeReplyingMessage,c=e.showMessageView,s=e.parentUrl,o=Object(r.useState)(!1),i=Object(l.a)(o,2),u=i[0],d=i[1],f=Object(r.useCallback)((function(){null!==n&&void 0!==n&&n.length&&d(!u)}),[u,null===n||void 0===n?void 0:n.length]),g=function(e){mt.a.changeLanguage(e)},p=function(){a()},h=Object(Gn.a)().t;return t&&u&&d(!1),Object(Xn.jsx)("div",{className:"box__footer",children:Object(Xn.jsxs)("div",{className:"footer-wrapper",children:[c&&t&&function(){if(t){var e=vt(t)||"";switch(t.msgType){case _e.Text:return function(e,t){return Object(Xn.jsx)("div",{className:"reply-wrapper",children:Object(Xn.jsx)("div",{className:"card__reply",children:Object(Xn.jsxs)("div",{className:"reply is-flex fs-13",children:[Object(Xn.jsxs)("div",{className:"reply__info",children:[Object(Xn.jsxs)("p",{className:"reply__name",children:["Tr\u1ea3 l\u1eddi ",Object(Xn.jsx)("span",{className:"text-bold",children:t})]}),Object(Xn.jsx)("div",{className:"reply__content has-one-line",children:Object(Xn.jsx)(va,{msg:e})})]}),Object(Xn.jsx)("i",{className:"icon ic-close",onClick:p})]})})})}(t.content,e);case _e.Photo:return function(e,t){return Object(Xn.jsx)("div",{className:"reply-wrapper",children:Object(Xn.jsx)("div",{className:"card__reply",children:Object(Xn.jsxs)("div",{className:"reply is-flex fs-13",children:[Object(Xn.jsx)("figure",{className:"reply__image image",children:Object(Xn.jsx)("img",{src:e.href,alt:""})}),Object(Xn.jsxs)("div",{className:"reply__info",children:[Object(Xn.jsxs)("p",{className:"reply__name",children:[h("reply.reply")," ",Object(Xn.jsx)("span",{className:"text-bold",children:t})]}),Object(Xn.jsxs)("div",{className:"reply__content has-one-line",children:["[",h("reply.image"),"]"]})]}),Object(Xn.jsx)("i",{className:"icon ic-close",onClick:p})]})})})}(t.content,e);case _e.Video:return function(e,t){return Object(Xn.jsx)("div",{className:"reply-wrapper",children:Object(Xn.jsx)("div",{className:"card__reply",children:Object(Xn.jsxs)("div",{className:"reply is-flex fs-13",children:[Object(Xn.jsx)("figure",{className:"reply__image image",children:Object(Xn.jsx)("img",{src:e.thumb,alt:""})}),Object(Xn.jsxs)("div",{className:"reply__info",children:[Object(Xn.jsxs)("p",{className:"reply__name",children:[h("reply.reply")," ",Object(Xn.jsx)("span",{className:"text-bold",children:t})]}),Object(Xn.jsxs)("div",{className:"reply__content has-one-line",children:["[",h("reply.video"),"]"]})]}),Object(Xn.jsx)("i",{className:"icon ic-close",onClick:p})]})})})}(t.content,e);case _e.File:return function(e,t){return Object(Xn.jsx)("div",{className:"reply-wrapper",children:Object(Xn.jsx)("div",{className:"card__reply",children:Object(Xn.jsxs)("div",{className:"reply is-flex fs-13",children:[Object(Xn.jsx)("figure",{className:"reply__image image",children:Object(Xn.jsx)("i",{className:"icon ic-file-grey"})}),Object(Xn.jsxs)("div",{className:"reply__info",children:[Object(Xn.jsxs)("p",{className:"reply__name",children:[h("reply.reply")," ",Object(Xn.jsx)("span",{className:"text-bold",children:t})]}),Object(Xn.jsxs)("div",{className:"reply__content has-one-line",children:["[",h("reply.file"),"] ",e.title]})]}),Object(Xn.jsx)("i",{className:"icon ic-close",onClick:p})]})})})}(t.content,e);case _e.Sticker:return function(e,t){return Object(Xn.jsx)("div",{className:"reply-wrapper",children:Object(Xn.jsx)("div",{className:"card__reply",children:Object(Xn.jsxs)("div",{className:"reply is-flex fs-13",children:[Object(Xn.jsx)("figure",{className:"reply__image image",children:Object(Xn.jsx)("img",{src:kt(e),alt:""})}),Object(Xn.jsxs)("div",{className:"reply__info",children:[Object(Xn.jsxs)("p",{className:"reply__name",children:[h("reply.reply")," ",Object(Xn.jsx)("span",{className:"text-bold",children:t})]}),Object(Xn.jsxs)("div",{className:"reply__content has-one-line",children:["[",h("reply.sticker"),"]"]})]}),Object(Xn.jsx)("i",{className:"icon ic-close",onClick:p})]})})})}(t.content,e);case _e.Chat_Recommeneded:return function(e,t){return Object(Xn.jsx)("div",{className:"reply-wrapper",children:Object(Xn.jsx)("div",{className:"card__reply",children:Object(Xn.jsxs)("div",{className:"reply is-flex fs-13",children:[Object(Xn.jsx)("figure",{className:"reply__image image",children:Object(Xn.jsx)("img",{src:e.thumb,alt:""})}),Object(Xn.jsxs)("div",{className:"reply__info",children:[Object(Xn.jsxs)("p",{className:"reply__name",children:[h("reply.reply")," ",Object(Xn.jsx)("span",{className:"text-bold",children:t})]}),Object(Xn.jsxs)("div",{className:"reply__content has-one-line wb-break-all",children:["[",h("reply.link"),"] ",e.href]})]}),Object(Xn.jsx)("i",{className:"icon ic-close",onClick:p})]})})})}(t.content,e)}}}(),c&&!u&&Object(Xn.jsx)(pa,{onToggleFooterView:f,parentUrl:s}),c&&u&&Object(Xn.jsx)(ma,{oaMenu:n,onToggleFooterView:f}),!c&&Object(Xn.jsx)("div",{className:"footer-wrapper",children:Object(Xn.jsxs)("div",{className:"language-change-wrapper",children:[Object(Xn.jsx)("div",{className:"vi"===mt.a.language?"zbtn zbtn-info":"zbtn zbtn-clear",onClick:function(){return g("vi")},children:h("lang.vie")}),Object(Xn.jsx)("div",{className:"en"===mt.a.language?"zbtn zbtn-info":"zbtn zbtn-clear",onClick:function(){return g("en")},children:h("lang.eng")})]})})]})})})),_a=function(){var e=document.getElementsByClassName("card__reaction");Array.from(e).forEach((function(e){return e.classList.add("is-hidden")}))},wa=function(e){var t=e.msgData,n=e.msgInfo,a=e.handleReplyMessage;e.hanldeReactMessage,Object(r.useRef)(null);c.a.useEffect((function(){return window.addEventListener("click",_a),function(){window.removeEventListener("click",_a)}}),[]);var s,o=!1,i=(s=n).state===G.Sent||s.state===G.Delivered||s.state===G.Seen;return Object(Xn.jsxs)(Xn.Fragment,{children:[Object(Xn.jsxs)("div",{className:"card__actionholder",children:[o,i&&Object(Xn.jsx)("a",{className:"btn-wrapper",onClick:function(){a(t)},children:Object(Xn.jsx)("i",{className:"icon ic-reply"})})]}),o]})},Oa=function(e){var t,n=e.children,a=e.msgData,c=e.msgInfo,s=e.readonly,o=e.doResend,i=e.doQuote,u=Object(r.useRef)(null),d=Object(r.useState)(!1),f=Object(l.a)(d,2),g=f[0],p=f[1],h=_t(a),b=yt(c),m=(t=a,[_e.Text,_e.Reaction,_e.Sticker,_e.Chat_Recommeneded].find((function(e){return e===t.msgType})));return Object(Xn.jsxs)("div",{className:"card__wrapper",ref:u,onMouseOver:function(){return p(!0)},onMouseOut:function(e){return function(e){var t,n=e.relatedTarget;null!==(t=u.current)&&void 0!==t&&t.contains(n)||p(!1)}(e)},children:[Object(Xn.jsxs)("div",{className:"message__content",children:[Object(Xn.jsx)(Xn.Fragment,{children:n}),h&&b&&m&&Object(Xn.jsx)("a",{className:"btn-resend",onClick:function(){o(a,c)},children:Object(Xn.jsx)("i",{className:"fal fa-redo",style:{color:"white"}})})]}),!s&&g&&Object(Xn.jsx)(wa,{msgData:a,msgInfo:c,handleReplyMessage:function(){i(a)},hanldeReactMessage:function(){}})]})},ya=function(e){var t=e.msgData,n=e.msgInfo,a=e.isHidden,r=Object(Gn.a)().t,c=Object(Xn.jsxs)("div",{className:"status-container",children:[Object(Xn.jsx)("i",{className:"icon-stt ic-check"})," "," ",r("messagestatus.sent")]}),s=Object(Xn.jsxs)("div",{className:"status-container",children:[Object(Xn.jsx)("i",{className:"icon-stt ic-double-check",children:" "})," "," ",r("messagestatus.received")]}),o=Object(Xn.jsxs)("div",{className:"status-container",children:[Object(Xn.jsx)("i",{className:"icon-stt ic-seen"})," "," \u0110\xe3 xem"]}),i=Object(Xn.jsxs)("div",{className:"status-container",children:[Object(Xn.jsx)("i",{className:"fal fa-clock"})," "," ",r("messagestatus.sending")]}),l=Object(Xn.jsxs)("div",{className:"status-container text-warning",children:[Object(Xn.jsx)("i",{className:"fal fa-exclamation-circle"})," "," ",r("messagestatus.error")]}),u=Object(Xn.jsxs)("div",{className:"status-container text-warning",children:[Object(Xn.jsx)("i",{className:"fal fa-exclamation-circle"})," "," ",r("messagestatus.errorTooBigFile")]}),d=Object(Xn.jsxs)("div",{className:"status-container text-warning",children:[Object(Xn.jsx)("i",{className:"fal fa-exclamation-circle"})," "," ",r("messagestatus.errorTooBigPhoto")]}),f=n.state;if(f===G.Sending)return i;if(f===G.Uploading)return i;if(f===G.Error)return l;if(f===G.ErrorTooBigFile)return u;if(f===G.ErrorTooBigPhoto)return d;if(a||!function(e){var t=bt;return _t(e)&&e.cliMsgId===t.getState().messaging.myLastMsgId}(t)||function(e){var t=bt.getState().messaging,n=t.messagesInfo[e.cliMsgId].index,a=t.messages[n+1];return!!a&&e.srcId!==a.srcId}(t))return Object(Xn.jsx)(Xn.Fragment,{});switch(f){case G.Sent:return c;case G.Delivered:return s;case G.Seen:return o;default:return Object(Xn.jsx)(Xn.Fragment,{})}},ka=Object(i.c)((function(e){return{}}),(function(e){return{sendTextMessage:function(t,n){return e(qt(t,n))},sendStickerMessage:function(t){return e(Ut(t))},replyMessage:function(t){return e({type:B,payload:{message:t}})}}}))((function(e){var t=e.children,n=e.msgData,a=e.msgInfo,r=e.readonly,c=e.sendTextMessage,s=e.sendStickerMessage,o=e.replyMessage;return Object(Xn.jsxs)("div",{className:"card",children:[Object(Xn.jsx)(Oa,{msgData:n,msgInfo:a,doResend:function(e,t){if(yt(t))switch(e.msgType){case _e.Text:case _e.Reaction:case _e.Chat_Recommeneded:var n,a=e.content,r=null===(n=e.quote)||void 0===n?void 0:n.quotedMessage;c(a,r);break;case _e.Sticker:var o=e.content,i=o.catId,l=o.id;s({id:l,catId:i,type:7})}},doQuote:function(){o(n)},readonly:r,children:t}),Object(Xn.jsx)(ya,{isHidden:r,msgData:n,msgInfo:a})]})})),xa=function(e){var t=e.msgData,n=e.msgInfo,a=e.readonly,c=Object(r.useState)(""),s=Object(l.a)(c,2),o=s[0],i=s[1],u=Object(r.useState)(!0),d=Object(l.a)(u,2),f=d[0],g=d[1],p=Object(r.useRef)(null),h=null===t||void 0===t?void 0:t.content,b=""!==h.parsedParams.m4a?h.parsedParams.m4a:h.hrefs[0];b=function(e,t){var n=e.replace("https","http").replace("http","https");return n.endsWith(".amr")?"https://cache.voice.talk.zdn.vn/mp3?url=".concat(encodeURIComponent(n),"&msgid=").concat(t):n}(b,null===t||void 0===t?void 0:t.msgId);return Object(Xn.jsx)(ka,{msgData:t,msgInfo:n,readonly:a,children:Object(Xn.jsxs)("div",{className:"card__content inline",children:[f?Object(Xn.jsx)("img",{className:"clickable",src:"/static/images/ic-playable.svg",alt:""}):Object(Xn.jsx)("img",{className:"clickable",src:"/static/images/icon-pause.svg",alt:""}),Object(Xn.jsx)("img",{className:"sound-bar",src:"/static/images/ic-voice-bar.svg",alt:""}),Object(Xn.jsx)("span",{children:o}),Object(Xn.jsx)("audio",{id:"voice",controls:!0,ref:p,onLoadedData:function(){var e,t,n=null!==(e=null===p||void 0===p||null===(t=p.current)||void 0===t?void 0:t.duration)&&void 0!==e?e:0,a=new Date(1e3*n),r=function(e){return e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})},c=r(a.getMinutes()),s=r(a.getSeconds());i(c+":"+s)},onEnded:function(){return g(!0)},style:{display:"none"},children:Object(Xn.jsx)("source",{src:b,type:"audio/mp4"})})]})})},Ia=Object(i.c)((function(e){return{}}),(function(e){return{loadHistoryChat:function(t){return e(function(e){return function(){var t=Object(d.a)(Object(u.a)().mark((function t(n){var a;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=ye.createLoadHistoryChat({conversationId:e}),n(Cn(a)),t.abrupt("return",ae.Success);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}})),Sa=Ia((function(e){var t=e.msgData,n=e.msgInfo,a=e.loadHistoryChat,c=Object(Gn.a)().t,s=t.content,o=s.totalMsg||"0",i=Object(r.useCallback)((function(){a(s.conversationId);var e,t,n,r=window.zsp_max_width,c=window.zsp_max_height;e=r,t=c,n=!0,window.onChangeSizeIframe(e,t,n)}),[s,a]);return Object(Xn.jsx)(ka,{msgData:t,msgInfo:n,readonly:!0,children:Object(Xn.jsxs)("div",{className:"card__content card__history",children:[Object(Xn.jsxs)("div",{children:[Object(Xn.jsxs)("h3",{children:[c("chathistory.title"),"."]}),1===Number(o)?Object(Xn.jsx)("p",{children:"".concat(o," ").concat(c("chathistory.oldmessage"))}):Object(Xn.jsx)("p",{children:"".concat(o," ").concat(c("chathistory.oldmessages"))})]}),Object(Xn.jsx)("div",{className:"hr-solid is-margin-topbot"}),Object(Xn.jsx)("div",{className:"zbtn zbtn-primary",onClick:i,children:c("chathistory.view")})]})})})),Na=function(e){var t=e.msgData,n=e.msgInfo,a=e.readonly,s=Object(r.useState)(!1),o=Object(l.a)(s,2),i=o[0],u=o[1],d=Object(r.useRef)(null);c.a.useEffect((function(){var e=function(){document.fullscreenElement||u(!1)},t=d.current;return null===t||void 0===t||t.addEventListener("fullscreenchange",e),function(){null===t||void 0===t||t.removeEventListener("visibilitychange",e)}}),[]);var f=t.content;return Object(Xn.jsxs)(ka,{msgData:t,msgInfo:n,readonly:a,children:[Object(Xn.jsx)("figure",{className:"card__image image button",onClick:function(){var e;u(!0),null===(e=d.current)||void 0===e||e.requestFullscreen()},children:Object(Xn.jsx)("img",{src:f.href,alt:f.description})}),Object(Xn.jsx)("div",{ref:d,className:"image-container",children:Object(Xn.jsx)("div",{className:" modal ".concat(i?"show":"hide"," "),children:Object(Xn.jsx)("div",{className:"modal-content",ref:d,children:Object(Xn.jsx)("div",{children:Object(Xn.jsx)("img",{src:f.href,alt:f.description})})})})})]})},za=function(e){var t,n,a=e.msgData,r=e.msgInfo,c=e.thumb,s=e.qmsg,o=Object(Gn.a)().t,i=a.content,l=(null===(t=a.quote)||void 0===t?void 0:t.cliMsgType)===_e.File?Object(Xn.jsx)("i",{className:"icon ic-file"}):Object(Xn.jsx)("img",{src:c,alt:""}),u=jt(a);return Object(Xn.jsxs)("div",{className:"card__content ".concat(Ot(r)),children:[Object(Xn.jsxs)("div",{className:"card__reply is-flex fs-13",children:[Object(Xn.jsx)("figure",{className:"card__reply__image image",children:l}),Object(Xn.jsxs)("div",{className:"card__reply__wrapper",children:[Object(Xn.jsxs)("p",{className:"card__reply__name",children:[o("reply.reply")," ",Object(Xn.jsx)("span",{className:"text-bold",children:u})]}),Object(Xn.jsx)("div",{className:"card__reply__content has-one-line",children:s||(null===(n=a.quote)||void 0===n?void 0:n.message)})]})]}),Object(Xn.jsx)("span",{children:i})]})},Ca=function(e){var t,n=e.msgData,a=e.msgInfo,r=(e.stickerMap,null===(t=n.quote)||void 0===t?void 0:t.parsedAttach),c=kt(r);return Object(Xn.jsx)(za,{msgData:n,msgInfo:a,thumb:c,qmsg:"[Sticker]"})},Ma=function(e){var t,n=e.msgData,a=e.msgInfo,r=Object(Gn.a)().t,c=n.content,s=jt(n);return Object(Xn.jsxs)("div",{className:"card__content ".concat(Ot(a)),children:[Object(Xn.jsxs)("div",{className:"card__reply fs-13",children:[Object(Xn.jsxs)("p",{className:"card__reply__name",children:[r("reply.reply")," ",Object(Xn.jsx)("span",{className:"text-bold",children:s})]}),Object(Xn.jsx)("div",{className:"card__reply__content has-one-line",children:Object(Xn.jsx)(va,{msg:null===(t=n.quote)||void 0===t?void 0:t.message})})]}),Object(Xn.jsx)(va,{msg:c})]})},Ea=function(e){var t=e.msgData,n=e.msgInfo,a=e.stickerMap,r=e.readonly;return Object(Xn.jsx)(ka,{msgData:t,msgInfo:n,readonly:r,children:function(){var e;switch(null===(e=t.quote)||void 0===e?void 0:e.cliMsgType){case _e.Text:return Object(Xn.jsx)(Ma,{msgData:t,msgInfo:n});case _e.Video:var r,c=null===(r=t.quote)||void 0===r?void 0:r.parsedAttach;return Object(Xn.jsx)(za,{msgData:t,msgInfo:n,qmsg:"[Video]",thumb:c.thumb});case _e.Photo:var s,o=null===(s=t.quote)||void 0===s?void 0:s.parsedAttach;return Object(Xn.jsx)(za,{msgData:t,msgInfo:n,qmsg:"[Image]",thumb:o.href});case _e.Chat_Recommeneded:var i,l=null===(i=t.quote)||void 0===i?void 0:i.parsedAttach,u=(null===l||void 0===l?void 0:l.thumb)||"",d="[Link] ".concat((null===l||void 0===l?void 0:l.href)||"");return Object(Xn.jsx)(za,{msgData:t,msgInfo:n,qmsg:d,thumb:u});case _e.Sticker:return Object(Xn.jsx)(Ca,{msgData:t,msgInfo:n,stickerMap:a});case _e.File:var f,g=null===(f=t.quote)||void 0===f?void 0:f.parsedAttach;return Object(Xn.jsx)(za,{msgData:t,msgInfo:n,qmsg:"[File] ".concat(null===g||void 0===g?void 0:g.title),thumb:null===g||void 0===g?void 0:g.href});default:return Object(Xn.jsx)(Xn.Fragment,{})}}()})},Ta=function(e){var t,n,a,r,c=e.msgData,s=e.msgInfo,o=e.readonly,i=c.content;return Object(Xn.jsx)(ka,{msgData:c,msgInfo:s,readonly:o,children:Object(Xn.jsx)("div",{className:"card__content back-ground-grey",children:Object(Xn.jsxs)("div",{className:"card__link",children:[i.message?i.message.split(" ").map((function(e,t){return 0===e.indexOf("http://")||0===e.indexOf("https://")?Object(Xn.jsx)("a",{href:i.href,className:"mb-8 link color-blue",rel:"noreferrer",target:"_blank",children:0===t?e:" ".concat(e)},t):Object(Xn.jsx)("span",{style:{color:"black",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:0===t?e:" ".concat(e)},t)})):Object(Xn.jsx)("a",{href:i.href,className:"mb-8 link color-blue",rel:"noreferrer",target:"_blank",children:i.href}),Object(Xn.jsxs)("a",{href:i.href,rel:"noreferrer",target:"_blank",children:[Object(Xn.jsx)("figure",{className:"image is-ratio mb-8",children:Object(Xn.jsx)("img",{src:i.thumb,alt:""})}),Object(Xn.jsxs)("div",{className:"link-desc",children:[(null===(t=i.parsedParams)||void 0===t?void 0:t.src)&&Object(Xn.jsx)("p",{className:"color-blue mb-4 fs-12",children:Ke(null===(n=i.parsedParams)||void 0===n?void 0:n.src)}),(null===(a=i.parsedParams)||void 0===a?void 0:a.mediaTitle)&&Object(Xn.jsx)("p",{className:"title color-black text-bold mb-4",children:null===(r=i.parsedParams)||void 0===r?void 0:r.mediaTitle}),i.description&&Object(Xn.jsx)("p",{className:"content color-grey fs-12",children:i.description})]})]})]})})})},Da=function(e){var t=e.msgData,n=e.msgInfo,a=e.readonly;return t.content.action===we.Link?Object(Xn.jsx)(Ta,{msgData:t,msgInfo:n,readonly:a}):Object(Xn.jsx)("div",{children:"Ch\u01b0a h\u1ed7 tr\u1ee3 lo\u1ea1i tin nh\u1eafn n\xe0y!"})},Pa=function(e){var t,n=e.msgData,a=e.msgInfo,r=e.readonly,c=n.content,s=c.title,o=(null===(t=c.parsedParams)||void 0===t?void 0:t.fileSize)||c.size,i=c.href;return Object(Xn.jsx)(ka,{msgData:n,msgInfo:a,readonly:r,children:Object(Xn.jsx)("div",{className:"card__content back-ground-grey",children:Object(Xn.jsxs)("div",{className:"card__file is-flex",children:[Object(Xn.jsx)("figure",{className:"quote-media image",children:Object(Xn.jsx)("i",{className:"icon ic-file-grey"})}),Object(Xn.jsxs)("div",{className:"file-info",children:[Object(Xn.jsxs)("p",{className:"file-name color-black text-bold",children:[Object(Xn.jsx)("span",{className:"first",children:s.substring(0,s.length-10)}),Object(Xn.jsx)("span",{className:"last",children:s.substring(s.length-10,s.length)})]}),!!o&&Object(Xn.jsxs)("div",{className:"text-desc",children:[o/1e3," KB"]})]}),Object(Xn.jsx)("figure",{className:"icon-download-container image btn-download",children:Object(Xn.jsx)("div",{className:"icon-download-holder",children:Object(Xn.jsx)("a",{href:i,children:Object(Xn.jsx)("i",{className:"icon ic-download"})})})})]})})})},Aa=Object(i.c)((function(e){return{}}),(function(e){return{updateStickerValue:function(t,n){return e(ue(t,n))}}}))((function(e){var t=e.msgData,n=e.msgInfo,a=e.readonly,c=e.updateStickerValue,s=t.content,o=s.catId,i=s.id,f=Object(r.useState)(""),g=Object(l.a)(f,2),p=g[0],h=g[1];return Object(r.useEffect)((function(){var e=function(e){if(e){var t={};t[i]=e,c(o,{status:Y.Downloaded,data:{},extData:t}),h(e)}},t=function(){var t=Object(d.a)(Object(u.a)().mark((function t(){var n,a,r;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Be.getStickerUrl(o,i);case 2:a=t.sent,r=null!==(n=a.data.url)&&void 0!==n?n:"",e(r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=kt(s);p?e(n):t()}),[o,i,p]),Object(Xn.jsx)(ka,{msgData:t,msgInfo:n,readonly:a,children:Object(Xn.jsx)("figure",{className:"card__sticker image",children:Object(Xn.jsx)("img",{src:p,alt:"sticker",style:{width:100,height:100}})})})})),Ra=Aa,Ua=function(e){var t=e.msgData,n=e.msgInfo,a=e.readonly,r=t.content,c=t.content;return c.startsWith("#")&&function(e){var t,n=null===(t=bt.getState().app.oaInfo)||void 0===t?void 0:t.oaMenu,a=!1;return null!==n&&void 0!==n&&n.length&&n.forEach((function(t){if(!a){if(""===t.menuData){var n=t.listSubMenu;n&&n.length&&n.forEach((function(t){a||t.subMenuData!==e||(a=!0)}))}t.menuData===e&&(a=!0)}})),a}(c)?null:Object(Xn.jsx)(ka,{msgData:t,msgInfo:n,readonly:a,children:Object(Xn.jsx)("div",{className:"card__content ".concat(Ot(n)),children:Object(Xn.jsx)(va,{msg:r})})})},La=function(e){var t=e.msgData,n=e.msgInfo,a=e.readonly,s=Object(r.useRef)(null),o=Object(r.useRef)(null),i=Object(r.useState)(""),u=Object(l.a)(i,2),d=u[0],f=u[1],g=Object(r.useState)(!1),p=Object(l.a)(g,2),h=p[0],b=p[1],m=Object(r.useState)(!1),v=Object(l.a)(m,2),j=v[0],_=v[1];c.a.useEffect((function(){var e=function(){return b(!0)},t=function(){return b(!1)},n=o.current;return null===n||void 0===n||n.addEventListener("play",e),null===n||void 0===n||n.addEventListener("pause",t),function(){null===n||void 0===n||n.removeEventListener("play",e),null===n||void 0===n||n.removeEventListener("pause",t)}}),[]);var w=t.content,O=function(){var e,t;null!==(e=o.current)&&void 0!==e&&e.paused?o.current.play():null===(t=o.current)||void 0===t||t.pause()};return Object(Xn.jsx)(ka,{msgData:t,msgInfo:n,readonly:a,children:Object(Xn.jsxs)("figure",{ref:s,className:"card__image image video",children:[Object(Xn.jsx)("video",{ref:o,src:w.href,style:{width:"100%",height:"100%"},poster:w.thumb,controls:h,controlsList:"nodownload",disablePictureInPicture:!0,onEnded:function(){return b(!1)},onLoadedMetadata:function(){var e,t=null===(e=o.current)||void 0===e?void 0:e.duration;if(void 0!==t){var n=new Date(1e3*t),a=function(e){return e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})},r=a(n.getMinutes()),c=a(n.getSeconds());f(r+":"+c)}else f("--:--")},onMouseOver:function(){return _(!0)},onMouseOut:function(e){return function(e){var t,n=e.relatedTarget;null!==(t=s.current)&&void 0!==t&&t.contains(n)||_(!1)}(e)},onDoubleClick:function(){window.FullScreen.isOn()?window.FullScreen.close():window.FullScreen.open(s.current)},onClick:function(){var e;null===(e=o.current)||void 0===e||e.play()}}),h&&j&&Object(Xn.jsx)("img",{className:"video-btn-play",src:"/static/images/ic-pause.svg",onClick:O,alt:""}),!h&&Object(Xn.jsxs)(Xn.Fragment,{children:[Object(Xn.jsx)("div",{className:"time-video",children:d}),Object(Xn.jsx)("img",{className:"video-btn-play",src:"/static/images/ic-play.svg",onClick:O,alt:""})]})]})})},qa=function(e){return null==e},Fa=Object(i.c)((function(e){var t;return{messaging:e.messaging,stickerMap:e.sticker.stickerMap,app:e.app,session:e.session,oaName:null===(t=e.app.oaInfo)||void 0===t?void 0:t.name}}),(function(e){return{}}))((function(e){var t,n=e.messaging,a=e.stickerMap,s=e.app,o=e.oaName,i=Object(Gn.a)().t,l=Object(r.useRef)(null);Object(r.useEffect)((function(){u()}),[n]);var u=function(){null!==l.current&&l.current.scrollIntoView()},d=function(e){var t=n.messagesInfo[e.cliMsgId],r=e.cliMsgId||e.msgId;switch(e.msgType){case _e.Text:return!qa(e.quote)?Object(Xn.jsx)(Ea,{msgData:e,msgInfo:t,stickerMap:a},r):Object(Xn.jsx)(Ua,{msgData:e,msgInfo:t,readonly:e.cliMsgId===n.messages[0].cliMsgId},r);case _e.Photo:return Object(Xn.jsx)(Na,{msgData:e,msgInfo:t},r);case _e.Video:return Object(Xn.jsx)(La,{msgData:e,msgInfo:t},r);case _e.Sticker:return Object(Xn.jsx)(Ra,{msgData:e,msgInfo:t},r);case _e.Chat_Recommeneded:return Object(Xn.jsx)(Da,{msgData:e,msgInfo:t},r);case _e.File:return Object(Xn.jsx)(Pa,{msgData:e,msgInfo:t},r);case _e.Conversation:return Object(Xn.jsx)(Sa,{msgData:e,msgInfo:t},r);case _e.Audio:return Object(Xn.jsx)(xa,{msgData:e,msgInfo:t},r);default:return null}},f=function(e){var t=e.messages,n=e.isSeparated;if(0===t.length)return null;var a=_t(t[0]),r=t[0].cliMsgId||t[0].msgId||"",o=function(e){var t=function(e){return e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})},n=new Date(e),a=t(n.getHours()),r=t(n.getMinutes()),c=t(n.getFullYear()),s=t(n.getMonth()+1),o=t(n.getDate()),i=new Date;return n.getDate()===i.getDate()&&n.getMonth()===i.getMonth()?"".concat(a,":").concat(r," H\xf4m nay"):"".concat(a,":").concat(r," ").concat(o,"/").concat(s,"/").concat(c)}(Number.parseInt(t[0].cliMsgId));return Object(Xn.jsxs)(c.a.Fragment,{children:[n&&Object(Xn.jsx)("div",{className:"text-center",children:Object(Xn.jsx)("p",{className:"time",children:o})}),a?Object(Xn.jsx)("div",{className:"media is-user",children:Object(Xn.jsx)("div",{className:"media-left",children:t.map(d)})}):function(){var e;return Object(Xn.jsxs)("div",{className:"media",children:[Object(Xn.jsx)("figure",{className:"image avatar media-left",children:Object(Xn.jsx)("img",{src:null===(e=s.oaInfo)||void 0===e?void 0:e.avatar,alt:""})}),Object(Xn.jsx)("div",{className:"media-right",children:t.map(d)})]})}()]},r)},g=function(){var e=[],t=n.messages;if(0===t.length)return e;var a={messages:[],isSeparated:!0},r=t[0];return t.forEach((function(t){var n=_t(t)===_t(r),c=function(e,t){var n=Number.parseInt(e.cliMsgId),a=Number.parseInt(t.cliMsgId);return Math.abs(n-a)<M.conversationDuration}(t,r);n&&c?a.messages.push(t):(e.push(a),r=t,a={messages:[t],isSeparated:!c})})),e.push(a),e[0].isSeparated=!1,e.length>1&&(e[1].isSeparated=!0),e},p=n.initState,h=A.Initialized===p||A.Loading===p;return Object(Xn.jsxs)("div",{className:"box__body",children:[Object(Xn.jsxs)("div",{className:"noti-remind",children:["B\u1eaft \u0111\u1ea7u tr\xf2 chuy\u1ec7n nhanh v\u1edbi ".concat(o,"."),Object(Xn.jsx)("br",{}),"Th\xf4ng tin c\u1ee7a b\u1ea1n \u0111\u01b0\u1ee3c \u1ea9n v\xe0 tin nh\u1eafn tr\xf2 chuy\u1ec7n ch\u1ec9 l\u01b0u tr\xean tr\xecnh duy\u1ec7t web."]}),h?Object(Xn.jsx)("div",{}):g().map(f),n.typing.onGoing&&Object(Xn.jsx)("div",{className:"zs-section-typing",children:Object(Xn.jsxs)("span",{children:[(null===(t=s.oaInfo)||void 0===t?void 0:t.name)+" "+i("messagestatus.typing"),Object(Xn.jsx)("i",{className:"zs-typing-loading"})]})}),Object(Xn.jsx)("div",{ref:l})]})})),Ba=function(e){var t=e.handleLoginWidget,n=e.oaInfo,a=Object(Gn.a)().t,r=(null===n||void 0===n?void 0:n.name)||"",c=a("welcomebox.hint").replace("<oa_name>",r);return Object(Xn.jsx)("div",{className:"box__body",children:Object(Xn.jsx)("div",{className:"bounding",children:Object(Xn.jsxs)("div",{className:"center-items",children:[Object(Xn.jsx)("div",{children:Object(Xn.jsx)("p",{className:"text-hint-welcome",children:c})}),Object(Xn.jsx)("div",{className:"zbtn zbtn-primary welcome text-welcome",onClick:function(){return t(me.Zalo)},children:a("welcomebox.aszalo")}),(null===n||void 0===n?void 0:n.guestEnabled)&&Object(Xn.jsx)("div",{className:"zbtn zbtn-normal welcome text-welcome",onClick:function(){return t(me.Anonymous)},children:a("welcomebox.asguest")})]})})})},Za=Object(i.c)((function(e){return{appState:e.app,sessionState:e.session}}),(function(e){return{sessionThunkActions:Object(ge.b)(a,e)}}))((function(e){var t=e.sessionThunkActions,n=e.appState,a=e.sessionState,c=Object(r.useRef)(null),s=Object(r.useRef)(!1),o=Object(r.useRef)(null),i=Object(r.useRef)(null),u=Object(r.useRef)(null),d=Object(r.useRef)(null),f=Object(r.useRef)(null),g=Object(r.useRef)(null),p=Object(r.useState)(!1),h=Object(l.a)(p,2),b=h[0],m=h[1],v=Object(r.useState)(""),j=Object(l.a)(v,2),_=j[0],w=j[1];Object(r.useEffect)((function(){window.addEventListener("message",(function(e){return w(e.data.url)}))}),[]),Object(r.useEffect)((function(){var e=function(e){if(!/^react-devtools/gi.test(e.data.source))switch(g.current&&clearInterval(g.current),e.data){case M.login.callbackMessage:!function(){var e;o.current&&clearInterval(o.current),null===(e=c.current)||void 0===e||e.close(),t.getSessionInfo(me.Zalo)}();break;case M.upgrade.callbackMessage:!function(){var e;u.current&&clearInterval(u.current),null===(e=i.current)||void 0===e||e.close(),t.upgradeSessionInfo()}();break;case M.zalopc.callbackMessage:!function(){var e;f.current&&clearInterval(f.current),null===(e=d.current)||void 0===e||e.close(),t.loadSessionForNewTab().then((function(e){e===ae.Success&&qn.openZaloPc()}))}()}};return window.addEventListener("message",e,!1),function(){window.removeEventListener("message",e)}}),[t]);var O=function(e,t,n,a){t.current=$n(e);var r,c=setInterval((function(){var e;null!==(e=t.current)&&void 0!==e&&e.closed&&(clearInterval(c),a(),jn.postMessage(mn.UPGRADE_CONVERSATION))}),e.checkClosedInterval);n.current=c,g.current=(r=e.callbackMessage,setInterval((function(){return Ge.getZUserInfo().then((function(e){se(e)&&window.postMessage(r,"*")}))}),3e3))},y=a.status===A.Done&&a.conversationType!==me.Unknown;return n.status!==A.Done?null:Object(Xn.jsxs)("div",{className:"box-wrapper",onDragOver:function(){return m(!0)},children:[Object(Xn.jsx)(sa,{upgradeUser:function(){var e=function(){return O(M.upgrade,i,u,(function(){}))};n.zuserInfo?t.upgradeSessionInfo().then((function(t){t!==ae.Success&&e()})):e()},closeConversation:function(){t.endSession()},showMessageView:y}),!y&&Object(Xn.jsx)(Ba,{handleLoginWidget:function(e){switch(e){case me.Zalo:if(s&&s.current)return;s.current=!0,qn.openChat((function(){s.current=!1}));break;case me.Anonymous:t.getSessionInfo(me.Anonymous).then((function(e){ae.Success})),Wn.logLoginAnonymous()}},oaInfo:n.oaInfo}),y&&Object(Xn.jsxs)(Xn.Fragment,{children:[Object(Xn.jsx)(Fa,{}),Object(Xn.jsx)(Qn,{open:b,onClose:function(){return m(!1)}})]}),Object(Xn.jsx)(ja,{showMessageView:y,parentUrl:_})]})}));n(296);function Va(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t}var Wa=Object(i.c)((e=>{var t;return{oaName:null===(t=e.app.oaInfo)||void 0===t?void 0:t.name,appStatus:e.app.status,newMsgCount:e.messaging.newMsgCount}}),(()=>({})))((e=>{let{appStatus:t,newMsgCount:n,onClick:a}=e;const[c,s]=Object(r.useState)(!0);return c&&window.onChangeSizeIframe(window.zsp_min_width,window.zsp_min_height),t!==A.Done?null:Object(Xn.jsxs)(Xn.Fragment,{children:[Object(Xn.jsx)("div",{className:"logo",onClick:e=>{var t;Va()?window.open(qn.getZaloMeLink()):(t=()=>{s(!1),a(e)},"function"==typeof document.hasStorageAccess?document.hasStorageAccess().then((e=>{e?t():"function"==typeof document.requestStorageAccess?document.requestStorageAccess().then((()=>{t()}),(()=>{t()})):t()})):t())},children:Object(Xn.jsx)("img",{src:"/static/images/2.0/Logo.svg",alt:""})}),n>0&&Object(Xn.jsx)("div",{className:"notification-number",children:n})]})})),Ga=Object(i.c)((function(e){return{stickerMap:e.sticker.stickerMap,app:e.app,messages:e.history.content.messages}}),(function(e){return{}}))((function(e){var t=e.messages,n=e.stickerMap,a=e.app,c=Object(r.useRef)(null);Object(r.useEffect)((function(){s()}),[t]);var s=function(){null!==c.current&&c.current.scrollIntoView()},o=function(e){var t={index:0,state:G.Sent},a=e.cliMsgId||e.msgId;switch(e.msgType){case _e.Text:return!qa(e.quote)?Object(Xn.jsx)(Ea,{msgData:e,msgInfo:t,readonly:!0,stickerMap:n},a):Object(Xn.jsx)(Ua,{msgData:e,msgInfo:t,readonly:!0},a);case _e.Photo:return Object(Xn.jsx)(Na,{msgData:e,msgInfo:t,readonly:!0},a);case _e.Video:return Object(Xn.jsx)(La,{msgData:e,msgInfo:t,readonly:!0},a);case _e.Sticker:return Object(Xn.jsx)(Ra,{msgData:e,msgInfo:t,readonly:!0},a);case _e.Chat_Recommeneded:return Object(Xn.jsx)(Da,{msgData:e,msgInfo:t,readonly:!0},a);case _e.File:return Object(Xn.jsx)(Pa,{msgData:e,msgInfo:t,readonly:!0},a);case _e.Conversation:return Object(Xn.jsx)(Sa,{msgData:e,msgInfo:t},a);case _e.Audio:return Object(Xn.jsx)(xa,{msgData:e,msgInfo:t,readonly:!0},a);default:return null}},i=function(e){return 0===e.length?null:_t(e[0])?function(e){var t=e[0].cliMsgId||e[0].msgId;return Object(Xn.jsx)("div",{className:"media is-user",children:Object(Xn.jsx)("div",{className:"media-left",children:e.map(o)})},t)}(e):function(e){var t,n=e[0].cliMsgId||e[0].msgId;return Object(Xn.jsxs)("div",{className:"media",children:[Object(Xn.jsx)("figure",{className:"image avatar media-left",children:Object(Xn.jsx)("img",{src:null===(t=a.oaInfo)||void 0===t?void 0:t.avatar,alt:""})}),Object(Xn.jsx)("div",{className:"media-right",children:e.map(o)})]},n)}(e)};return Object(Xn.jsx)("div",{className:"box__body",children:function(){var e=[];if(0===t.length)return e;var n=_t(t[0]),a=[];return t.forEach((function(t){var r=_t(t);n===r?a.push(t):(e.push(a),n=!n,a=[t])})),e.push(a),e}().map(i)})})),Ha=Object(i.c)((function(e){return{app:e.app,session:e.session,history:e.history}}),(function(e){return{closeHistoryChat:function(){return e(un())}}}))((function(e){var t,n=e.app,a=e.history,c=e.closeHistoryChat,s=Object(Gn.a)().t,o=null===(t=n.oaInfo)||void 0===t?void 0:t.avatar,i=a.content.total,l=Object(r.useCallback)((function(){var e=window.zsp_width,t=window.zsp_height;window.onChangeSizeIframe(e,t,!0),c()}),[c]);return n.shouldShowBox?Object(Xn.jsxs)("div",{className:"box-wrapper",children:[Object(Xn.jsx)("div",{className:"box__top",children:Object(Xn.jsxs)("div",{className:"box__header media justify-between items-center",children:[Object(Xn.jsxs)("div",{className:"media-left is-flex items-center",children:[Object(Xn.jsx)(ea,{imgSrc:o||"",isActivated:!0}),Object(Xn.jsx)(na,{title:s("chathistory.title"),desc:"".concat(i," ").concat(s("chathistory.oldmessages"))})]}),Object(Xn.jsx)("div",{className:"media-right",children:Object(Xn.jsx)(aa,{isCircle:!0,falName:"fa-times",handleClick:l})})]})}),Object(Xn.jsx)("div",{className:"box__body",children:Object(Xn.jsx)(Ga,{})})]}):null})),Ja=Object(i.c)((function(e){return{connectionState:e.zwebsocket.connectionState}}),(function(e){return{loadSessionForNewTab:function(){return e(Rn())}}}))((function(e){var t=e.connectionState,n=e.loadSessionForNewTab,a=Object(Gn.a)().t,c=Object(r.useState)(!0),s=Object(l.a)(c,2),o=s[0],i=s[1];Object(r.useEffect)((function(){function e(e){navigator.onLine?(i(!0),n()):i(!1)}return window.addEventListener("online",e),window.addEventListener("offline",e),function(){window.removeEventListener("online",e),window.removeEventListener("offline",e)}}),[n]);return Va()?Object(Xn.jsx)(Xn.Fragment,{}):Object(Xn.jsx)("div",{className:"ws-state",children:o?t===ne.Connecting?a("network.connecting"):null:a("network.offline")})})),Ka=(n(297),Object(i.c)((function(e){return{appState:e.app,history:e.history}}),(function(e){return{initializeWidgetApp:function(){return e(function(){var e=Object(d.a)(Object(u.a)().mark((function e(t,n,a){var r,c,s,o,l,d,f;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.zwidgetService,e.prev=1,c=Object.fromEntries(new URLSearchParams(window.location.search)),Fn(c)){e.next=6;break}return t(nn(A.Failed)),e.abrupt("return",ae.Failed);case 6:return s={oaIdPublic:c.oaid,oaWelcomeMessage:c.welcomemessage,oaAutoPopup:"0"===c.autopopup?0:1,oaWidth:parseInt(c.width),oaHeight:parseInt(c.height)},o=r.getWidgetOAInfo(s.oaIdPublic),l=r.getZUserInfo(),e.next=11,o;case 11:return d=e.sent,e.next=14,l;case 14:if(f=e.sent,null!=d.data){e.next=18;break}return t(nn(A.Failed)),e.abrupt("return",ae.Failed);case 18:return Object(i.b)((function(){t(nn(A.Done,s,d.data,f.data)),t(Rn())})),qn.logLoadWidget(),e.abrupt("return",ae.Success);case 23:return e.prev=23,e.t0=e.catch(1),t(nn(A.Failed)),e.abrupt("return",ae.Failed);case 28:case"end":return e.stop()}}),e,null,[[1,23]])})));return function(t,n,a){return e.apply(this,arguments)}}())},updateShowBox:function(t){return e(function(e){return function(){var t=Object(d.a)(Object(u.a)().mark((function t(n,a,r){return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.zwidgetService,t.prev=1,Object(i.b)((function(){n(cn(e)),e&&n(en(0))})),t.abrupt("return",ae.Success);case 6:return t.prev=6,t.t0=t.catch(1),t.abrupt("return",ae.Failed);case 10:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n,a){return t.apply(this,arguments)}}()}(t))},loadSessionForNewTab:function(){return e(Rn())}}}))),Ya=function(e,t,n){window.onChangeSizeIframe(e,t)},Xa=Ka((function(e){var t=e.appState,n=e.history,a=e.updateShowBox,c=e.initializeWidgetApp,s=e.loadSessionForNewTab,o="true"===window.zsp_left_side,i=Object(r.useState)(t.shouldShowBox),u=Object(l.a)(i,2),d=u[0],f=u[1];Object(r.useEffect)((function(){}),[]),Object(r.useEffect)((function(){c();var e=function(){document.hidden||s()};return document.addEventListener("visibilitychange",e,!1),function(){document.removeEventListener("visibilitychange",e,!1)}}),[c,s]),Object(r.useEffect)((function(){t.shouldShowBox&&f(!0)}),[n.shouldShow,t.shouldShowBox]);return Object(Xn.jsxs)(Xn.Fragment,{children:[Object(Xn.jsxs)("div",{className:"za-chat".concat(o?" left-side":""),children:[Object(Xn.jsxs)("div",{className:"chat-wrapper za-chat__wrapper",children:[n.shouldShow&&Object(Xn.jsx)("div",{className:"za-chat__wrapper__history-box",children:Object(Xn.jsx)(Ha,{})}),Object(Xn.jsx)("div",{className:"za-chat__wrapper__chat-box zl_chat_bounce_in".concat(t.shouldShowBox?"":" zl_chat_bounce_out"),style:{width:n.shouldShow?"440px":"100%",height:d?"100%":0},onAnimationEnd:function(){if(!t.shouldShowBox){f(!1);var e=window.zsp_min_width,n=window.zsp_min_height;Ya(e,n)}},children:Object(Xn.jsx)(Za,{})})]}),Object(Xn.jsx)("div",{className:"za-chat__head-box",children:Object(Xn.jsx)(Wa,{onClick:function(){if(!d){var e=n.shouldShow?window.zsp_max_width:window.zsp_width,t=n.shouldShow?window.zsp_max_height:window.zsp_height;Ya(e,t),Wn.logOpenChatHead(),qn.logOpenWidget()}a(!d)}})})]}),Object(Xn.jsx)("div",{style:{position:"fixed",bottom:0},children:Object(Xn.jsx)(Ja,{})})]})})),Qa=n(52),$a=n(153);mt.a.use($a.a).use(Qa.e).init({fallbackLng:"vi",debug:!1,backend:{loadPath:"/static/locales/{{lng}}/{{ns}}.json"},react:{useSuspense:!1},interpolation:{escapeValue:!1}});var er=mt.a;n(298);var tr=function(){return Object(Xn.jsx)(Xa,{})},nr=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,303)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};er.on("initialized",(function(){o.a.render(Object(Xn.jsx)(c.a.StrictMode,{children:Object(Xn.jsx)(i.a,{store:bt,children:Object(Xn.jsx)(tr,{})})}),document.getElementById("root"))})),nr()}},[[299,1,2]]]);