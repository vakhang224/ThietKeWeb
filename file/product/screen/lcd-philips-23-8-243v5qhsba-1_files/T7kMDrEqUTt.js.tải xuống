;/*FB_PKG_DELIM*/

__d("AbstractActionList.react",["ReactFragment","react"],(function(a,b,c,d,e,f,g){var h,i=h||d("react"),j=i.jsx("span",{"aria-hidden":"true",children:" \xb7 "});a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=!0,b=i.Children.map(this.props.children,function(b){if(!b)return b;if(a){a=!1;return b}return d("ReactFragment").create({BULLET:j,child:b})});return i.jsx("div",babelHelpers["extends"]({},this.props,{children:b}))};return b}(i.Component);g["default"]=a}),98);
__d("AbstractAsyncSearchSource",["AbstractSearchSource","SearchSourceCallbackManager","SearchSourceQueryStatus","SearchableEntry","TokenizeUtil","emptyFunction","isValidUniqueID"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d,e){var f,g;g=a.call(this)||this;g.$AbstractAsyncSearchSource$p_1=b.asyncErrorHandler||c("emptyFunction");g.$AbstractAsyncSearchSource$p_2=b.auxiliaryFields;g.$AbstractAsyncSearchSource$p_4=b.bootstrapRequests;g.$AbstractAsyncSearchSource$p_7=b.getAllForEmptyQuery;g.$AbstractAsyncSearchSource$p_8=b.getAllForBootstrapPrefix;g.$AbstractAsyncSearchSource$p_9=b.bootstrapPrefix;g.$AbstractAsyncSearchSource$p_11=b.packageFn||g.$AbstractAsyncSearchSource$p_15;g.$AbstractAsyncSearchSource$p_12=b.queryRequests;g.$AbstractAsyncSearchSource$p_13=b.requestData||{};g.$AbstractAsyncSearchSource$p_6=(f=b.entryModifier_USE_SPARINGLY)!=null?f:c("emptyFunction").thatReturnsArgument;g.$AbstractAsyncSearchSource$p_3=[];g.$AbstractAsyncSearchSource$p_5=new(c("SearchSourceCallbackManager"))({parseFn:(f=b.parseFn)!=null?f:c("TokenizeUtil").parse,matchFn:b.matchFn||c("TokenizeUtil").isQueryMatch,indexFn:b.indexFn,exclusions:b.exclusions});g.$AbstractAsyncSearchSource$p_14=d;g.$AbstractAsyncSearchSource$p_10=e;return g}var e=b.prototype;e.bootstrapImpl=function(a){var b=this,c=a;if(!this.$AbstractAsyncSearchSource$p_4||!this.$AbstractAsyncSearchSource$p_4.length){c();return}var d=this.$AbstractAsyncSearchSource$p_4.length,e=0;this.$AbstractAsyncSearchSource$p_4.forEach(function(a){b.$AbstractAsyncSearchSource$p_16(b.$AbstractAsyncSearchSource$p_13,a,function(a){a=a.map(function(a){return b.$AbstractAsyncSearchSource$p_6(a)});b.$AbstractAsyncSearchSource$p_5.addLocalEntries(a);b.$AbstractAsyncSearchSource$p_3=b.$AbstractAsyncSearchSource$p_3.concat(a);e++;c&&e===d&&(c(),c=null)})})};e.searchImpl=function(a,b,c){var e=this,f=this.$AbstractAsyncSearchSource$p_9;if(this.$AbstractAsyncSearchSource$p_7&&a===""||this.$AbstractAsyncSearchSource$p_8&&a&&f&&a.trim().toLowerCase()===f.trim().toLowerCase()){this.getBootstrappedEntries(function(c){c=c.map(function(a){return e.$AbstractAsyncSearchSource$p_6(a)});b(c,a,d("SearchSourceQueryStatus").COMPLETE)});return}var g=[],h={};f=this.$AbstractAsyncSearchSource$p_5.search(a,function(f,a,i){if(c&&c.waitForAllResults&&i!==d("SearchSourceQueryStatus").COMPLETE)return;g.length===0?(g=f,g.forEach(function(a,b){h[a.getUniqueID()]=b})):(g=[].concat(g),f.forEach(function(a){a=e.$AbstractAsyncSearchSource$p_6(a);var b=a.getUniqueID();if(!Object.prototype.hasOwnProperty.call(h,b)){var c=g.length;g.push(a);h[b]=c}else{c=h[b];c<g.length&&(g[c]=a)}}));b(g,a,i)});if(!f||!this.$AbstractAsyncSearchSource$p_12||!this.$AbstractAsyncSearchSource$p_12.length)return;var i=babelHelpers["extends"]({value:a,existing_ids:c&&c.disableExistingIDs?"":g&&g.map(function(a){return a.getUniqueID()}).join(",")},this.$AbstractAsyncSearchSource$p_13),j=this.$AbstractAsyncSearchSource$p_12.length;this.$AbstractAsyncSearchSource$p_12.forEach(function(b){e.$AbstractAsyncSearchSource$p_16(i,b,function(b){j--;b=Array.from(b.reduce(function(a,b){b=e.$AbstractAsyncSearchSource$p_6(b);var c=b.getUniqueID();if(a.has(c)){var d=a.get(c);d!=null&&b.getOrder()<d.getOrder()&&a.set(c,b)}else a.set(c,b);return a},new Map()).values());e.$AbstractAsyncSearchSource$p_17(b,a,j?d("SearchSourceQueryStatus").ACTIVE:d("SearchSourceQueryStatus").COMPLETE)})})};e.getBootstrappedEntries=function(a){var b=this;return this.bootstrap(function(){return a(b.$AbstractAsyncSearchSource$p_3||[])})};e.getBootstrapEntriesArray=function(){return this.$AbstractAsyncSearchSource$p_3||[]};e.getAllEntriesMap=function(){return this.$AbstractAsyncSearchSource$p_5.getAllEntriesMap()};e.setRequestData=function(a){this.$AbstractAsyncSearchSource$p_13=a};e.getRequestData=function(){return this.$AbstractAsyncSearchSource$p_13};e.setPackageResult=function(a){this.$AbstractAsyncSearchSource$p_11=a};e.getCallbackManager=function(){return this.$AbstractAsyncSearchSource$p_5};e.$AbstractAsyncSearchSource$p_16=function(a,b,c){var d=this;this.$AbstractAsyncSearchSource$p_14(a,b,function(a){return c(d.$AbstractAsyncSearchSource$p_10(a,d.$AbstractAsyncSearchSource$p_11).filter(Boolean))},this.$AbstractAsyncSearchSource$p_1)};e.$AbstractAsyncSearchSource$p_17=function(a,b,c){this.$AbstractAsyncSearchSource$p_5.addQueryEntries(a,b,c)};e.$AbstractAsyncSearchSource$p_15=function(a,b){var d=a.title||a.text,e=a.uniqueID||a.uid;return!d||!c("isValidUniqueID")(e)?null:new(c("SearchableEntry"))({uniqueID:e,order:a.order||a.index||b,title:d,subtitle:a.subtitle||a.category||a.subtext,keywordString:a.keywordString||a.tokens,type:a.type,photo:a.photo,uri:a.uri||a.path,auxiliaryData:this.$AbstractAsyncSearchSource$p_18(a)})};e.$AbstractAsyncSearchSource$p_18=function(a){var b;if(this.$AbstractAsyncSearchSource$p_2){b={};for(var c in this.$AbstractAsyncSearchSource$p_2){var d=this.$AbstractAsyncSearchSource$p_2[c];b[c]=a[d]}}d=a.aux_data||a.auxiliaryData;d&&(b=babelHelpers["extends"]({},b,d));return b};return b}(c("AbstractSearchSource"));g["default"]=a}),98);
__d("replaceSelectionWithMention",["DraftModifier","EditorState"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f,g){f=f(b.getCurrentContent(),a);var h=f.getLastCreatedEntityKey();g=g?g(a):a.getTitle();a=d("DraftModifier").replaceText(f,e,g,b.getCurrentInlineStyle(),h);return c("EditorState").push(b,a,"insert-fragment")}g["default"]=a}),98);
__d("replaceMentionedTextInEditorState",["replaceSelectionWithMention"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e,f){var g=b.getSelection(),i=b.getCurrentContent(),j=g.getAnchorKey(),k=g.getAnchorOffset();i=i.getBlockMap().get(j);j=g.getStartOffset();j=i.getText().substr(j-d,d);var l=f?f(a,j):a.getTitle();f=k-h(i.getText().substr(0,k),l,d);return c("replaceSelectionWithMention")(a,b,g.set("anchorOffset",f),e,function(){return l})}function h(a,b,c){(b.startsWith("#")||b.startsWith("\\uFF03"))&&(a=a.toLowerCase(),b=b.toLowerCase());for(var d=c;d<=b.length;d++)a.substr(-d)==b.substr(0,d)&&(c=d);return c}g["default"]=a}),98);
__d("AbstractMentionsTextEditor.react",["DraftEditor.react","Keys","TypeaheadNavigation","clearImmediate","cr:2012305","getDefaultKeyBinding","getOrCreateDOMID","react","replaceMentionedTextInEditorState","setImmediate","uniqueID"],(function(a,b,c,d,e,f){var g,h=g||b("react");a=5;var i="handled",j="not-handled";c=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this,c,d)||this;e.$1=b("uniqueID")();e.$2=!1;e.$3=[];e.containerRef=h.createRef();e.abstractTextEditorRef=h.createRef();e.__onShowMentions=function(a,b,c,d){d===void 0&&(d=!0);if(!e.$2)return;b=b||0;if(!a||!a.length){var f=e.state.mentionableEntries;if(f&&f.length&&f[0].getDataType()!==(c||""))return;e.setState({highlightedMentionable:null,activeDescendantID:null,mentionableEntries:null,characterOffset:0});return}f=e.props.typeaheadViewProps;c=a;f&&f.mentionSortFn&&c.sort(f.mentionSortFn);c=a.slice(0,e.props.maxResults);f=null;(e.props.autoHighlight||e.state.highlightedMentionable!==null)&&(f=e.props.autoUpdateHighlight?c[0]:e.state.highlightedMentionable);e.setState({highlightedMentionable:d?f:null,mentionableEntries:c,characterOffset:b});e.props.onShowMentions&&e.props.onShowMentions(c,b)};e.$13=function(a){var c;if(a.keyCode===b("Keys").TAB)return e.$6(a);if(a.keyCode===b("Keys").ESC)return e.$5(a);if(a.keyCode===b("Keys").UP)return e.$11(a);return a.keyCode===b("Keys").DOWN?e.$4(a):(c=e.props.keyBindingFn==null?void 0:e.props.keyBindingFn(a))!=null?c:b("getDefaultKeyBinding")(a)};e.$8=function(a){e.setState(e.$12()),e.props.onBlur&&e.props.onBlur(a)};e.$7=function(a){e.props.mentionsSource&&e.props.mentionsSource.bootstrap(),e.props.onFocus&&e.props.onFocus(a)};e.$14=function(a,b){if(e.state.highlightedMentionable){e.$10(e.state.highlightedMentionable,a);return i}else if(e.props.handleContentReturn&&e.props.handleContentReturn(a,b))return i;return j};e.$6=function(a){var b=e.state.highlightedMentionable;b?(a.preventDefault(),e.$10(b,a)):e.props.onTab&&e.props.onTab(a)};e.$5=function(a){e.props.onEscape&&e.props.onEscape(a),e.state.mentionableEntries&&(a.stopPropagation(),a.nativeEvent.composerPropagationStopped=!0,e.setState(e.$12()))};e.$11=function(a){var c=e.state.mentionableEntries;c?(a.preventDefault(),b("TypeaheadNavigation").moveUp(c,e.state.highlightedMentionable,e.$9)):e.props.onUpArrow&&e.props.onUpArrow(a)};e.$4=function(a){var c=e.state.mentionableEntries;c?(a.preventDefault(),b("TypeaheadNavigation").moveDown(c,e.state.highlightedMentionable,e.$9)):e.props.onDownArrow&&e.props.onDownArrow(a)};e.$9=function(a){e.setState({highlightedMentionable:a})};e.$15=function(a){a=b("getOrCreateDOMID")(a);e.setState({ariaActiveDescendantID:a})};e.$10=function(a,c){var d,f=a.getDataType(),g=e.props.mentionCreationForContentStateFn;f==="ASSISTANT_TYPEAHEAD"&&e.props.mentionTypeaheadCreationForContentStateFn&&(g=e.props.mentionTypeaheadCreationForContentStateFn);f=e.props.onMentionSelect;f==null?d=b("replaceMentionedTextInEditorState")(a,e.props.editorState,e.state.characterOffset,g,e.props.overrideMentionGetEntryText):d=f(a,e.props.editorState,e.state.characterOffset,g);e.props.onChange(d);e.setState(e.$12());f=e.props.onAddMention;g=e.state.mentionableEntries;if(f&&g){d=g.indexOf(a);f(a,d,c)}};e.$17=null;e.$18=function(a){if(b("cr:2012305")==null)return;if(a!=null){var c,d=babelHelpers["extends"]({},e.props.typingPerformanceAnnotations,{editor:"DraftjsEditor",format:"RichText"});b("cr:2012305").trackTypingPerf(a,(c=e.props.typingPerformanceID)!=null?c:"AbstractMentionsTextEditor",e.$17,d);e.$17=a}};e.__onShowMentions=e.__onShowMentions.bind(babelHelpers.assertThisInitialized(e));e.$4=e.$4.bind(babelHelpers.assertThisInitialized(e));e.$5=e.$5.bind(babelHelpers.assertThisInitialized(e));e.$6=e.$6.bind(babelHelpers.assertThisInitialized(e));e.$7=e.$7.bind(babelHelpers.assertThisInitialized(e));e.$8=e.$8.bind(babelHelpers.assertThisInitialized(e));e.$9=e.$9.bind(babelHelpers.assertThisInitialized(e));e.$10=e.$10.bind(babelHelpers.assertThisInitialized(e));e.$11=e.$11.bind(babelHelpers.assertThisInitialized(e));e.state=e.$12();return e}var d=c.prototype;d.componentDidMount=function(){this.$2=!0};d.componentWillUnmount=function(){this.$2=!1,this.$3.forEach(function(a){return b("clearImmediate")(a)}),this.$3=[]};d.$12=function(){return{highlightedMentionable:null,mentionableEntries:null,characterOffset:0}};d.shouldComponentUpdate=function(a,b){return this.props.editorState!==a.editorState||this.props.placeholder!==a.placeholder||this.props.readOnly!==a.readOnly||this.props.className!==a.className||this.props.textAlignment!==a.textAlignment||this.state.mentionableEntries!==b.mentionableEntries||this.state.highlightedMentionable!==b.highlightedMentionable||this.state.ariaActiveDescendantID!==b.ariaActiveDescendantID};d.componentDidUpdate=function(a){var c=this,d=this.props.editorState;if(d===a.editorState)return;var e=d.getSelection();if(e.getHasFocus()&&e.isCollapsed()){var f=d.getCurrentContent(),g=this.props.mentionsSource;g&&this.$3.push(b("setImmediate")(function(){f.getBlockForKey(e.getAnchorKey())!=null&&g.search(f,e,c.__onShowMentions)}));var h=this.props.assistantTypeaheadSource;h&&this.$3.push(b("setImmediate")(function(){h.search(f,e,c.__onShowMentions)}))}};d.blur=function(){var a;(a=this.abstractTextEditorRef.current)==null?void 0:a.blur()};d.focus=function(){var a;(a=this.abstractTextEditorRef.current)==null?void 0:a.focus()};d.$16=function(){var a=this.state.mentionableEntries;if(!a||!a.length)return null;var b=this.props.mentionResultsComponent;return h.jsx(b,babelHelpers["extends"]({},this.props.mentionResultsProps,{viewID:this.$1,selection:this.props.editorState.getSelection(),contextComponent:this,characterOffset:this.state.characterOffset,mentionableEntries:a||[],highlightedMentionable:this.state.highlightedMentionable,onMentionSelect:this.$10,onMentionHighlight:this.$9,onMentionRenderHighlight:this.$15}))};d.exitCurrentMode=function(){var a;(a=this.abstractTextEditorRef.current)==null?void 0:a.exitCurrentMode()};d.render=function(){var a=this.state.mentionableEntries;a=!!(a&&a.length);var c=this.props.readOnly?null:"-1",d=this.props.role||"combobox",e=this.props.ariaAutoComplete||"list",f=this.props.ariaLabel,g=this.props;g.onTab;g.onUpArrow;g.onDownArrow;g.onEscape;g=babelHelpers.objectWithoutPropertiesLoose(g,["onTab","onUpArrow","onDownArrow","onEscape"]);return h.jsxs("div",{ref:this.containerRef,className:this.props.className,tabIndex:c,children:[h.jsx(b("DraftEditor.react"),babelHelpers["extends"]({},g,{ref:this.abstractTextEditorRef,editorRef:this.$18,role:d,ariaActiveDescendantID:this.state.ariaActiveDescendantID,ariaAutoComplete:e,ariaExpanded:a,ariaHasPopup:a,ariaLabel:f,editorState:this.props.editorState,onBlur:this.$8,onChange:this.props.onChange,onFocus:this.$7,handleReturn:this.$14,keyBindingFn:this.$13})),this.$16()]})};d.isShowingMentionables=function(){return!!this.state.mentionableEntries};return c}(h.Component);c.defaultProps=babelHelpers["extends"]({},b("DraftEditor.react").defaultProps,{autoHighlight:!0,autoUpdateHighlight:!0,maxResults:a});f["default"]=c}),66);
__d("ActionList.react",["AbstractActionList.react","joinClasses","react"],(function(a,b,c,d,e,f,g){var h,i=h||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){return i.jsx(c("AbstractActionList.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,"fsm fwn fcg"),children:this.props.children}))};return b}(i.Component);g["default"]=a}),98);
__d("ActorBio.react",["fbt","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.renderLink=function(a){return"url"in a?j.jsx("a",babelHelpers["extends"]({},c.props,{href:a.url,children:a.name})):j.jsx("span",{children:a.name})},c.renderItem=function(a,b){var d;switch(a){case"employer":"position"in b?d=h._(/*BTDS*/"{position} t\u1ea1i {employer}",[h._param("position",c.renderLink(b.position)),h._param("employer",c.renderLink(b))]):d=h._(/*BTDS*/"L\u00e0m vi\u1ec7c t\u1ea1i {employer}",[h._param("employer",c.renderLink(b))]);break;case"mutual_friend":d=h._(/*BTDS*/"B\u1ea1n v\u1edbi {user}",[h._param("user",c.renderLink(b))]);break;default:return c.renderLink(b)}return j.jsx("span",{children:d})},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.render=function(){var a=this.props.stats,b=this.props.preferredTypes;for(var c=0;c<b.length;c++)for(var d=0;d<b[c].length;d++){var e=b[c][d];if(e in a)return this.renderItem(e,a[e])}return j.jsx("span",{})};return b}(j.Component);g["default"]=a}),226);
__d("PageVoiceDropdownSelector.react",["cx","ix","BootloadedComponent.react","GeoSpinner.react","Image.react","JSResource","XUIPopoverButton.react","isStringNullOrEmpty","isTruthy","joinClasses","react","stringRefShim"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=16,m=40;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={dialogShown:c.props.dialogShown||!1,bootloadFinished:!1},c.$1=function(a){c.props.onChange(a),c.setState({dialogShown:!1})},c.$2=function(){return c.refs["open-menu-button"]},c.$3=function(){c.setState({bootloadFinished:!0})},c.$6=function(a){c.setState({dialogShown:!c.state.dialogShown},function(){return c.props.onClick(a)})},c.$4=function(a){c.setState({dialogShown:a})},b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.componentDidUpdate=function(a){this.props.dialogShown!==a.dialogShown&&this.setState(function(a){return{dialogShown:!a.dialogShown}})};d.render=function(){var a=null;this.state.dialogShown&&(a=k.jsx(c("BootloadedComponent.react"),babelHelpers["extends"]({bootloadLoader:c("JSResource")("PageVoiceDropdownSelectorMenu.react").__setRef("PageVoiceDropdownSelector.react"),bootloadPlaceholder:k.jsx("div",{}),onComponentLoad:this.$3},this.props,{contextRef:this.$2,shown:!0,onChange:this.$1,onToggle:this.$4})));var b=this.state.dialogShown&&!this.state.bootloadFinished;b=c("isTruthy")(this.props.loading)||b;var d=null,e=null;b?e=k.jsx("span",{className:"_2wk7",children:k.jsx(c("GeoSpinner.react"),{size:"small"})}):d=k.jsx(c("Image.react"),{className:"_6vg",height:l,src:this.$5(),width:l});if(c("isTruthy")(this.props.useUFIPhotoOverlay))return k.jsxs("span",{children:[k.jsx(c("XUIPopoverButton.react"),{className:"UFIActorSelectorContainer",disabled:this.props.disabled,haschevron:!1,image:k.jsx(c("Image.react"),{className:"UFIActorSelector",src:i("771988"),onClick:this.$6}),label:this.$7(),labelIsHidden:!this.props.showPageName,ref:c("stringRefShim")(this,"open-menu-button"),size:"large",suppressed:this.props.suppressed,onClick:this.$6}),a]});c("isTruthy")(this.props.useProfileActorSelector)&&(d=k.jsxs("div",{className:"_6ljg",children:[k.jsx(c("Image.react"),{className:c("joinClasses")("_6vg","_6kf_"),height:m,src:this.$5(),width:m}),k.jsx("div",{className:"_6rig"})]}),e=b&&k.jsx("div",{className:"_6ljh",children:k.jsx("div",{className:"_6lji",children:k.jsx(c("GeoSpinner.react"),{size:"large"})})}));return c("isTruthy")(this.props.useProfileActorSelector)?k.jsxs("div",{children:[k.jsx(c("XUIPopoverButton.react"),{"aria-label":this.props.ariaLabel,chevron:k.jsx(c("Image.react"),{src:i("364970")}),className:"_6n1z",disabled:this.props.disabled,haschevron:!0,image:k.jsxs("div",{className:"_6ljg",children:[d,e]}),label:this.$7(),labelIsHidden:!this.props.showPageName,ref:c("stringRefShim")(this,"open-menu-button"),size:"xxlarge",suppressed:this.props.suppressed,type:"button",onClick:this.$6}),a]}):k.jsxs("span",{children:[k.jsx(c("XUIPopoverButton.react"),{"aria-label":this.props.ariaLabel,disabled:this.props.disabled,image:k.jsxs("span",{children:[d,e]}),label:this.$7(),labelIsHidden:!this.props.showPageName,maxwidth:this.props.maxwidth,ref:c("stringRefShim")(this,"open-menu-button"),suppressed:this.props.suppressed,type:"button",onClick:this.$6}),a]})};d.$5=function(){var a=this.props.selectedActorID;if(c("isStringNullOrEmpty")(a))return"";return a===this.props.user.id?this.props.user.thumbSrc||"":this.props.pages[a].thumbSrc||""};d.$7=function(){var a=this.props.selectedActorID;if(c("isStringNullOrEmpty")(a))return"";return a===this.props.user.id?this.props.user.name||"":this.props.pages[a].name||""};return b}(k.Component);a.defaultProps={disabled:!1,showPageName:!1,onClick:function(){return void 0}};g["default"]=a}),98);
__d("PagesCalloutDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b.dispatch=b.dispatch.bind(babelHelpers.assertThisInitialized(b));return b}return b}(c("ExplicitRegistrationReactDispatcher"));b=new a({strict:!0});g["default"]=b}),98);
__d("BaseAsyncLoader",["KeyedCallbackManager","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){var g={};function h(a,c,d){var e=new(b("KeyedCallbackManager"))(),f=!1,g=[];function h(){if(!g.length||f)return;f=!0;b("setTimeoutAcrossTransitions")(j,0)}function i(a){f=!1,a.forEach(e.unsubscribe.bind(e)),h()}function j(){var b={},c=[];g=g.filter(function(a){var d=e.getUnavailableResources(a);if(d.length){d.forEach(function(a){b[a]=!0});c.push(a);return!0}return!1});var h=Object.keys(b);h.length?d(a,h,c,k.bind(null,c),l.bind(null,c)):f=!1}function k(a,b){b=b.payload[c]||b.payload;e.addResourcesAndExecute(b);i(a)}function l(a){i(a)}return{get:function(a,b){a=e.executeOrEnqueue(a,b);b=e.getUnavailableResources(a);b.length&&(g.push(a),h())},getCachedKeys:function(){return Object.keys(e.getAllResources())},getNow:function(a){return e.getResource(a)||null},set:function(a){e.addResourcesAndExecute(a)}}}function a(a,b){throw new Error("BaseAsyncLoader can't be instantiated")}Object.assign(a.prototype,{_getLoader:function(){g[this._endpoint]||(g[this._endpoint]=h(this._endpoint,this._type,this.send));return g[this._endpoint]},get:function(a,b){return this._getLoader().get(a,b)},getCachedKeys:function(){return this._getLoader().getCachedKeys()},getNow:function(a){return this._getLoader().getNow(a)},reset:function(){g[this._endpoint]=null},set:function(a){this._getLoader().set(a)}});e.exports=a}),null);
__d("AjaxLoader",["AsyncRequest","BaseAsyncLoader","LogHistory"],(function(a,b,c,d,e,f){var g=b("LogHistory").getInstance("ajax_loader");function a(a,b){this._endpoint=a,this._type=b}Object.assign(a.prototype,b("BaseAsyncLoader").prototype);a.prototype.send=function(a,c,d,e,f){new(b("AsyncRequest"))().setURI(a).setData({ids:c}).setMethod("POST").setReadOnly(!0).setAllowCrossPageTransition(!0).setHandler(function(a){e(a)}).setTimeoutHandler(10*1e3,function(a){f(),g.error("fetch_timeout","{}")}).setErrorHandler(function(a){f(),g.error("fetch_error",JSON.stringify({error_type:a.errorSummary,error_text:a.errorDescription}))}).send()};e.exports=a}),null);
__d("XChatUserInfoAllAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/chat/user_info_all/",{viewer:{type:"Int",required:!0}})}),null);
__d("ShortProfilesBootstrapper",["AsyncRequest","CurrentUser","ODS","Promise","XChatUserInfoAllAsyncController"],(function(a,b,c,d,e,f){"use strict";var g,h,i=5,j=1e4,k=b("XChatUserInfoAllAsyncController").getURIBuilder().setInt("viewer",b("CurrentUser").getID()).getURI();a=function(){function a(a){var c=this;this.$1=a;this.$2=new(g||(g=b("Promise")))(function(a,b){c.$3=a,c.$4=b});this.$5=!1;this.$6=null;this.$7=0;this.$8=0;this.$9=0;this.$10=!1;this.$11=!1}var c=a.prototype;c.fetchAll=function(){var a=this;this.$12();if(this.$5||this.$6)return this.$2;if(this.$7>=i){this.$13();return this.$2}this.$7++;this.$14();this.$6=new(b("AsyncRequest"))(k).setHandler(function(b){a.$6=null,a.$5=!0,a.$15(),a.$1(b.payload),a.$3()}).setErrorHandler(function(){a.$6=null,a.$8++,a.$16()}).setTimeoutHandler(j,function(){a.$6=null,a.$9++,a.$17(),a.fetchAll()}).setAllowCrossPageTransition(!0);this.$6.send();return this.$2};c.isBootstrapped=function(){return this.$5};c.isBootstrapping=function(){return!!this.$6};c.getAttemptCount=function(){return this.$7};c.getErrorCount=function(){return this.$8};c.getTimeoutCount=function(){return this.$9};c.$12=function(){this.$10||((h||(h=b("ODS"))).bumpEntityKey(3303,"chat.web","typeahead.bootstrap.starts"),this.$10=!0)};c.$14=function(){(h||(h=b("ODS"))).bumpEntityKey(3303,"chat.web","typeahead.bootstrap.attempts")};c.$15=function(){(h||(h=b("ODS"))).bumpEntityKey(3303,"chat.web","typeahead.bootstrap.successes"),this.$7>1&&(h||(h=b("ODS"))).bumpEntityKey(3303,"chat.web","typeahead.bootstrap.successes_after_retries")};c.$16=function(){(h||(h=b("ODS"))).bumpEntityKey(3303,"chat.web","typeahead.bootstrap.errors")};c.$17=function(){(h||(h=b("ODS"))).bumpEntityKey(3303,"chat.web","typeahead.bootstrap.timeouts")};c.$13=function(){this.$11||((h||(h=b("ODS"))).bumpEntityKey(3303,"chat.web","typeahead.bootstrap.giveups"),this.$11=!0,this.$4())};return a}();e.exports=a}),null);
__d("XChatUserInfoAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/chat/user_info/",{ids:{type:"IntVector",defaultValue:[]}})}),null);
__d("ShortProfiles",["AjaxLoader","CurrentUser","ShortProfilesBootstrapper","URI","XChatUserInfoAsyncController","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h,i=null,j=new(c("AjaxLoader"))(c("XChatUserInfoAsyncController").getURIBuilder().getURI().toString(),"profiles");function a(a,b){k([a],function(c){return b(c[a],a)})}function k(a,b){j.get(a,b||c("emptyFunction"))}function l(a){return j.getNow(a)||null}function b(a){var b={};a.forEach(function(a){return b[a]=l(a)});return b}function d(){return j.getCachedKeys()}function e(){return!!i&&i.isBootstrapped()}function f(){i||(i=new(c("ShortProfilesBootstrapper"))(function(a){j.set(a)}));return i.fetchAll()}function m(a,b){var c={};c[a]=b;n(c)}function n(a){if(c("CurrentUser").isWorkUser()){var b={};Object.keys(a).forEach(function(d){var e=a[d];(e.type!=="fb4c"||!e.uri)&&(b[d]=e);var f=new(h||(h=c("URI")))(e.uri).setDomain("").setProtocol("").toString();b[d]=babelHelpers["extends"]({},e,{uri:f})});a=b}j.set(a)}g.get=a;g.getMulti=k;g.getNow=l;g.getMultiNow=b;g.getCachedProfileIDs=d;g.hasAll=e;g.fetchAll=f;g.set=m;g.setMulti=n}),98);
__d("ActorSelector.react",["cx","Arbiter","BizSiteIdentifier.brands","BootloadedComponent.react","Bootloader","Event","JSResource","PageVoiceDropdownSelector.react","PagesCalloutDispatcher","ReactDOM_DEPRECATED","ShortProfiles","TooltipData","emptyFunction","getObjectValues","goURI","joinClasses","prop-types","react","stringRefShim","tidyEvent","vulture"],(function(a,b,c,d,e,f,g){var h,i=h||b("react"),j=500;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={actorData:{},nuxShown:!1,selectedActorID:d.props.selectedActorID},d.$4=function(){b("vulture")("oyeU1BP1Qok4Dbo0wA9SZBeaXx0=");return d.refs.selector},d.$3=function(){b("ShortProfiles").getMulti(d.props.actorIDs,function(a){b("vulture")("XrvwoUr0XlfbseJ68robDpTJgS8="),d.$2&&d.setState({actorData:a})})},d.$9=function(){b("vulture")("Khs_zwh9PzzrcFDcOXck5GXQh4Y=");d.state.nuxShown&&d.$5();var a=d.props.onClick;a&&a()},d.$8=function(a){b("vulture")("SySkc1o5i7BDRRout875jcIMhqI=");if(d.props.syncEnabled){b("Arbiter").inform("ActorSelector/ActorChange",a);return}d.props.onChange(a)},d.$6=function(){b("vulture")("Mhs41FQfzgCNEkO2lXK069z9awk="),d.$5(),b("goURI")(d.props.settingsURI)},d.$5=function(){b("vulture")("cVmNRg2nUnecYvXwTc-AKADzrgI="),d.setState({nuxShown:!1}),d.props.onCompleteNux&&d.props.onCompleteNux()},d.$11=function(){if(!d.props.nuxEnabled)return;d.props.nuxHoverContext&&!d.$14&&(d.$14=b("tidyEvent")(b("Event").listen(d.props.nuxHoverContext,"mouseenter",function(){b("vulture")("rAfLid3629-TT9Bn8Pk5MjCi984=");b("Bootloader").loadModules(["ActorSelectorNUXLayer.react"],b("emptyFunction"),"ActorSelector.react");var a=setTimeout(function(){b("vulture")("gVcsbBOuGES-2yz8JHcXUtd6ECM="),d.$14.remove(),d.$15()},j),c=b("tidyEvent")(b("Event").listen(d.props.nuxHoverContext,"mouseleave",function(){b("vulture")("kHpiw1URl_eErbilzfpM3JArgqk="),clearTimeout(a),c.remove()}))})))},d.$10=function(){if(!d.props.nuxEnabled||!d.props.pageTimelineNuxTipID)return;b("PagesCalloutDispatcher").dispatch({type:"register_callout",data:{tip_id:d.props.pageTimelineNuxTipID,showCallback:function(){return d.$15()}}})},d.$15=function(){b("vulture")("eW7fla9_SZy4-xN6GZEJb-UsOV0="),d.props.nuxEnabled&&d.setState({nuxShown:!0})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$2=!0,this.$3()};d.render=function(){if(!this.state.selectedActorID||!this.state.actorData[this.state.selectedActorID])return i.jsx("div",{});if(this.props.actorIDs.length===0)return i.jsx("div",{});var a=null;this.state.nuxShown&&(a=i.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ActorSelectorNUXLayer.react").__setRef("ActorSelector.react"),bootloadPlaceholder:i.jsx("span",{}),onCompleteNux:this.$5,onClickSettings:this.$6,settingsURI:this.props.settingsURI,shown:!0,contextRef:this.$4,nuxBody:this.props.nuxBody}));return i.jsxs("span",{className:b("joinClasses")("_6vh",this.props.className),"data-testid":void 0,children:[i.jsx("span",{ref:b("stringRefShim")(this,"selector"),children:i.jsx(b("PageVoiceDropdownSelector.react"),{ariaLabel:this.$7(),dialogShown:this.props.dialogShown,disabled:this.props.disabled,loading:this.props.loading,pages:this.state.actorData,onChange:this.$8,onClick:this.$9,selectedActorID:this.state.selectedActorID,searchBarVisible:!0,showBusinessPages:!1,showPageName:this.props.showName,showNameMaxWidth:this.props.showNameMaxWidth,showPersonalPagesInRoot:!b("BizSiteIdentifier.brands").isBizSite(),suppressed:this.props.suppressed,useProfileActorSelector:this.props.useProfileActorSelector,useUFIPhotoOverlay:this.props.useUFIPhotoOverlay,user:b("getObjectValues")(this.state.actorData)[0]})}),a]})};d.componentDidMount=function(){this.$10(),this.$11(),this.$12(),this.props.syncEnabled&&this.$13()};d.componentDidUpdate=function(a,c){this.props.actorIDs.toString()!==a.actorIDs.toString()&&this.$3(),this.$11(),this.$12(),this.state.nuxShown&&!c.nuxShown&&this.props.onShowNux&&this.props.onShowNux(),this.props.selectedActorID!==a.selectedActorID&&(this.setState({selectedActorID:this.props.selectedActorID}),b("Arbiter").inform("ActorSelector/ActorSelected",{selectedActorID:this.props.selectedActorID}))};d.componentWillUnmount=function(){b("vulture")("afvA_9LbZ1burAZGW5SHgbqab8w="),this.$2=!1,this.$1&&b("Arbiter").unsubscribe(this.$1)};d.$13=function(){var a=this;b("vulture")("9lybi_E-NM5DybXdUo90YE29zWg=");this.$1=b("Arbiter").subscribe("ActorSelector/ActorChange",function(c,d){b("vulture")("sg-YwTmG3UK8v9mfJMYJBZtO_5Y=");if(a.props.actorIDs.indexOf(d.value)===-1)return;a.setState({selectedActorID:d.value},function(){return a.props.onChange(d)})})};d.$16=function(){b("vulture")("fsyKUc7cr3rcx52qLF1kjgU_JRY=");var a=this.state.actorData[this.state.selectedActorID];if(!a)return null;return!this.props.tooltipConstructor?null:this.props.tooltipConstructor(a.name)};d.$7=function(){b("vulture")("-4OsDMrWofLRbGuB9DPy3HL6CDk=");var a=this.$16();return!a?null:a.toString()};d.$12=function(){if(!this.refs.selector)return;var a=this.$16();if(!a)return;b("TooltipData").set(b("ReactDOM_DEPRECATED").findDOMNode_DEPRECATED(this.refs.selector),a,"above","right")};return c}(i.Component);a.propTypes={actorIDs:b("prop-types").array.isRequired,dialogShown:b("prop-types").bool,disabled:b("prop-types").bool,loading:b("prop-types").bool,nuxBody:b("prop-types").node,nuxEnabled:b("prop-types").bool,nuxHoverContext:b("prop-types").object,onChange:b("prop-types").func.isRequired,onClick:b("prop-types").func,onCompleteNux:b("prop-types").func,onShowNux:b("prop-types").func,pageTimelineNuxTipID:b("prop-types").string,selectedActorID:b("prop-types").string,settingsURI:b("prop-types").string,showName:b("prop-types").bool,showNameMaxWidth:b("prop-types").number,suppressed:b("prop-types").bool,syncEnabled:b("prop-types").bool,tooltipConstructor:b("prop-types").func,useProfileActorSelector:b("prop-types").bool,useUFIPhotoOverlay:b("prop-types").bool};a.defaultProps={disabled:!1,suppressed:!0};e.exports=a}),null);
__d("Alignment",["invariant","DOMVector","Style","containsNode"],(function(a,b,c,d,e,f,g,h){var i=function(){function a(a,b,c){this.$1=b,this.$2=c,this.$3=a}var b=a.prototype;b.getElement=function(){return this.$3};b.getX=function(){return this.$1};b.getY=function(){return this.$2};b.isCorner=function(){return(this.$1===a.LEFT||this.$1===a.RIGHT)&&(this.$2===a.TOP||this.$2===a.BOTTOM)};b.getPosition=function(a){return c("DOMVector").getElementPosition(this.$3,a).add(this.getX()*this.$3.offsetWidth,this.getY()*this.$3.offsetHeight)};return a}();i.LEFT=0;i.CENTER=.5;i.RIGHT=1;i.TOP=0;i.MIDDLE=.5;i.BOTTOM=1;a=function(){function a(a,b,d){this.$1=a,this.$2=b,this.$3=d,c("containsNode")(a.getElement(),b.getElement())||h(0,5861),a.isCorner()||h(0,5862)}var b=a.prototype;b.align=function(){var b=this;a.$4(this.$1,function(){return a.measure(b.$2,b.$3)})};a.$4=function(a,b){var d=a.getElement();c("Style").apply(d,{left:a.getX()===i.LEFT?"0":"",right:a.getX()===i.RIGHT?"0":"",top:a.getY()===i.TOP?"0":"",bottom:a.getY()===i.BOTTOM?"0":""});b=b();a.getX()===i.LEFT?c("Style").set(d,"left",b.x+"px"):a.getX()===i.RIGHT&&c("Style").set(d,"right",-b.x+"px");a.getY()===i.TOP?c("Style").set(d,"top",b.y+"px"):a.getY()===i.BOTTOM&&c("Style").set(d,"bottom",-b.y+"px")};a.position=function(b,d){a.$4(b,function(){var a=c("DOMVector").getElementPosition(b.getElement());return d.convertTo("document").sub(a)})};a.measure=function(a,b){a=a.getPosition("document");b=b.getPosition("document");return b.sub(a)};return a}();a.Anchor=i;g["default"]=a}),98);
__d("DocumentMentionsRegex",[],(function(a,b,c,d,e,f){"use strict";a="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;";b="\\b[A-Z][^\\s"+a+"]";c={PUNCTUATION:a,NAME:b};d=c;f["default"]=d}),66);
__d("AtSignMentionsWithLongAliasStrategy",["DocumentMentionsRegex"],(function(a,b,c,d,e,f){a=b("DocumentMentionsRegex").PUNCTUATION;c=["@","\\uff20"].join("");d="[^"+c+a+"\\s]";e="(?:\\.[ |$]| |["+a+"]|)";b=75;var g=new RegExp("(?:^|\\s|\\()(["+c+"]((?:"+d+e+"){0,"+b+"}))$");a=50;var h=new RegExp("(?:^|\\s|\\()(["+c+"]((?:"+d+"){0,"+a+"}))$");e={name:"AtSignMentionsWithLongAliasStrategy",findMentionableString:function(a){var b=g.exec(a);b===null&&(b=h.exec(a));if(b!==null){a=b[2];if(a.length)return{matchingString:a,leadOffset:b[1].length}}return null}};b=e;f["default"]=b}),66);
__d("SUISpinnerUniform.bui",["cssVar"],(function(a,b,c,d,e,f,g,h){"use strict";a={activeColor:"#1877F2",backgroundColor:"#CCD0D5",darkActiveColor:"#FFFFFF",darkBackgroundColor:"rgba(255, 255, 255, 0.3)",sizes:{large:{border:2,diameter:20},small:{border:1.5,diameter:13}}};b=a;g["default"]=b}),98);
__d("BUISpinner_DEPRECATED.react",["cx","BUIText.react","SUISpinner.react","SUISpinnerUniform.bui","joinClasses","makeBUIStandardComponent","makeSUIFDSPrivateTheme","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={maxWidth:"100%"},l=1.25,m=c("makeSUIFDSPrivateTheme")("BUISpinner_DEPRECATED",{SUISpinner:c("SUISpinnerUniform.bui")});a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.$1=function(){return this.props.center===void 0?Boolean(this.props.title):this.props.center};d.render=function(){var a=this.props,b=a.shade==="light"?"dark":"light",d=Boolean(a.title),e=this.$1();if(!d&&!e)return j.jsx(c("SUISpinner.react"),{animationDuration:750,arcSpread:l,background:b,"data-testid":void 0,margin:a.margin,size:a.size,style:a.style,theme:m});var f=null;if(d){d=b==="dark"?["white","primary"]:["primary","secondary"];var g=d[0];d=d[1];f=j.jsxs("div",{style:k,children:[j.jsx(c("BUIText.react"),{color:g,display:"truncate",margin:"_3-8y",palette:b,size:"header4",textAlign:"center",weight:"bold",whiteSpace:"nowrap",children:a.title}),a.subtitle!=null&&j.jsx(c("BUIText.react"),{color:d,display:"truncate",margin:"_3-8w",palette:b,size:"body2",textAlign:"center",whiteSpace:"nowrap",children:a.subtitle})]})}return j.jsxs("div",{className:c("joinClasses")("_aeqv"+(a.shade==="light"?" _aeqw":"")+(e?" _aeqx":""),a.margin),"data-testid":void 0,style:a.style,children:[j.jsx(c("SUISpinner.react"),{animationDuration:750,arcSpread:l,background:b,size:a.size,theme:m}),f]})};return b}(j.PureComponent);a.defaultProps={shade:"dark",size:"large"};b=c("makeBUIStandardComponent")("BUISpinner_DEPRECATED",a);g["default"]=b}),98);
__d("CapitalizedNameMentionsStrategy",["DocumentMentionsRegex"],(function(a,b,c,d,e,f){"use strict";a=1;var g=new RegExp("(^|[^#])((?:"+b("DocumentMentionsRegex").NAME+"{"+a+",})$)");c={name:"CapitalizedNameMentionsStrategy",findMentionableString:function(a){a=g.exec(a);return a!==null?{matchingString:a[2],leadOffset:a[2].length}:null}};d=c;f["default"]=d}),66);
__d("ChatReliabilityEvents",[],(function(a,b,c,d,e,f){a=Object.freeze({ERROR:"error",CHANNEL_DISCONNECT:"channel_disconnect",CHANNEL_CONNECT:"channel_connect",CHANNEL_INIT:"channel_init",CHANNEL_NOCONFIG:"channel_noconfig",CHANNEL_HISTORY_INVALID:"channel_history_invalid",CHANNEL_STALLED:"channel_stalled",MESSAGE_RECEIVED:"msg_received",MESSAGE_SEND_START:"msg_send_start",THREAD_INFO_ENDPOINT_FATAL:"thread_info_fatal",DFF_ENDPOINT_FATAL:"invalidate_global_state_fatal",DFF_DELTA_INIT:"dff_initiated_by_delta",DFF_HOLE_INIT:"dff_initiated_by_hole",FETCHING_MANY_MESSAGES:"fetching_many_messages",THREAD_INFO_MISSING:"thread_info_missing",SET_THREAD_ID_MAP:"set_thread_id_map",DELETE_THREAD:"delete_thread",PROCESS_DELTA:"process_delta",RTI_SESSION:"chatproxy_rti_session",ON_INVALID_HISTORY:"chatproxy_on_invalid_history",GET_DEBUG_PRESENCE:"chatproxy_get_debug_presence"});f["default"]=a}),66);
__d("ChatReliabilityTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:ChatReliabilityLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:ChatReliabilityLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:ChatReliabilityLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setEventData=function(a){this.$1.event_data=a;return this};return a}();c={event:!0,event_data:!0};f["default"]=a}),66);
__d("ChatReliabilityInstrumentation",["ChatReliabilityEvents","ChatReliabilityTypedLogger","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a,b){if(!c("gkx")("25480"))return;new(c("ChatReliabilityTypedLogger"))().setEvent(a).setEventData(b).log()};function a(a){h(c("ChatReliabilityEvents").ERROR,a)}function b(a){h(c("ChatReliabilityEvents").CHANNEL_DISCONNECT,a)}function d(a){h(c("ChatReliabilityEvents").CHANNEL_CONNECT,a)}function e(a){h(c("ChatReliabilityEvents").CHANNEL_HISTORY_INVALID,a)}function f(a){h(c("ChatReliabilityEvents").MESSAGE_RECEIVED,a)}function i(a){h(c("ChatReliabilityEvents").MESSAGE_SEND_START,a)}function j(a){h(c("ChatReliabilityEvents").CHANNEL_STALLED,a)}function k(a){h(c("ChatReliabilityEvents").CHANNEL_INIT,a)}function l(a){h(c("ChatReliabilityEvents").CHANNEL_NOCONFIG,a)}function m(a){h(c("ChatReliabilityEvents").DFF_DELTA_INIT,a)}function n(a){h(c("ChatReliabilityEvents").DFF_HOLE_INIT,a)}function o(a){h(c("ChatReliabilityEvents").FETCHING_MANY_MESSAGES,a)}function p(a){h(c("ChatReliabilityEvents").PROCESS_DELTA,a)}function q(a){h(c("ChatReliabilityEvents").THREAD_INFO_MISSING,a)}function r(a){h(c("ChatReliabilityEvents").SET_THREAD_ID_MAP,a)}function s(a){h(c("ChatReliabilityEvents").DELETE_THREAD,a)}function t(a){h(a)}g.logERROR=a;g.logCHANNEL_DISCONNECT=b;g.logCHANNEL_CONNECT=d;g.logCHANNEL_HISTORY_INVALID=e;g.logMESSAGE_RECEIVED=f;g.logMESSAGE_SEND_START=i;g.logCHANNEL_STALLED=j;g.logCHANNEL_INIT=k;g.logCHANNEL_NOCONFIG=l;g.logDFF_DELTA_INIT=m;g.logDFF_HOLE_INIT=n;g.logFETCHING_MANY_MESSAGES=o;g.logPROCESS_DELTA=p;g.logTHREAD_INFO_MISSING=q;g.logSET_THREAD_ID_MAP=r;g.logDELETE_THREAD=s;g.logCHATPROXY_EVENT=t}),98);
__d("CloseButton.react",["cx","fbt","CloseButtonIcon","Image.react","joinClasses","react"],(function(a,b,c,d,e,f,g,h,i){var j,k=j||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){var a=this.props,b=a.size||"medium",d=a.appearance||"normal",e=b==="small";b=b==="huge";var f=d==="dark";d=d==="inverted";var g=a.ajaxify||null,h=a.rel||null;b="uiCloseButton"+(e?" uiCloseButtonSmall":"")+(b?" uiCloseButtonHuge":"")+(e&&f?" uiCloseButtonSmallDark":"")+(e&&d?" uiCloseButtonSmallInverted":"")+(!e&&f?" uiCloseButtonDark":"")+(!e&&d?" uiCloseButtonInverted":"");f=i._(/*BTDS*/"\u0110\u00f3ng");e=babelHelpers["extends"]({},this.props);delete e.size;delete e.appearance;delete e.ajaxify;delete e.tooltip;delete e.ariaLabel;return k.jsx("a",babelHelpers["extends"]({},e,{ajaxify:g,href:"#",role:"button",title:a.ariaLabel||f,"aria-label":a.ariaLabel||f,"data-hover":a.tooltip&&"tooltip","data-skipchecker":null,"data-tooltip-alignh":a.tooltip&&"center","data-tooltip-content":a.tooltip,className:c("joinClasses")(this.props.className,b),rel:h,children:k.jsx(c("Image.react"),{className:"uiCloseButtonHighContrast",src:c("CloseButtonIcon").icon})}))};return b}(k.Component);g["default"]=a}),226);
__d("CommentVoteReactionType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,UPVOTE:1,DOWNVOTE:2});f["default"]=a}),66);
__d("CommentVoteUIVersion",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:"none",INSIDE_BLING_BAR:"inside_bling_bar",VERTICAL_ON_THE_SIDE:"vertical_on_the_side",COMMUNITY_REPUTATION:"community_reputation",COMMUNITY_REPUTATION_INLINE_VOTING:"community_reputation_inline_voting",INSIDE_QA_BLING_BAR:"inside_qa_bling_bar"});f["default"]=a}),66);
__d("DevxFluxDispatcher",["Dispatcher_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.handleServerAction=function(a){this.$DevxFluxDispatcher$p_1("serverAction",a)};c.handleViewAction=function(a){this.$DevxFluxDispatcher$p_1("viewAction",a)};c.$DevxFluxDispatcher$p_1=function(a,b){this.dispatch(babelHelpers["extends"]({source:a},b))};return b}(c("Dispatcher_DEPRECATED"));b=new a();g["default"]=b}),98);
__d("XCommentEmbedPluginEmbedAsyncDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/comment-embed/async/embed/dialog/",{__asyncDialog:{type:"Int"},comment_id:{type:"String",required:!0},width:{type:"Int"}})}),null);
__d("XPluginCommentsBanAuthorAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/comments/moderate/ban/{comment_id}/",{comment_id:{type:"String",required:!0}})}),null);
__d("XPluginCommentsCreateCommentAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/comments/async/createComment/{target_id}/",{privacy_mutation_token:{type:"String"},target_id:{type:"Int",required:!0}})}),null);
__d("XPluginCommentsCreateReplyAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/comments/async/createReply/{parent_comment_id}/",{privacy_mutation_token:{type:"String"},parent_comment_id:{type:"String",required:!0}})}),null);
__d("XPluginCommentsDeleteCommentAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/comments/async/delete/",{})}),null);
__d("XPluginCommentsEditCommentAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/comments/async/edit/",{privacy_mutation_token:{type:"String"}})}),null);
__d("XPluginCommentsFlagCommentAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/comments/async/flag/",{})}),null);
__d("XPluginCommentsHideCommentAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/comments/moderate/hide/{url_id}/",{url_id:{type:"Int",required:!0},action:{type:"Enum",required:!0,enumType:1},type:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XPluginCommentsLikeCommentAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/comments/async/like/",{action_like:{type:"Bool",defaultValue:!1}})}),null);
__d("XPluginCommentsPagerAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/comments/async/{target_id}/pager/{ordering}/",{target_id:{type:"Int",required:!0},ordering:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XPluginCommentsRepliesPagerAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/comments/async/comment/{comment_id}/pager/",{comment_id:{type:"String",required:!0}})}),null);
__d("getVisibleValueForContentState",["emptyFunction"],(function(a,b,c,d,e,f){function a(a){var c=a.getBlockMap().map(function(c){var d=c.getText(),e="";c.findEntityRanges(b("emptyFunction").thatReturnsTrue,function(b,f){var g=c.getEntityAt(b);if(g==null)e+=d.slice(b,f);else{g=a.getEntity(g);g.getType()==="EMOTICON"?e+=g.getData().originalEmoticon:g.getType()==="EMOJI"?e+=g.getData().emoji.join(""):e+=d.slice(b,f)}});return e});return c.join("\n")}e.exports=a}),null);
__d("CommentsPluginStore",["invariant","ActorURI","AsyncDialog","AsyncRequest","CurrentUser","DeveloperCommentsModerationAction","DeveloperCommentsModerationType","DevxFluxDispatcher","PluginConsent","PluginOptin","ThisControllerNoLongerExists","URI","UnverifiedXD","WebStorage","XCommentEmbedPluginEmbedAsyncDialogController","XPluginCommentsBanAuthorAsyncController","XPluginCommentsCreateCommentAsyncController","XPluginCommentsCreateReplyAsyncController","XPluginCommentsDeleteCommentAsyncController","XPluginCommentsEditCommentAsyncController","XPluginCommentsFlagCommentAsyncController","XPluginCommentsHideCommentAsyncController","XPluginCommentsLikeCommentAsyncController","XPluginCommentsPagerAsyncController","XPluginCommentsRepliesPagerAsyncController","getMentionsTextForContentState","getVisibleValueForContentState","mixInEventEmitter","nullthrows","uniqueID"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=10,l="__DEVX__",m={visibleValue:"",encodedValue:""};a={change:!0,composerChange:!0,composerCommentAdded:!0,login:!0,moreCommentsCompleted:!0,moreRepliesCompleted:!0,postError:!0,sortingCompleted:!0,sentryAction:!0,previousComposerCommentPrefill:!0,actorChange:!0,previousPostToFeedPrefill:!0,commentsCountChange:!0,likeStateChange:!0,afterActorChange:!0};var n={maxLines:10,maxLength:1e3},o="0",p=[],q={},r={userID:null,actors:{},actorsOptIn:{},appID:null,afterCursor:null,channelURL:null,composerSearchSource:{},deeplinkedCommentID:null,href:"",iframeReferer:null,isMobile:!1,isModerator:!1,mirroredPage:null,moderateURL:null,targetFBID:null,totalCount:0,user:{id:o},minFeedLength:0,maxCommentLength:0,enablePhoto:!1,enableSticker:!1,ret:null,threadClosed:!1,shouldSwitchAccount:!1,fromModTool:!1,privacyOptionsList:[],consentRequired:!1},s=!1,t=!1,u="current_composer",v={},w={},x={},y={},z={ordering:null,ranking_allowed:null},A={},B={},C={setPostToFeed:!0,sort:!0,showMoreComments:!0,showMoreReplies:!0,toggleVisibility:!0,setPrivacyOption:!0},D={restorePreviousState:!0,setUser:!0,edit:!0,showReplyComposer:!0,cancelEdit:!0,cancelReply:!0},E={addComment:!0,addReply:!0,saveEdit:!0},F={};function G(a){Object.prototype.hasOwnProperty.call(N,a)||h(0,3351,a)}function H(){Array.isArray(p)||h(0,3348),q instanceof Object||h(0,3349)}function I(a){var b,e=M.getUser().id,f=a.action;b=(b=N[a.action]).bind.apply(b,[N].concat(a.args));if(M.isLoggedIn()&&(M.isPlatformEnabled(e)||D[f])||C[f])b.call();else if(M.isConsentRequired())new(d("PluginConsent").PluginConsent)("comments",r.appID||"105440539523").addReturnParams({numposts:Math.min(Math.max(1,r.totalCount),100),order_by:z.ordering}).start();else{e=(i||(i=c("WebStorage"))).getSessionStorage();e&&e.setItem("previousState",JSON.stringify(J(a)));new(c("PluginOptin"))("comments").addReturnParams({numposts:Math.min(Math.max(1,r.totalCount),100),order_by:z.ordering}).start()}}function J(a){var b="",c="",d=[],e={},f={},g=s,h=u,i=M.getCreateComposerContent();i&&(b=i.encodedValue);E[a.action]||(c=a.action,d=a.args);Object.keys(A).forEach(function(a){var b=M.getCreateComposerContent(a);b.encodedValue&&(e[a]=b.encodedValue)});Object.keys(B).forEach(function(a){var b=M.getEditComposerContent(a);b.encodedValue&&(f[a]=b.encodedValue)});return{commentBody:b,action:c,commentIDs:d,replies:e,edits:f,postToFeed:g,privacyOption:h}}function K(a,b,c){return c.indexOf(a)===b}function L(a,b){if(!r.channelURL)return;b.href=r.href;c("UnverifiedXD").send({data:JSON.stringify(b),event:a,type:"sdk_event"},r.channelURL)}var M={getCommentIDs:function(){return p},getByID:function(a){H();return c("nullthrows")(q)[a]},isOptimisticComment:function(a){return a.id.startsWith(l)},getCurrentSorting:function(){return c("nullthrows")(z.ordering)},isRankingAllowed:function(){return c("nullthrows")(z.ranking_allowed)},getTargetFBID:function(){return c("nullthrows")(r.targetFBID)},getCommentsCount:function(){H();return r.totalCount},updateCommentsCount:function(a){r.totalCount+=a,M.emit("commentsCountChange")},getUser:function(){return r.user},getIframeReferer:function(){return r.iframeReferer},getAuthor:function(a){return M.getByID(M.getByID(a).authorID)},getPageSize:function(){return k},getCommentBodyTruncationLimits:function(){return n},getComposerSearchSource:function(){return r.composerSearchSource},getMirroredPage:function(){return r.mirroredPage},getMinFeedLength:function(){return r.minFeedLength+1},getMaxCommentLength:function(){return r.maxCommentLength?r.maxCommentLength:Number.MAX_VALUE},isMirrored:function(){return M.getMirroredPage()!=null},isReply:function(a){a=M.getByID(a);return a.targetID!==M.getTargetFBID()},getPermalink:function(a){var b=M.getByID(a);return new(j||(j=c("URI")))(b.ogURL).addQueryData({fb_comment_id:a}).toString()},isOptinReturn:function(){return!!r.ret},setActor:function(a){r.user=r.actors[a]},getPrivacyOptionsList:function(){return r.privacyOptionsList},getPostToFeed:function(){return s},getDisablePostToFeed:function(){return t},getPrivacyOption:function(){return u},setPostToFeed:function(a){s=a},setDisablePostToFeed:function(a){t=a},setPrivacyOption:function(a){u=a},getEnablePhoto:function(){return r.enablePhoto},getEnableSticker:function(){return r.enableSticker},isDeeplinkComment:function(){return!!r.deeplinkedCommentID&&r.fromModTool},getOriginalLink:function(){return r.href},getCommentIDsToFetch:function(a){var b=M.getCommentIDsIncludingReplies(p);if(!F[a])return b;var c=Object.keys(F[a].hasLiked),d=[];b.forEach(function(a){!a.startsWith(l)&&!c.includes(a)&&d.push(a)});return d},canActorLike:function(a,b){return!F[b]?!1:!!F[b].canLike[a.id]},hasActorLiked:function(a,b){return!F[b]?!1:!!F[b].hasLiked[a.id]},setActorLike:function(a,b,c){F[c].hasLiked[a.id]=b},getCreateComposerAttachment:function(a){return v[a||l]||null},setCreateComposerAttachment:function(a,b){v[b||l]=a,M.emit("composerChange")},getEditComposerAttachment:function(a){return w[a]||null},setEditComposerAttachment:function(a,b){w[b]=a,M.emit("composerChange")},getLoadingCreateComposerAttachment:function(a){return x[a||l]||!1},setLoadingCreateComposerAttachment:function(a,b){x[b||l]=a,M.emit("composerChange")},getLoadingEditComposerAttachment:function(a){return y[a]||!1},setLoadingEditComposerAttachment:function(a,b){y[b]=a,M.emit("composerChange")},setCreateComposerState:function(a,b){A[b||l]=a,M.emit("composerChange")},getCreateComposerState:function(a){return A[a||l]||null},getCreateComposerContent:function(a){return M._editorStateToComposerPayload(M.getCreateComposerState(a))},isEmptyCreateComposer:function(a){return M.getLoadingCreateComposerAttachment(a)||M.getCreateComposerContent(a).visibleValue.trim()===""&&!M.getCreateComposerAttachment(a)},setEditComposerState:function(a,b){B[b]=a,M.emit("composerChange")},getEditComposerState:function(a){return B[a]},getEditComposerContent:function(a){return M._editorStateToComposerPayload(M.getEditComposerState(a))},isEmptyEditComposer:function(a){return M.getLoadingEditComposerAttachment(a)||M.getEditComposerContent(a).visibleValue.trim()===""&&!M.getEditComposerAttachment(a)},hasTextChanged:function(a,b){return a.trim()!==b.trim()},hasAttachmentChanged:function(a,b){if(a)return b?a.fbid!==b.fbid:!0;else return!!b},hasCommentChanged:function(a,b){var c=M.getByID(a);return M.hasTextChanged(b.encodedValue,c.body.text)||M.hasAttachmentChanged(w[a],c.photo_comment||c.attachment)},_editorStateToComposerPayload:function(a){if(!a)return m;a=a.getCurrentContent();var b=c("getVisibleValueForContentState")(a);a=c("getMentionsTextForContentState")(a);return{visibleValue:b,encodedValue:a}},hasAttachment:function(){var a=Object.keys(x);for(var b=0;b<a.length;b++)if(x[a[b]]||v[a[b]])return!0;return!1},getActorIDs:function(){return Object.keys(r.actors)},getModerateURL:function(){return r.moderateURL},isLoggedIn:function(){return r.user.id!==o&&c("CurrentUser").isLoggedInNow()},isPlatformEnabled:function(a){return r.actorsOptIn[a]},isConsentRequired:function(){return r.consentRequired},isMobile:function(){return r.isMobile},shouldUseLegacyMentionsInput:function(){return M.isMobile()||!M.isLoggedIn()},shouldUseCustomActorSelector:function(){return M.isMobile()||document.body.offsetWidth<450},isViewerModerator:function(){return r.isModerator},isThreadClosed:function(){return r.threadClosed},shouldSwitchAccount:function(){return r.shouldSwitchAccount},hasUnloadedComments:function(){return!!r.afterCursor},hasUnloadedReplies:function(a){a=M.getByID(a).public_replies;if(!a)return!1;if(a.afterCursor)return!0;return(!a.commentIDs||a.commentIDs.length===0)&&a.totalCount>0?!0:!1},getUnloadedCommentsCount:function(){return r.totalCount-p.length},getDialogWidth:function(){return Math.min(document.body.offsetWidth-10,M.isMobile()?320:445)},dispatcherIndex:c("DevxFluxDispatcher").register(function(a){G(a.action),I(a)}),init:function(a,b,c,d){r=b,M.updateCommentData(a,c,r.userID),Object.keys(r.actors).forEach(function(a){return q[a]=r.actors[a]}),M.setActor(r.userID),z.ranking_allowed=d},updateCommentData:function(a,b,c){p=a.commentIDs,Object.assign(q,M.initComments(p,a.idMap)),z.ordering=b,M.initActorLikeState(M.getCommentIDsIncludingReplies(p),c)},getCommentIDsIncludingReplies:function(a){var b=a;p.forEach(function(a){a=q[a].public_replies;if(!a)return;a=a.commentIDs;if(!a)return;b=b.concat(a)});return b},initActorLikeState:function(a,b){var c=F[b]?F[b].hasLiked:{},d=F[b]?F[b].canLike:{};a.forEach(function(a){a=q[a];c[a.id]=!!a.hasLiked;d[a.id]=!!a.canLike});F[b]={hasLiked:c,canLike:d}},initComment:function(a){a.collapsed=!1;a.editor=!1;a.composer=!1;a.deleted=!1;a.flagged=!1;return a},initComments:function(a,b){a.forEach(function(a){return b[a]=M.initComment(b[a])});return b},emit:void 0,addListener:void 0,removeCurrentListener:void 0,ActionHandler:void 0};c("mixInEventEmitter")(M,a);var N={ban:function(a){var b=M.getByID(a);b.deleted=!0;M.emit("change");b=c("XPluginCommentsBanAuthorAsyncController").getURIBuilder().setString("comment_id",a).getURI();new(c("AsyncRequest"))(b).setMethod("POST").setData({ban:!0,source:"url"}).send()},hide:function(a){var b=M.getByID(a);b.deleted=!0;M.emit("change");b=c("XPluginCommentsHideCommentAsyncController").getURIBuilder().setInt("url_id",r.targetFBID).setEnum("action",c("DeveloperCommentsModerationAction").DELETE).setEnum("type",c("DeveloperCommentsModerationType").APPROVED).getURI();new(c("AsyncRequest"))(b).setData({comment_ids:[a]}).setMethod("POST").send()},addComment:function(){var a=M.getUser().id,b=M.getCreateComposerContent(),e=N._getAttachmentFBID(M.getCreateComposerAttachment()),f=d("ActorURI").create(c("XPluginCommentsCreateCommentAsyncController").getURIBuilder().setInt("target_id",r.targetFBID).getURI(),a);new(c("AsyncRequest"))(f).setData({app_id:r.appID,text:b.encodedValue,attached_photo_fbid:e.photoFBID,attached_sticker_fbid:e.stickerFBID,post_to_feed:M.getPostToFeed()&&!M.getDisablePostToFeed(),privacy_option:M.getPrivacyOption(),iframe_referer:r.iframeReferer}).setMethod("POST").setHandler(function(c){c=c.payload;var d=c.commentID;N._prependComment(c.idMap[d]);M.initActorLikeState([d],a);delete A[l];M.emit("composerCommentAdded",{});L("comment.create",{commentID:d,message:b.visibleValue});c.sentryAction&&M.emit("sentryAction",c.sentryAction,d)}).setErrorHandler(function(a){delete q[l],p.shift(),M.updateCommentsCount(-1),M.emit("change"),M.emit("postError",a)}).send();N._prependComment({authorID:r.user.id,targetID:r.targetFBID,body:{text:b.visibleValue}});M.updateCommentsCount(1)},addReply:function(a){var b=M.getUser().id,e=M.getCreateComposerContent(a),f=N._getAttachmentFBID(M.getCreateComposerAttachment(a)),g=d("ActorURI").create(c("XPluginCommentsCreateReplyAsyncController").getURIBuilder().setString("parent_comment_id",a).getURI(),b),h=l+c("uniqueID")();new(c("AsyncRequest"))(g).setData({app_id:r.appID,text:e.encodedValue,attached_photo_fbid:f.photoFBID,attached_sticker_fbid:f.stickerFBID,iframe_referer:r.iframeReferer,replied_to:M.getByID(a).replyToCommentID}).setMethod("POST").setHandler(function(c){var d=M.getByID(a),f=babelHelpers["extends"]({},d.public_replies);Object.assign(q,c.payload.idMap);d=M.getByID(a);d.public_replies=f;delete q[h];delete A[a];p.splice(p.indexOf(h),1);d.composer=!1;delete d.replyToCommentID;f=c.payload.commentID;d.public_replies.commentIDs.pop();d.public_replies.commentIDs.push(f);L("comment.create",{commentID:f,parentCommentID:a,message:e.visibleValue});M.initActorLikeState([f],b);M.emit("change")}).setErrorHandler(function(b){delete q[h],p.splice(p.indexOf(h),1),g=M.getByID(a),g.public_replies.commentIDs.pop(),g.public_replies.totalCount--,g.composer=!1,delete g.replyToCommentID,M.emit("change"),M.emit("postError",b)}).send();g=M.getByID(a);f=babelHelpers["extends"]({},g.public_replies);f.commentIDs||(f.commentIDs=[]);f.totalCount||(f.totalCount=0);f.totalCount++;f.commentIDs.push(h);g.public_replies=f;q[h]={authorID:r.user.id,body:{text:e.visibleValue},targetID:a,id:h};p.push(h);M.emit("change")},_prependComment:function(a){!a.id?a.id=l:(p.shift(),delete q[l]),p.unshift(a.id),q[a.id]=M.initComment(a),M.emit("change")},_getAttachmentFBID:function(a){var b=0,d=0;a&&(a.attachmentType==="photo"?b=c("nullthrows")(a.fbid):a.attachmentType==="sticker"&&(d=c("nullthrows")(a.fbid)));return{photoFBID:b,stickerFBID:d}},edit:function(a,b){a=M.getByID(a);a.editor=!0;a.prefillText=b;M.emit("change")},saveEdit:function(a){var b=JSON.parse(JSON.stringify(M.getByID(a))),e=d("ActorURI").create(c("XPluginCommentsEditCommentAsyncController").getURIBuilder().getURI(),M.getAuthor(a).id),f=M.getEditComposerContent(a),g=N._getAttachmentFBID(M.getEditComposerAttachment(a)),h=M.hasCommentChanged(a,f);if(h){new(c("AsyncRequest"))(e).setMethod("POST").setData({app_id:r.appID,text:f.encodedValue,comment_id:a,attached_photo_fbid:g.photoFBID,attached_sticker_fbid:g.stickerFBID,iframe_referer:r.iframeReferer}).setHandler(function(b){b=b.payload;q[b.commentID]=M.initComment(b.idMap[b.commentID]);delete B[a];M.emit("change")}).setErrorHandler(function(c){b.editor=!1,Object.assign(M.getByID(a),b),M.emit("change"),M.emit("postError",c)}).send();h=M.getByID(a);h.editor=!1;h.body.text=f.visibleValue;g.photoFBID===0&&delete h.photo_comment;g.stickerFBID===0&&delete h.attachment;delete h.ranges;M.emit("change")}else N.cancelEdit(a)},cancelEdit:function(a){a=M.getByID(a);a.editor=!1;M.emit("change")},"delete":function(a){var b=M.getByID(a);b.deleted=!0;b=d("ActorURI").create(c("XPluginCommentsDeleteCommentAsyncController").getURIBuilder().getURI(),M.getAuthor(a).id);new(c("AsyncRequest"))(b).setData({app_id:r.appID,comment_id:a,iframe_referer:r.iframeReferer}).setMethod("POST").setHandler(function(){return L("comment.remove",{commentID:a})}).setErrorHandler(function(b){b=M.getByID(a);b.deleted=!1;M.isReply(a)||M.updateCommentsCount(1);M.emit("change")}).send();M.isReply(a)||M.updateCommentsCount(-1);M.emit("change")},like:function(a){var b=M.getUser().id,e=M.getByID(a),f=M.hasActorLiked(e,b);a=d("ActorURI").create(c("XPluginCommentsLikeCommentAsyncController").getURIBuilder().setBool("action_like",!f).getURI(),b);new(c("AsyncRequest"))(a).setData({app_id:r.appID,comment_id:e.id,iframe_referer:r.iframeReferer}).setMethod("POST").setHandler(function(a){a=a.payload;Object.assign(q[a.commentID],M.initComment(a.idMap[a.commentID]));M.emit("change")}).setErrorHandler(function(a){M.hasActorLiked(e,b)?e.likeCount>0&&e.likeCount--:e.likeCount++,M.setActorLike(e,f,b),M.emit("postError",a)}).send();M.setActorLike(e,!f,b);M.hasActorLiked(e,b)?e.likeCount++:e.likeCount>0&&e.likeCount--;q[e.id]=e;M.emit("change")},sort:function(a){var b=M.getUser().id,d=c("XPluginCommentsPagerAsyncController").getURIBuilder().setInt("target_id",r.targetFBID).setEnum("ordering",a).getURI();new(c("AsyncRequest"))(d).setMethod("POST").setData({app_id:r.appID,limit:M.getPageSize(),iframe_referer:r.iframeReferer}).setHandler(function(c){c=c.payload;r.afterCursor=c.afterCursor;M.updateCommentData(c,a,b);M.emit("sortingCompleted");M.emit("change")}).send()},showMoreComments:function(){var a=M.getUser().id,b=c("XPluginCommentsPagerAsyncController").getURIBuilder().setInt("target_id",r.targetFBID).setEnum("ordering",M.getCurrentSorting()).getURI();new(c("AsyncRequest"))(b).setMethod("POST").setData({app_id:r.appID,after_cursor:r.afterCursor,limit:M.getPageSize(),deeplinked_comment_id:r.deeplinkedCommentID,iframe_referer:r.iframeReferer}).setHandler(function(b){b=b.payload;r.afterCursor=b.afterCursor;p=p.concat(b.commentIDs).filter(K);Object.assign(q,M.initComments(b.commentIDs,b.idMap));M.initActorLikeState(b.commentIDs,a);M.emit("moreCommentsCompleted");M.emit("change")}).setErrorHandler(function(a){M.emit("postError",a),M.emit("moreCommentsCompleted")}).send()},setUser:function(a){M.setActor(a);M.emit("actorChange");var b=M.getCommentIDsToFetch(a),e=d("ActorURI").create(d("ThisControllerNoLongerExists").__DEADBUILDER__("5pbr73yve").getURI(),a);new(c("AsyncRequest"))(e).setMethod("POST").setData({comment_ids:b}).setHandler(function(c){var d=c.payload;b.length>0&&(b.forEach(function(b){F[a].hasLiked[b]=d.hasLiked[b],F[a].canLike[b]=d.canLike[b]}),M.emit("likeStateChange"));t=!d.canPost;M.emit("afterActorChange")}).send();N._setDefaultLikeStates(a,b)},_setDefaultLikeStates:function(a,b){var c=F[a]?F[a].hasLiked:{},d=F[a]?F[a].canLike:{};b.forEach(function(a){c[a]=!1,d[a]=!1});F[a]={hasLiked:c,canLike:d};M.emit("likeStateChange")},setPostToFeed:function(a){M.setPostToFeed(a)},setPrivacyOption:function(a){M.setPrivacyOption(a)},showMoreReplies:function(a){var b=M.getUser().id,d=c("XPluginCommentsRepliesPagerAsyncController").getURIBuilder().setString("comment_id",a).getURI(),e=M.getByID(a).public_replies;new(c("AsyncRequest"))(d).setMethod("POST").setData({app_id:r.appID,after_cursor:e.afterCursor,limit:M.getPageSize(),iframe_referer:r.iframeReferer}).setHandler(function(c){c=c.payload;q=Object.assign(M.initComments(c.commentIDs,c.idMap),q);e.afterCursor=c.afterCursor;e.commentIDs=e.commentIDs.concat(c.commentIDs).filter(K);M.initActorLikeState(c.commentIDs,b);M.emit("moreRepliesCompleted",{commentID:a});M.emit("change")}).setErrorHandler(function(b){M.emit("postError",b),M.emit("moreRepliesCompleted",{commentID:a})}).send()},toggleVisibility:function(a){a=M.getByID(a);a.collapsed=!a.collapsed;M.emit("change")},flag:function(a){q[a].flagged=!0,N._sendFlagOrUnflagRequest(a,"flag"),M.emit("change")},unflag:function(a){q[a].flagged=!1,N._sendFlagOrUnflagRequest(a,"unflag"),M.emit("change")},_sendFlagOrUnflagRequest:function(a,b){var d=c("XPluginCommentsFlagCommentAsyncController").getURIBuilder().getURI();new(c("AsyncRequest"))(d).setData({app_id:r.appID,comment_id:a,iframe_referer:r.iframeReferer,unflag:b==="unflag"}).setMethod("POST").setErrorHandler(function(b){q[a].flagged=!q[a].flagged,M.emit("postError",b)}).send()},report:function(a){window.open(M.getByID(a).reportURI,"_blank")},showReplyComposer:function(a,b){var c=M.getByID(a);if(M.isReply(a)){a=a;c=M.getByID(c.targetID);c.replyToCommentID=a}c.prefillText=b;c.composer=!0;M.emit("change")},cancelReply:function(a){a=M.getByID(a);a.composer=!1;delete a.replyToCommentID;M.emit("change")},restorePreviousState:function(){var a=(i||(i=c("WebStorage"))).getSessionStorage(),b=a?a.getItem("previousState"):null;if(b){b=JSON.parse(b);a&&a.clear();a=M.getCommentIDs();if(b.action){var d={action:b.action,args:b.commentIDs};I(d)}var e=b.replies,f=b.edits;a.map(function(a){e[a]&&N.showReplyComposer(a,e[a]),f[a]&&N.edit(a,f[a])});b.commentBody&&M.emit("previousComposerCommentPrefill",{prefillText:b.commentBody});b.postToFeed&&(N.setPostToFeed(b.postToFeed),M.emit("previousPostToFeedPrefill"))}},embed:function(a){a=c("XCommentEmbedPluginEmbedAsyncDialogController").getURIBuilder().setString("comment_id",a).setInt("width",M.getDialogWidth()).getURI();d("AsyncDialog").send(new(c("AsyncRequest"))(a))}};M.ActionHandler=N;b=M;g["default"]=b}),98);
__d("DevxProxyActions",["DevxFluxDispatcher"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var b=this;Object.keys(a.ActionHandler).forEach(function(a){b[a]=function(){for(var b=arguments.length,d=new Array(b),e=0;e<b;e++)d[e]=arguments[e];c("DevxFluxDispatcher").handleViewAction({action:a,args:d})}})};g["default"]=a}),98);
__d("CommentsPluginActions",["CommentsPluginStore","DevxProxyActions"],(function(a,b,c,d,e,f,g){"use strict";a=new(c("DevxProxyActions"))(c("CommentsPluginStore"));g["default"]=a}),98);
__d("CommentsPluginAction",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";var i="edit",j="delete",k="flag",l="setUser",m="ban",n="hide",o="report",p="collapse",q="embed";function a(a){switch(a){case p:return h._(/*BTDS*/"Thu g\u1ecdn b\u00ecnh lu\u1eadn");case i:return h._(/*BTDS*/"Ch\u1ec9nh s\u1eeda b\u00ecnh lu\u1eadn");case j:return h._(/*BTDS*/"X\u00f3a b\u00ecnh lu\u1eadn");case k:return h._(/*BTDS*/"\u0110\u00e1nh d\u1ea5u l\u00e0 spam");case m:return h._(/*BTDS*/"C\u1ea5m ng\u01b0\u1eddi d\u00f9ng");case n:return h._(/*BTDS*/"\u1ea8n b\u00ecnh lu\u1eadn");case o:return h._(/*BTDS*/"B\u00e1o c\u00e1o v\u1edbi Facebook");case l:return h._(/*BTDS*/"Chuy\u1ec3n t\u00e0i kho\u1ea3n");case q:return h._(/*BTDS*/"Nh\u00fang")}}function b(){return[p,i,j,k,m,n,o,q]}g.EDIT=i;g.DELETE=j;g.FLAG=k;g.SETUSER=l;g.BAN=m;g.HIDE=n;g.REPORT=o;g.COLLAPSE=p;g.EMBED=q;g.getLabel=a;g.getMenuActions=b}),226);
__d("MixinCommentsPluginConfirmAction",["fbt","invariant","CommentsPluginAction","CommentsPluginActions","CommentsPluginStore","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=120;function a(){this.setState({actionConfirmationShown:!1,action:null,id:null,pageY:null})}function b(a){var b=new Set([d("CommentsPluginAction").DELETE,d("CommentsPluginAction").BAN,d("CommentsPluginAction").HIDE]);return b.has(a)}function e(a,b,c){this.setState({actionConfirmationShown:!0,action:a,id:b,pageY:c})}function m(){c("CommentsPluginActions")[this.state.action](this.state.id),this.setState({actionConfirmationShown:!1})}function n(){this.setState({actionConfirmationShown:!1})}function o(a){switch(a){case d("CommentsPluginAction").DELETE:return{body:h._(/*BTDS*/"B\u1ea1n c\u00f3 ch\u1eafc ch\u1eafn mu\u1ed1n x\u00f3a b\u00ecnh lu\u1eadn n\u00e0y kh\u00f4ng?"),button_label:h._(/*BTDS*/"X\u00e1c nh\u1eadn x\u00f3a")};case d("CommentsPluginAction").BAN:return{body:h._(/*BTDS*/"B\u1ea1n c\u00f3 ch\u1eafc ch\u1eafn mu\u1ed1n c\u1ea5m ng\u01b0\u1eddi d\u00f9ng n\u00e0y kh\u00f4ng?"),button_label:h._(/*BTDS*/"X\u00e1c nh\u1eadn c\u1ea5m")};case d("CommentsPluginAction").HIDE:return{body:h._(/*BTDS*/"B\u1ea1n c\u00f3 ch\u1eafc ch\u1eafn mu\u1ed1n \u1ea9n b\u00ecnh lu\u1eadn n\u00e0y kh\u00f4ng?"),button_label:h._(/*BTDS*/"X\u00e1c nh\u1eadn \u1ea9n")};case d("CommentsPluginAction").SETUSER:return{body:h._(/*BTDS*/"B\u00ecnh lu\u1eadn v\u1edbi t\u01b0 c\u00e1ch m\u1ed9t t\u00e0i kho\u1ea3n kh\u00e1c s\u1ebd x\u00f3a n\u1ed9i dung \u0111\u00ednh k\u00e8m m\u00e0 b\u1ea1n \u0111\u00e3 t\u1ea3i l\u00ean."),button_label:h._(/*BTDS*/"Chuy\u1ec3n t\u00e0i kho\u1ea3n")};default:i(0,6208,a)}}function p(){var a=this.state.action;if(!a)return null;var b=this._getActionMetadata(a);return k.jsxs(c("XUIDialog.react"),{shown:this.state.actionConfirmationShown,fixedTopPosition:this.state.pageY+l<document.body.offsetHeight?this.state.pageY-l/2:null,width:c("CommentsPluginStore").getDialogWidth(),children:[k.jsx(c("XUIDialogTitle.react"),{showCloseButton:!1,children:d("CommentsPluginAction").getLabel(a)}),k.jsx(c("XUIDialogBody.react"),{children:b.body}),k.jsxs(c("XUIDialogFooter.react"),{children:[k.jsx(c("XUIDialogCancelButton.react"),{onClick:this._onActionCancelled.bind(this)}),k.jsx(c("XUIDialogButton.react"),{use:"confirm",label:b.button_label,onClick:this._onActionConfirmed.bind(this)})]})]})}p.displayName=p.name+" [from "+f.id+"]";g.UNSAFE_componentWillMount=a;g.requiresConfirmation=b;g.confirmAction=e;g._onActionConfirmed=m;g._onActionCancelled=n;g._getActionMetadata=o;g.renderActionConfirmationDialog=p}),226);
__d("CommentsPluginAuthorSelector.react",["cx","fbt","ActorSelector.react","CommentsPluginAction","CommentsPluginActions","CommentsPluginStore","MixinCommentsPluginConfirmAction","ShortProfiles","XUIText.react","classWithMixins","joinClasses","mixin","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;e=a.call(this,b)||this;e.$CommentsPluginAuthorSelector$p_1=function(a){c("CommentsPluginStore").hasAttachment()?e.confirmAction(d("CommentsPluginAction").SETUSER,a):c("CommentsPluginActions").setUser(a)};e.$CommentsPluginAuthorSelector$p_2=function(a){return i._(/*BTDS*/"\u0110ang b\u00ecnh lu\u1eadn v\u1edbi t\u01b0 c\u00e1ch {actorName}",[i._param("actorName",a)])};e.actorIDs=c("CommentsPluginStore").getActorIDs();e.state={actorsData:null};return e}var e=b.prototype;e.UNSAFE_componentWillMount=function(){var a=this;this.actorIDs.length>1&&c("CommentsPluginStore").shouldUseCustomActorSelector()&&d("ShortProfiles").getMulti(this.actorIDs,function(b){a.setState({actorsData:b})})};e.render=function(){var a=this;if(this.actorIDs.length<=1)return null;var b=c("CommentsPluginStore").getUser().id;if(c("CommentsPluginStore").shouldUseCustomActorSelector()){var d=this.state.actorsData;return!d?null:k.jsxs("div",{className:"_3-95",children:[k.jsx(c("XUIText.react"),{size:"meta1",className:"_1y5f _2pih",children:i._(/*BTDS*/"B\u00ecnh lu\u1eadn v\u1edbi t\u01b0 c\u00e1ch")}),k.jsx("select",{value:b,onChange:function(b){return a.$CommentsPluginAuthorSelector$p_1(b.target.value)},className:"_1y5g",children:this.actorIDs.map(function(a){return k.jsx("option",{value:a,children:d&&d[a].name},a)})}),this.renderActionConfirmationDialog()]})}return k.jsxs("div",{className:c("joinClasses")(this.props.className,"inlineBlock"),children:[k.jsx(c("ActorSelector.react"),{actorIDs:this.actorIDs,coverEnabled:!1,selectedActorID:b,onChange:function(b){return a.$CommentsPluginAuthorSelector$p_1(b.value)},tooltipConstructor:this.$CommentsPluginAuthorSelector$p_2}),this.renderActionConfirmationDialog()]})};return b}(c("classWithMixins")(k.Component,c("mixin")(d("MixinCommentsPluginConfirmAction"))));g["default"]=a}),226);
__d("CommentsPluginComposerMirroringNotice.react",["cx","fbt","CommentsPluginStore","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){var a=c("CommentsPluginStore").getMirroredPage();return!a?null:k.jsx("div",{className:"_5sge _2ph-",children:a.name?this.props.isReply?i._(/*BTDS*/"C\u00e2u tr\u1ea3 l\u1eddi c\u1ee7a b\u1ea1n c\u00f3 th\u1ec3 c\u0169ng xu\u1ea5t hi\u1ec7n tr\u00ean Trang Facebook c\u1ee7a {page name}.",[i._param("page name",k.jsx("a",{href:a.uri,target:"blank",children:a.name}))]):i._(/*BTDS*/"B\u00ecnh lu\u1eadn c\u1ee7a b\u1ea1n c\u00f3 th\u1ec3 c\u0169ng xu\u1ea5t hi\u1ec7n tr\u00ean Trang Facebook c\u1ee7a {page name}.",[i._param("page name",k.jsx("a",{href:a.uri,target:"blank",children:a.name}))]):this.props.isReply?i._(/*BTDS*/"C\u00e2u tr\u1ea3 l\u1eddi c\u1ee7a b\u1ea1n c\u0169ng c\u00f3 th\u1ec3 xu\u1ea5t hi\u1ec7n tr\u00ean Facebook."):i._(/*BTDS*/"B\u00ecnh lu\u1eadn c\u1ee7a b\u1ea1n c\u00f3 th\u1ec3 c\u0169ng xu\u1ea5t hi\u1ec7n tr\u00ean Facebook.")})};return b}(k.Component);g["default"]=a}),226);
__d("PrivacyTransparentOverlay.react",["cx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return j.jsxs("div",{className:"_4cqr",children:[this.props.children,j.jsx("div",{className:"clearfix"})]})};return b}(j.PureComponent);g["default"]=a}),98);
__d("CommentsPluginProfilePicture.react",["cx","Image.react","PrivacyTransparentOverlay.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){var a=this.props.href==""?null:this.props.href;a=j.jsx("a",babelHelpers["extends"]({},this.props,{href:a,children:j.jsx(c("Image.react"),{className:(this.props.isReply?"":"_1ci")+(this.props.isReply?" _1cj":""),src:this.props.src})}));if(this.props.usePrivacyOverlay)return j.jsx(c("PrivacyTransparentOverlay.react"),{children:a});else return a};return b}(j.Component);g["default"]=a}),98);
__d("MentionsLayer.react",["Bootloader","Locale","areEqual","createReactClass_DEPRECATED","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||d("react"),k=!1,l=d("Locale").isRTL(),m,n,o,p,q=5;a=c("createReactClass_DEPRECATED")({displayName:"MentionsLayer",getInitialState:function(){return{bootloaded:k}},getDefaultProps:function(){return{offset:q}},componentDidMount:function(){var a=this;this.state.bootloaded||r(function(){a.isMounted()&&a.setState({bootloaded:!0})})},_onMentionSelect:function(a,b){b.preventDefault(),this.props.onMentionSelect(a,b)},shouldComponentUpdate:function(a,b){return this.state.bootloaded!==b.bootloaded||!(h||(h=c("areEqual")))(this.props.mentionableEntries,a.mentionableEntries)||this.props.highlightedMentionable!==a.highlightedMentionable||this.props.characterOffset!==a.characterOffset},render:function(){if(!this.state.bootloaded)return null;var a=this.props.mentionableEntries,b=this.props.selection;b=b.isCollapsed()&&b.getHasFocus()&&a&&a.length;var c=null,d=this.props.typeaheadViewProps,e=!1;d&&d.positionAtContext?e=!0:b&&(c=p(this.props.characterOffset,l));d={};this.props.autoflip&&(d.ContextualLayerAutoFlip=n,d.ContextualLayerUpdateOnScroll=o);var f=this.props.typeaheadView;return j.jsx(m,{shown:b,context:this.props.contextComponent,contextBounds:c,containerWidthMatchContext:e,offsetY:this.props.offset,offsetX:this.props.offset,position:this.props.position||"below",behaviors:d,shouldSetARIAProperties:!1,children:j.jsx("div",{"data-testid":void 0,children:j.jsx(f,{id:this.props.viewID,viewProps:this.props.typeaheadViewProps,highlightedEntry:this.props.highlightedMentionable,reverseOrder:this.props.reverseOrder,entries:a||[],onSelect:this._onMentionSelect,onHighlight:this.props.onMentionHighlight,onRenderHighlight:this.props.onMentionRenderHighlight})})})}});function r(a){c("Bootloader").loadModules(["ContextualLayer.react","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","getMentionableRect"],function(b,c,d,e){m=b,n=c,o=d,p=e,k=!0,a()},"MentionsLayer.react")}b=a;g["default"]=b}),98);
__d("createMentionEntityForContentState",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=b.getType().toLowerCase();if(c==="hashtag")return a.createEntity("HASHTAG","IMMUTABLE");var d=c==="user"||c==="fb4c"?"SEGMENTED":"IMMUTABLE",e=b.getAuxiliaryData();return a.createEntity("MENTION",d,{id:b.getUniqueID(),uri:b.getURI(),isWeak:e&&e.renderType==="non_member",type:c})}f["default"]=a}),66);
__d("MentionsInput.react",["cx","AbstractMentionsTextEditor.react","MentionsLayer.react","createMentionEntityForContentState","joinClasses","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=j.createRef(),c.textEditorRef=j.createRef(),c.blur=function(){var a;(a=c.textEditorRef.current)==null?void 0:a.blur()},c.focus=function(){var a;(a=c.textEditorRef.current)==null?void 0:a.focus()},c.click=function(){if(c.props.readOnly)return;c.focus()},b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.render=function(){var a=c("joinClasses")(this.props.className,this.props.hasDefaultAppearance?"_5yk1":"",this.props.className),b=this.props.role||"combobox",d=this.props,e=d.placeholder,f=d.customMentionCreationForContentStateFn;d=babelHelpers.objectWithoutPropertiesLoose(d,["placeholder","customMentionCreationForContentStateFn"]);var g=this.props.media;d=j.jsx(c("AbstractMentionsTextEditor.react"),babelHelpers["extends"]({},d,{ariaMultiline:this.props.ariaMultiline,mentionResultsComponent:this.props.mentionResultsComponent,mentionResultsProps:{typeaheadView:this.props.typeaheadView,typeaheadViewProps:this.props.typeaheadViewProps,offset:this.props.offset,autoflip:this.props.autoflip,position:this.props.position},mentionCreationForContentStateFn:f||c("createMentionEntityForContentState"),placeholder:e!=null?String(e):void 0,ref:this.textEditorRef,role:b,className:"_5yk2",stripPastedStyles:this.props.stripPastedStyles}));f=j.jsx("div",{style:{flex:1,width:0,paddingInlineStart:10},children:d});return j.jsxs("div",{className:a,onClick:this.click,onFocus:this.focus,style:this.props.style,ref:this.$1,role:"presentation",children:[g,g!=null?f:d]})};return b}(j.Component);a.defaultProps=babelHelpers["extends"]({},c("AbstractMentionsTextEditor.react").defaultProps,{hasDefaultAppearance:!0,mentionResultsComponent:c("MentionsLayer.react"),stripPastedStyles:!0,maxResults:5});g["default"]=a}),98);
__d("isRTL",["UnicodeBidi","UnicodeBidiDirection"],(function(a,b,c,d,e,f,g){function a(a){return d("UnicodeBidi").getDirection(a)===d("UnicodeBidiDirection").RTL}g["default"]=a}),98);
__d("HovercardLinkInterpolator",["cx","fbt","Badge.react","CommentMentionsGatingConfig","HovercardLink","Link.react","URI","isFacebookURI","isRTL","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||b("react");function a(a,c,d,e,f,g){g===void 0&&(g=null);c=c.entity;d=d||(c.external?"_blank":null);var i=(c.external?"":"profileLink")+(c.weakreference?" weakReference":""),l=c.hashtag?a.substring(1):a;l=b("isRTL")(l)?"rtl":"ltr";var m=new(j||(j=b("URI")))(c.url);b("isFacebookURI")(m)&&m.addQueryData({hc_location:f});var n=c.shimhash?c.shimhash:null,o=!c.external&&!c.hashtag&&!c.photo&&!c.note&&!c.statusupdate&&!c.video;o=o?{"data-hovercard":b("HovercardLink").constructEndpointWithGroupLocationAndExtraParams(c,e,c.hovercardlocation?c.hovercardlocation:f,null,g).toString()}:{};if(c.hashtag)e=k.jsxs("a",babelHelpers["extends"]({},o,{className:"_58cn",dir:l,href:m.toString(),target:d,children:[k.jsx("span",{"aria-label":h._(/*BTDS*/"hashtag"),className:"_58cl",children:a.substring(0,1)}),k.jsx("span",{className:"_58cm",children:a.substring(1)})]}));else if(c.type==="user"&&b("CommentMentionsGatingConfig").enabled_rich_comment_mentions)e=k.jsx("div",{className:"_35mm",children:k.jsx(b("Link.react"),babelHelpers["extends"]({},o,{className:i,dir:l,href:{url:m.toString(),shimhash:n},target:d}))});else{f=[];c.weakreference&&f.push(k.jsx("i",{className:"UFIWeakReferenceIcon"},"weakreference"));f.push(a);c.workForeignEntity&&f.push(k.jsx(b("Badge.react"),{type:"work_non_coworker"},"noncoworker"));c.dialogurl?e=k.jsx(b("Link.react"),babelHelpers["extends"]({},o,{className:i,dir:l,ajaxify:c.dialogurl,rel:"dialog",href:{url:m.toString(),shimhash:n},target:d,children:f})):e=k.jsx(b("Link.react"),babelHelpers["extends"]({},o,{className:i,dir:l,href:{url:m.toString(),shimhash:n},target:d,children:f}))}return e}e.exports=a}),130);
__d("URITruncator",["fbt","URI"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=3,k=h._(/*BTDS*/"...").toString(),l=k.length;function a(a,b){if(!a)return a;var d=a.toString();if(b===void 0||b<=l)return d;if(d.length<=b||d.length<=l)return d;d=(i||(i=c("URI"))).tryParseURI(a);if(!d)return a.toString().substring(0,b-l)+k;a=d.getOrigin();if(a.length>b-l)return a.substring(0,b-l)+k;var e=!1;if(d.getFragment()){e=!0;d.setFragment("");if(d.toString().length<=b-l)return d.toString()+k}var f=d.getQueryData();if(f){f=Object.keys(f);if(f.length>0){e=!0;for(var g=f.length-1;g>=0;g--){d.removeQueryData(f[g]);if(d.toString().length<=b-l)return d.toString()+k}}}g=d.getPath()+(e?k:"");f=g.split("/");d=a.length+g.length-b;e=0;while(d>0&&f.length>e+1){g=e+1;var h=f[g];if(d+l+j<=h.length){var m=h.length-1,n=h.length-d-l,o=/[a-zA-Z0-9]/;d+=l;while(d>0){while(m>0&&o.test(h[m]))m--,d--;while(m>0&&!o.test(h[m]))m--,d--}m===0&&(m=n-1);f[g]=h.substring(0,m+1)+k}else e++,d-=h.length,e===1?d+=l:d--}e>0&&(f[f.length-1].length===0&&f.length===e+2&&e++,f.splice(1,e,k));o=a+f.join("/");o.length>b&&(o=o.substring(0,b-l)+k);return o}g["default"]=a}),226);
__d("VideoTimestampsClicksWWWTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:VideoTimestampsClicksWWWLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:VideoTimestampsClicksWWWLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:VideoTimestampsClicksWWWLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCommentID=function(a){this.$1.comment_id=a;return this};c.setIsContentTimestamp=function(a){this.$1.is_content_timestamp=a;return this};c.setLocalCommentFeedbackID=function(a){this.$1.local_comment_feedback_id=a;return this};c.setVideoTimestamp=function(a){this.$1.video_timestamp=a;return this};return a}();c={comment_id:!0,is_content_timestamp:!0,local_comment_feedback_id:!0,video_timestamp:!0};f["default"]=a}),66);
__d("transformTextRanges",["UnicodeUtils"],(function(a,b,c,d,e,f,g){var h;function a(a,b,c){if(!a||!b||!c)return a;b.sort(function(a,b){return a.offset-b.offset});var e=0;for(var f=0;f<b.length;f++){b[f].offset+=e;var g=(h||(h=d("UnicodeUtils"))).substr(a,b[f].offset,b[f].length),i=h.strlen(g),j=c(g,b[f]),k=h.strlen(j);g!==j&&(a=(h||(h=d("UnicodeUtils"))).substr(a,0,b[f].offset)+j+h.substr(a,b[f].offset+b[f].length),b[f].length=k,e+=k-i)}return a}g["default"]=a}),98);
__d("UFI2CommentUtils",["HovercardLinkInterpolator","TextDelightRange.react","UFI2VideoPlayerRegistry","URI","URITruncator","VideoTimestampsClicksWWWTypedLogger","react","transformTextRanges"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=60;function a(a,b){k&&(a&&a.length>0&&(b=c("transformTextRanges")(b,a,function(a,b){b=b.entity&&(b.entity.external||b.entity.__typename==="ExternalUrl");return b?c("URITruncator")(a,k):a})));return b}function b(a,b,d,e,f){return function(g,h){if(h.videoTimestamp){if(e)return j.jsx("span",{children:h.entity});var i=function(a){a.preventDefault();new(c("VideoTimestampsClicksWWWTypedLogger"))().setVideoTimestamp(h.integerTimestamp).setCommentID(d).setIsContentTimestamp(!1).log();b&&(c("UFI2VideoPlayerRegistry").seekAvailableVideoPlayerController(b,h.integerTimestamp),c("UFI2VideoPlayerRegistry").scrollToAvailableVideo(b));return!1};return j.jsx("a",{className:"TimestampLink",href:"#",onClick:i,children:h.entity})}else if(h.sphericalViewport){i=function(a){a.preventDefault();b&&c("UFI2VideoPlayerRegistry").setAvailableVideoPlayerControllerSphericalViewport(b,{pitch:h.pitch,yaw:h.yaw});return!1};return j.jsx("a",{href:"#",onClick:i,children:h.entity})}else if(h.sphericalViewportAndTimestamp){i=function(a){a.preventDefault();b&&(c("UFI2VideoPlayerRegistry").setAvailableVideoPlayerControllerSphericalViewport(b,{pitch:h.pitch,yaw:h.yaw}),c("UFI2VideoPlayerRegistry").seekAvailableVideoPlayerController(b,h.integerTimestamp));return!1};return j.jsx("a",{href:"#",onClick:i,children:h.entity})}else if(h.campaign)return j.jsx(c("TextDelightRange.react"),{campaignID:h.campaign.id,commentPrivacy:f||void 0,delightStyles:h.campaign.delight_styles,surface:"comment",children:g});else return c("HovercardLinkInterpolator")(g,h,"_blank",a,"ufi")}}function e(a){if(!a)return a;var b=[];a.forEach(function(a){b.push(babelHelpers["extends"]({},a))});return b}function f(a,b){return!a?b:new(h||(h=c("URI")))(b).addQueryData("rc","p").toString()}function l(a,b,c,d){if(!a)return!1;var e=0,f,g;for(var h=0;h<a.length;h++){f=a[h];f.istranslatable&&!f.translationdata&&!d[f.id]&&e++;if(e>1)return!0;if(c[f.id]){g=b?b[f.id]:[];for(var i=0;i<g.length;i++){f=g[i];f.istranslatable&&!f.translationdata&&!d[f.id]&&e++;if(e>1)return!0}}}return!1}g.getCommentTextWithTruncatedURIs=a;g.getCommentBodyInterpolator=b;g.shallowCopyRanges=e;g.annotateProfileURIIfPublic=f;g.shouldShowTranslateAll=l}),98);
__d("FocusRelocator.react",["csx","CSS","Focus","getActiveElement","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i;a=i||d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.UNSAFE_componentWillReceiveProps=function(a){var b=this.props,c=b.from;b=b.to;var e=a.from;a=a.to;e&&a&&(c!==e||b!==a)&&(this.$1&&this.$1.remove(),this.$1=d("Focus").relocate(e,a))};e.componentDidUpdate=function(){this.$2()};e.componentWillUnmount=function(){this.$1&&this.$1.remove(),this.$1=null};e.render=function(){return this.props.children};e.$3=function(){var a=this.props,b=a.from;a=a.to;b&&a&&(d("Focus").performRelocation(b,a,c("getActiveElement")()===this.props.from),this.$2())};e.$2=function(){var a=this;this.props.to&&c("getActiveElement")()===this.props.from&&!d("CSS").matchesSelector(this.props.to,"._16jm")&&setTimeout(function(){a.$3()},0)};return b}(a.Component);g["default"]=b}),98);
__d("UFI2StickerButtonDEPRECATED.react",["cx","fbt","Arbiter","Bootloader","FocusRelocator.react","Link.react","createReactClass_DEPRECATED","react","setImmediate","stringRefShim"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");a=c("createReactClass_DEPRECATED")({_clickGuard:!1,_hideFlyout:function(){this.setState({flyoutShown:!1})},_linkRef:null,_onLinkClicked:function(a){a.preventDefault();if(this.state.renderFlyout!==null){this._clickGuard||(this.props.onStickerFlyoutShow&&this.props.onStickerFlyoutShow(),this.setState({flyoutShown:!0}));return}this._showFlyout(null)},_onStickerSelected:function(a,b,c){this.props.onStickerSelected(a,b,c),this._hideFlyout()},_openFlyoutListener:null,_prepareForClick:function(){this._clickGuard=this.state.flyoutShown},_setRef:function(a){this._linkRef=a},_showFlyout:function(a){var b=this;c("Bootloader").loadModules(["ContextualLayerAutoFlip","LayerTabIsolation","StickersFlyout.react","XUIContextualDialog.react","StickersActions"],function(d,e,f,g,h){b.setState({flyoutShown:!0,renderFlyout:function(){return k.jsx(g,{alignment:"right",behaviors:{ContextualLayerAutoFlip:d,LayerTabIsolation:e},className:"_5e-r",contextRef:function(){return b._linkRef},hasActionableContext:!0,onBlur:b._hideFlyout,onToggle:function(a){!a&&b.state.flyoutShown&&b._hideFlyout()},position:"above",shown:b.state.flyoutShown,width:278,children:k.jsx("div",{children:k.jsx(f,{customStickerOwnerID:b.props.customStickerOwnerID,onEscKeyDown:b._hideFlyout,onStickerSelect:b._onStickerSelected,shown:b.state.flyoutShown,stickerInterface:b.props.stickerInterface})})})}}),b.props.onStickerFlyoutShow&&b.props.onStickerFlyoutShow(),a&&c("setImmediate")(function(){return h.selectTrayPack(a)})},"UFI2StickerButtonDEPRECATED.react")},_updateListener:null,componentDidMount:function(){var a=this;this._updateListener=c("Arbiter").subscribe("page_transition",function(){return a._hideFlyout()});this._openFlyoutListener=c("Arbiter").subscribe("GamingStickers/openFlyout",function(b,c){return a._showFlyout(c)})},componentWillUnmount:function(){this._updateListener&&this._updateListener.unsubscribe(),this._openFlyoutListener&&this._openFlyoutListener.unsubscribe()},displayName:"UFI2StickerButtonDEPRECATED",getDefaultProps:function(){return{customStickerOwnerID:"",showTooltip:!0,stickerInterface:"comments"}},getInitialState:function(){return{flyoutShown:!1,renderFlyout:null}},render:function(){var a=i._(/*BTDS*/"\u0110\u0103ng nh\u00e3n d\u00e1n");return k.jsx(c("FocusRelocator.react"),{from:this._linkRef,to:this.refs.icon,children:k.jsxs(c("Link.react"),{"aria-label":a,className:"_r1a UFICommentStickerButton","data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":this.props.showTooltip?a:null,linkRef:this._setRef,onClick:this._onLinkClicked,onMouseDown:this._prepareForClick,role:"button",tabIndex:this.props.tabIndex,children:[k.jsx("div",{className:"UFICommentStickerIcon"+(this.state.flyoutShown?" UFICommentStickerIconActive":""),ref:c("stringRefShim")(this,"icon")}),this.props.children,this.state.renderFlyout?this.state.renderFlyout():null]})})}});b=a;g["default"]=b}),226);
__d("UFIAttachMediaSection.react",["cx","fbt","Bootloader","Focus","UFICommentFileInputAcceptValues","XUIError.react","react","stringRefShim"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.state={bootloaded:!1,hasUploadFailure:!1},d.$1=null,d.$2=null,d.$3=function(){d.setState({hasUploadFailure:!1})},d.$4=function(){d.setState({hasUploadFailure:!1})},d.$5=function(){d.setState({hasUploadFailure:!0})},d.$6=function(a){d.props.onClick&&d.props.onClick();if(d.state.bootloaded)return;c("Bootloader").loadModules(["UFIUploader"],function(a){d.$1=new a(d.refs.inputContainer,d.refs.inputControl,d.refs.input,d.props.getPhotoUploadData,d.props.getFileUploadData,d.props.prepareForAttachedPhotoPreview,d.props.prepareForAttachedVideoPreview,d.props.prepareForAttachedFilePreview,d.props.onPhotoUploadComplete,d.props.onVideoEncodeUpdate,d.props.onVideoUploadUpdate,d.props.onVideoUploadComplete,d.props.onFileUploadComplete,d.props.setFileInput,d.props.viewerActorID,d.$3,d.$4,d.$5)},"UFIAttachMediaSection.react");d.setState({bootloaded:!0})},b)||babelHelpers.assertThisInitialized(d)}var e=b.prototype;e.componentDidMount=function(){var a=this.refs,b=a.input;a=a.inputControl;b&&a&&(this.$2=d("Focus").relocate(b,a))};e.componentWillUnmount=function(){this.$1&&this.$1.destroy(),this.$2&&(this.$2.remove(),this.$2=null)};e.render=function(){var a=this.props.allowFileAttachments,b=a?i._(/*BTDS*/"\u0110\u00ednh k\u00e8m file"):this.props.allowVideoAttachments?i._(/*BTDS*/"\u0110\u00ednh k\u00e8m \u1ea3nh ho\u1eb7c video"):i._(/*BTDS*/"\u0110\u00ednh k\u00e8m \u1ea3nh"),d=a?i._(/*BTDS*/"\u0110\u00e3 x\u1ea3y ra l\u1ed7i khi \u0111\u00ednh k\u00e8m file, vui l\u00f2ng th\u1eed l\u1ea1i"):i._(/*BTDS*/"\u0110\u00e3 x\u1ea3y ra l\u1ed7i khi \u0111\u00ednh k\u00e8m file, vui l\u00f2ng th\u1eed l\u1ea1i"),e=this.state.hasUploadFailure;a=k.jsx("div",{className:"_r1a UFIPhotoAttachLinkWrapper _m"+(this.props.attachment?" _5t1p":""),"data-hover":e?null:"tooltip","data-tooltip-alignh":e?null:"center","data-tooltip-content":e?null:b,onClick:this.$6,ref:c("stringRefShim")(this,"inputContainer"),role:"presentation",children:k.jsx("span",{className:a?"UFICommentFileIcon":"UFICommentPhotoIcon",ref:c("stringRefShim")(this,"inputControl"),children:k.jsx("input",{accept:a?c("UFICommentFileInputAcceptValues").files:this.props.allowVideoAttachments?c("UFICommentFileInputAcceptValues").both:c("UFICommentFileInputAcceptValues").photos,"aria-label":b,className:"_n",name:"file",ref:c("stringRefShim")(this,"input"),title:b,type:"file"},"0")})});return k.jsx(c("XUIError.react"),{xuiError:e?d:null,xuiErrorPosition:"above",xuiErrorAlignh:"center",children:a})};return b}(k.Component);g["default"]=a}),226);
__d("UFIAttachedMediaPreview.react",["cx","fbt","ix","Arbiter","BootloadedComponent.react","CloseButton.react","DOMContainer.react","DOMVector","HTML","Image.react","JSResource","LoadingIndicator.react","ReactDOM_DEPRECATED","SimpleNUXMessage","SutroStoryHeaderUFIGatingConfig","XUIAmbientNUX.react","XUISpinner.react","XUIText.react","react","stringRefShim"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k,l=k||d("react"),m=410,n=80;a="ufi_photo_preview_test_id";b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.state={starNuxShown:!d("SimpleNUXMessage").hasUserSeenMessage_LEGACY("2210110582583556")},c.$1=0,c.$4=function(){d("SimpleNUXMessage").markMessageSeenByUser("2210110582583556"),c.setState({starNuxShown:!1})},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.$2=function(a,b){var c,d,e;b>a?(e=n/b,c=a*e,d=b*e):(e=n/a,c=a*e,d=b*e);return{height:Math.round(c),width:Math.round(d)}};e.$3=function(){var a=d("ReactDOM_DEPRECATED").findDOMNode_DEPRECATED(this),b=a?c("DOMVector").getElementDimensions(a).y:0;b!==this.$1&&(this.$1=b,c("Arbiter").inform("ufi/photoPreviewHightChanged",{node:a}))};e.componentDidUpdate=function(){this.props.monitorHeight&&this.$3()};e.getMatchingStarText=function(a,b){return i._(/*BTDS*/"{user_tipped_star_quantity} + {matched_star_quantity} Sao",[i._param("user_tipped_star_quantity",a),i._param("matched_star_quantity",b)])};e.maybeShowStarAttachmentTooltip=function(a){var b=this;return l.jsx(c("XUIAmbientNUX.react"),{alignment:"right",contextRef:function(){return b.refs.attachment_ref},position:"above",shown:this.state.starNuxShown,onCloseButtonClick:this.$4,children:i._(/*BTDS*/"Facebook s\u1ebd g\u1eedi th\u00eam {Number of stars that Facebook will match.} Sao.",[i._param("Number of stars that Facebook will match.",a)])},"ambientNUX")};e.render=function(){var a=null,b=this.props.attachedPhoto||this.props.attachedSticker||this.props.attachedVideo||this.props.attachedFile||this.props.attachedGIF||this.props.attachedStars;if(b&&this.props.attachedSticker){var d=this.$2(b.metadata.height,b.metadata.width),e=null,f=null;window.devicePixelRatio&&window.devicePixelRatio>1?(e=b.metadata.sprite_uri_2x,f=b.metadata.source_uri_2x):(e=b.metadata.sprite_uri,f=b.metadata.source_uri);a=l.jsx(c("BootloadedComponent.react"),{accessibilityLabel:b.metadata.accessibilityLabel,bootloadPlaceholder:l.jsx(c("XUISpinner.react"),{}),bootloadLoader:c("JSResource")("Sticker.react").__setRef("UFIAttachedMediaPreview.react"),animationTrigger:"load_and_hover",frameCount:b.metadata.frameCount,frameRate:b.metadata.frameRate,framesPerCol:b.metadata.framesPerCol,framesPerRow:b.metadata.framesPerRow,spriteURI:e,sourceHeight:d.height,sourceURI:f,sourceWidth:d.width})}else if(b&&this.props.attachedGIF)if(b.markup)a=l.jsx(c("DOMContainer.react"),{children:b.markup}),b.markup.clientWidth&&b.markup.clientWidth>m&&(a=l.jsx("div",{style:{marginTop:"20px"},children:a}));else{e=this.props.attachedGIF.media.preview;a=l.jsx("div",{style:{height:e.height,width:e.width},children:l.jsx(c("Image.react"),{src:e.url})})}else if(b&&this.props.attachedFile){f=b.markupPreview;f&&(c("HTML").isHTML(f.markup)&&(f=c("HTML").replaceJSONWrapper(f.markup).getRootNode()),a=l.jsx(c("DOMContainer.react"),{"data-testid":void 0,children:f}))}else if(b&&this.props.attachedPhoto){d=b.markupPreview;d?(c("HTML").isHTML(d.markup)&&(d=c("HTML").replaceJSONWrapper(d.markup).getRootNode()),a=l.jsx(c("DOMContainer.react"),{"data-testid":void 0,children:d})):this.props.attachedPhoto&&this.props.attachedPhoto.metadata&&this.props.attachedPhoto.metadata.preview_uri&&(a=l.jsx("div",{style:{height:this.props.attachedPhoto.metadata.height},children:l.jsx(c("Image.react"),{src:this.props.attachedPhoto.metadata.preview_uri})}))}else if(this.props.isLoadingPhoto||this.props.isLoadingFile)a=l.jsx(c("LoadingIndicator.react"),{color:"white",className:"UFICommentPhotoAttachedPreviewLoadingIndicator",size:"medium"});else if(b&&this.props.attachedVideo)a=l.jsx("div",{className:"_3f0q",children:l.jsx(c("DOMContainer.react"),{children:b.markup})});else if(b&&this.props.attachedStars){var g;f=(e=b.promotionEvent)==null?void 0:e.imageSrc;d=f&&b.matchingQuantity>0;e=b.previewImageSrc;var h=b.userTippedQuantity,k=b.matchingQuantity;g=(g=b.giftType)!=null?g:b.gift;var n=d?this.maybeShowStarAttachmentTooltip(b.matchingQuantity):null;g!=null?a=null:a=l.jsxs("div",{className:"UFICommentStarsAttachedPreview",children:[d?l.jsx(c("Image.react"),{ref:c("stringRefShim")(this,"attachment_ref"),className:"UFICommentStarsAttachedPreviewImage",src:f,height:"20",width:"20"}):l.jsx(c("Image.react"),{ref:c("stringRefShim")(this,"attachment_ref"),className:"UFICommentStarsAttachedPreviewImage",src:e?e:j("647932")}),l.jsx(c("XUIText.react"),{weight:"bold",children:d?this.getMatchingStarText(h,k):i._(/*BTDS*/"{star_quantity} Sao",[i._param("star_quantity",b.metadata)])}),n]})}g=null;f=this.props.attachedSticker?this.props.onRemoveAttachedStickerPreview:this.props.attachedStars?this.props.onRemoveAttachedStarsPreview:this.props.onRemoveAttachedMediaPreviewClicked;if(a!=null){e=null;this.props.attachedSticker?e=i._(/*BTDS*/"G\u1ee1 nh\u00e3n d\u00e1n"):this.props.attachedPhoto?e=i._(/*BTDS*/"G\u1ee1 \u1ea3nh"):this.props.attachedVideo?e=i._(/*BTDS*/"G\u1ee1 video"):this.props.attachedFile?e=i._(/*BTDS*/"G\u1ee1 file"):this.props.attachedGIF?e=i._(/*BTDS*/"G\u1ee1 file GIF"):this.props.attachedStars&&(e=this.props.attachedStars.gift==null?i._(/*BTDS*/"G\u1ee1 sao"):i._(/*BTDS*/"G\u1ee1 qu\u00e0 t\u1eb7ng"));d=c("SutroStoryHeaderUFIGatingConfig").enabled_for_comment_composer_rounded_borders;g=l.jsxs("div",{className:"UFICommentPhotoAttachedPreview"+(d?" _4soo":"")+" pas",children:[a,l.jsx(c("CloseButton.react"),{tooltip:e,onClick:f,ariaLabel:e})]})}return g};return b}(l.Component);g["default"]=b}),226);
__d("UFIImageBlock.react",["cx","ImageBlock.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){return j.jsx(c("ImageBlock.react"),babelHelpers["extends"]({},this.props,{imageClassName:"UFIImageBlockImage",contentClassName:"UFIImageBlockContent",children:this.props.children}))};return b}(j.Component);g["default"]=a}),98);
__d("createPlainBlocksFromText",["CharacterMetadata","ContentBlock","generateRandomKey","immutable","sanitizeDraftText"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.map(function(a){a=c("sanitizeDraftText")(a);var b=a.length;return new(c("ContentBlock"))({key:c("generateRandomKey")(),text:a,type:"unstyled",characterList:c("immutable").List(c("immutable").Repeat(c("CharacterMetadata").EMPTY,b))})})}g["default"]=a}),98);
__d("createEditorStateWithRanges",["invariant","ContentState","DraftModifier","EditorState","SelectionState","UnicodeUtils","createPlainBlocksFromText"],(function(a,b,c,d,e,f,g,h){var i;function a(a){var b=a.addEntityToContentStateFn,e=a.allowUndo,f=a.decorator,g=a.splitIntoBlocks,j=a.text;a=a.ranges;g===void 0&&(g=!0);j||(j="");var k=[],l=[];g=g?j.split(/(\r\n?|\n)/g):[j];var m=0;g.forEach(function(a,b){b%2===0&&(k.push(a),l.push(m)),m+=(i||(i=d("UnicodeUtils"))).strlen(a)});var n=c("createPlainBlocksFromText")(k);j=c("ContentState").createFromBlockArray(n);if(a&&a.length&&b){var o=b;j=a.reduce(function(a,b,e){e=o(b,a);a=e.getLastCreatedEntityKey();var f=b.offset;b=f+b.length;var g,j,k,m;for(var p=0;p<l.length;p++){var q=l[p],r=l[p+1],s=r===void 0;(s||f>=q&&f<r)&&(g=n[p],j=f-q);if(s||b>=q&&b<r){k=n[p];m=b-q;break}}g&&k||h(0,1022);s=(i||(i=d("UnicodeUtils"))).substr(g.getText(),0,j);r=s.length;q=i.substr(k.getText(),0,m);b=q.length;f=new(c("SelectionState"))({anchorKey:g.getKey(),anchorOffset:r,focusKey:k.getKey(),focusOffset:b,isBackward:!1,hasFocus:!1});p=d("DraftModifier").applyEntity(e,f,a);return p},j)}g=c("EditorState").createWithContent(j,f);e===!1&&(g=c("EditorState").set(g,{allowUndo:!1}));return g}g["default"]=a}),98);
__d("CompositeDraftDecorator",["immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").List,h=".";a=function(){function a(a){this.$1=a.slice()}var b=a.prototype;b.isCompositionOfDecorators=function(a){if(this.$1.length!==a.length)return!1;for(var b=0;b<a.length;b++)if(this.$1[b]!==a[b])return!1;return!0};b.getDecorators=function(){return this.$1};b.getDecorations=function(a,b){var c=Array(a.getText().length).fill(null);this.$1.forEach(function(d,e){var f=0;d=d.strategy;function g(a,b){i(c,a,b)&&(j(c,a,b,e+h+f),f++)}d(a,g,b)});return g(c)};b.getComponentForKey=function(a){a=parseInt(a.split(h)[0],10);return this.$1[a].component};b.getPropsForKey=function(a){a=parseInt(a.split(h)[0],10);return this.$1[a].props};return a}();function i(a,b,c){for(b=b;b<c;b++)if(a[b]!=null)return!1;return!0}function j(a,b,c,d){for(b=b;b<c;b++)a[b]=d}e.exports=a}),null);
__d("EmoticonSpan.react",["cx","EmoticonsList","FBEmojiResource","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=16;function a(a){var b=a.children,e=a.contentState,f=a.entityKey;a=(a=a.size)!=null?a:k;if(f==null)return null;e=e.getEntity(f).getData();f=d("EmoticonsList").emoji[e.type];e=new(c("FBEmojiResource"))(f);f=e.getImageURL(a);return f==null?null:j.jsx("span",{className:"_3gl1 _5zz4","data-testid":void 0,style:{backgroundImage:"url("+f+")",backgroundSize:a+"px "+a+"px",height:a+"px",width:a+"px"},children:j.jsx("span",{className:"_ncl",children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("DigitalContentWalletTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:DigitalContentWalletLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:DigitalContentWalletLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:DigitalContentWalletLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAgeBucket=function(a){this.$1.age_bucket=a;return this};c.setCity=function(a){this.$1.city=a;return this};c.setClientMutationID=function(a){this.$1.client_mutation_id=a;return this};c.setContentID=function(a){this.$1.content_id=a;return this};c.setCountry=function(a){this.$1.country=a;return this};c.setErrorCategory=function(a){this.$1.error_category=a;return this};c.setErrorCode=function(a){this.$1.error_code=a;return this};c.setErrorMsg=function(a){this.$1.error_msg=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setFbFundedWalletAvailableUnits=function(a){this.$1.fb_funded_wallet_available_units=a;return this};c.setFbFundedWalletTotalUnits=function(a){this.$1.fb_funded_wallet_total_units=a;return this};c.setFundID=function(a){this.$1.fund_id=a;return this};c.setFundMatchUnits=function(a){this.$1.fund_match_units=a;return this};c.setFundSubtype=function(a){this.$1.fund_subtype=a;return this};c.setFundType=function(a){this.$1.fund_type=a;return this};c.setGender=function(a){this.$1.gender=a;return this};c.setOwnerID=function(a){this.$1.owner_id=a;return this};c.setPayeeID=function(a){this.$1.payee_id=a;return this};c.setPayeeRid=function(a){this.$1.payee_rid=a;return this};c.setPaymentAccountID=function(a){this.$1.payment_account_id=a;return this};c.setPlatform=function(a){this.$1.platform=a;return this};c.setProductOrderID=function(a){this.$1.product_order_id=a;return this};c.setPromotionID=function(a){this.$1.promotion_id=a;return this};c.setPromotionType=function(a){this.$1.promotion_type=a;return this};c.setRefundUnits=function(a){this.$1.refund_units=a;return this};c.setSenderID=function(a){this.$1.sender_id=a;return this};c.setSenderRid=function(a){this.$1.sender_rid=a;return this};c.setSpendID=function(a){this.$1.spend_id=a;return this};c.setSpendMatchUnits=function(a){this.$1.spend_match_units=a;return this};c.setSpendingSubtype=function(a){this.$1.spending_subtype=a;return this};c.setStackTrace=function(a){this.$1.stack_trace=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setStatus=function(a){this.$1.status=a;return this};c.setUnits=function(a){this.$1.units=a;return this};c.setWalletID=function(a){this.$1.wallet_id=a;return this};c.setWalletType=function(a){this.$1.wallet_type=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={age_bucket:!0,city:!0,client_mutation_id:!0,content_id:!0,country:!0,error_category:!0,error_code:!0,error_msg:!0,event:!0,fb_funded_wallet_available_units:!0,fb_funded_wallet_total_units:!0,fund_id:!0,fund_match_units:!0,fund_subtype:!0,fund_type:!0,gender:!0,owner_id:!0,payee_id:!0,payee_rid:!0,payment_account_id:!0,platform:!0,product_order_id:!0,promotion_id:!0,promotion_type:!0,refund_units:!0,sender_id:!0,sender_rid:!0,spend_id:!0,spend_match_units:!0,spending_subtype:!0,stack_trace:!0,status:!0,units:!0,wallet_id:!0,wallet_type:!0};f["default"]=a}),66);
__d("ExclamationStarsConstants",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";c="Illegal input units";d=h._(/*BTDS*/"T\u1ea3i d\u1eef li\u1ec7u kh\u00f4ng th\u00e0nh c\u00f4ng, vui l\u00f2ng l\u00e0m m\u1edbi trang \u0111\u1ec3 th\u1eed l\u1ea1i.");function a(a){return h._(/*BTDS*/"B\u1ea1n ph\u1ea3i g\u1eedi \u00edt nh\u1ea5t {stars} Sao.",[h._param("stars",a)])}function b(a){return h._(/*BTDS*/"B\u1ea1n ph\u1ea3i mua th\u00eam th\u00ec m\u1edbi c\u00f3 th\u1ec3 t\u1eb7ng {selected_send_amount} Sao.",[h._param("selected_send_amount",a)])}g.ILLEGAL_INPUT_EXCEPTION=c;g.TRANSACTION_ERROR_MESSAGE=d;g.getUnderMinimumErrorMessage=a;g.getOverBalanceErrorMessage=b}),226);
__d("ExclamationStarsDispatcher.react",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f,g){"use strict";a=new(c("ExplicitRegistrationReactDispatcher"))({strict:!0});b=a;g["default"]=b}),98);
__d("ExclamationStarsStore.react",["invariant","DigitalContentWalletTypedLogger","ExclamationStarsConstants","ExclamationStarsDispatcher.react","FluxReduceStore","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";var i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(c("immutable").Record({balance:null,spendingUnits:0,starsMetadata:null,minimumTip:10,isMetadataLoading:!0,isBalanceLoading:!0,backgroundColor:null,errorMessage:null,isExclamationStarsEnabled:!1,isFlyoutStarsSelected:!1}));a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.reduce=function(a,b){switch(b.actionType){case"EXCLAMATION_STARS_DETECTED":if(!a.isExclamationStarsEnabled)return a;var f=e.$ExclamationStarsStore$p_1(a,b.spendingUnits),g=e.$ExclamationStarsStore$p_2(a,b.spendingUnits);new(c("DigitalContentWalletTypedLogger"))().setEvent("wallet_shortcut_spend_decorated").setUnits(b.spendingUnits).setErrorMsg(g!=null?d("ExclamationStarsConstants").ILLEGAL_INPUT_EXCEPTION:null).log();return a.set("spendingUnits",b.spendingUnits).set("backgroundColor",f).set("errorMessage",g);case"EXCLAMATION_STARS_UNDETECTED":return a.spendingUnits>0?a.set("spendingUnits",0).set("errorMessage",null):a;case"COMPLETE_FETCH_EXCLAMATION_STARS_METADATA":f=a.set("starsMetadata",b.starsMetadata).set("minimumTip",b.minimumTip).set("isMetadataLoading",!1);if(a.spendingUnits!==0){g=e.$ExclamationStarsStore$p_1(f,f.spendingUnits);var h=e.$ExclamationStarsStore$p_2(a,f.spendingUnits);f=f.set("backgroundColor",g).set("errorMessage",h)}return f;case"START_FETCH_BALANCE":return a.set("isBalanceLoading",!0);case"COMPLETE_FETCH_BALANCE":return a.set("balance",b.balance).set("isBalanceLoading",!1);case"HANDLE_TRANSACTION_ERROR":new(c("DigitalContentWalletTypedLogger"))().setEvent("wallet_data_transaction_exception").setPayeeID(b.payeeId).log();return a.set("errorMessage",d("ExclamationStarsConstants").TRANSACTION_ERROR_MESSAGE);case"ENABLE_EXCLAMATION_STARS":return a.set("isExclamationStarsEnabled",!0);case"FLYOUT_STARS_SELECTED":return a.set("isFlyoutStarsSelected",!0);case"FLYOUT_STARS_UNSELECTED":return a.set("isFlyoutStarsSelected",!1);default:return a}},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.getInitialState=function(){return new i()};e.getSpendingUnits=function(){return this.getState().get("spendingUnits")};e.isExclamationStarsDetected=function(){return this.getState().get("spendingUnits")>0};e.getBackgroundColor=function(){return this.getState().get("backgroundColor")};e.isLoading=function(){return this.getState().get("isMetadataLoading")||this.getState().get("isBalanceLoading")};e.getErrorMessage=function(){return this.getState().get("errorMessage")};e.isExclamationStarsEnabled=function(){return this.getState().get("isExclamationStarsEnabled")};e.isFlyoutStarsSelected=function(){return this.getState().get("isFlyoutStarsSelected")};e.getBalance=function(){return this.getState().get("balance")};e.getMinimumTip=function(){return this.getState().get("minimumTip")};e.$ExclamationStarsStore$p_1=function(a,b){a=a.starsMetadata;if(a!=null){if(b<=a[0].min)return a[0].color;for(var c=0;c<a.length;c++)if(b<=a[c].max)return a[c].color}return null};e.$ExclamationStarsStore$p_2=function(a,b){if(this.isLoading())return null;a.balance!=null||h(0,15040);if(b<a.minimumTip)return d("ExclamationStarsConstants").getUnderMinimumErrorMessage(a.minimumTip);else if(b>a.balance)return d("ExclamationStarsConstants").getOverBalanceErrorMessage(b);return null};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("ExclamationStarsDispatcher.react"));g["default"]=b}),98);
__d("ExclamationStarsSpan.react",["cx","BUISpinner_DEPRECATED.react","ExclamationStarsStore.react","FluxContainer","XUIAmbientNUX.react","react","stringRefShim"],(function(a,b,c,d,e,f,g,h){var i,j=i||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={backgroundColor:null,isLoading:!0,errorMessage:null,isExclamationStarsEnabled:!1,isFlyoutStarsSelected:!1,tooltipShown:!0},c.onTooltipCloseButtonClick=function(){c.setState({tooltipShown:!1})},b)||babelHelpers.assertThisInitialized(c)}b.getStores=function(){return[c("ExclamationStarsStore.react")]};b.calculateState=function(a){a=c("ExclamationStarsStore.react").getState();var b=a.backgroundColor,d=a.errorMessage,e=a.isExclamationStarsEnabled;a=a.isFlyoutStarsSelected;var f=c("ExclamationStarsStore.react").isLoading();return{backgroundColor:b,isLoading:f,errorMessage:d,isExclamationStarsEnabled:e,isFlyoutStarsSelected:a,tooltipShown:!0}};var d=b.prototype;d.render=function(){var a=this;return!this.state.isExclamationStarsEnabled||this.state.isFlyoutStarsSelected||this.state.backgroundColor==null?this.props.children:j.jsxs("span",{children:[this.state.isLoading?j.jsx("span",{children:j.jsx(c("BUISpinner_DEPRECATED.react"),{center:!1,size:"small"})}):j.jsx("span",babelHelpers["extends"]({},this.props,{ref:c("stringRefShim")(this,"decorator"),"data-offset-key":this.props.offsetKey,className:"_7v3u",spellCheck:!1,style:{backgroundColor:this.state.backgroundColor},children:this.props.children})),j.jsx(c("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.decorator},position:"above",alignment:"left",onCloseButtonClick:this.onTooltipCloseButtonClick,shown:this.state.tooltipShown&&this.state.errorMessage!=null,children:this.state.errorMessage})]})};return b}(j.Component);b=c("FluxContainer").create(a);g["default"]=b}),98);
__d("HashtagSpan.react",["cx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(4),c;b[0]!==a.children||b[1]!==a.dir||b[2]!==a.offsetKey?(c=j.jsx("span",{"data-offset-key":a.offsetKey,dir:a.dir,className:"_5zk7",spellCheck:!1,children:a.children}),b[0]=a.children,b[1]=a.dir,b[2]=a.offsetKey,b[3]=c):c=b[3];return c}g["default"]=a}),98);
__d("MentionSpan.react",["cx","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=this.props,b=a.children,c=a.offsetKey;a.blockKey;a.contentState;a.decoratedText;a.end;a.entityKey;a.start;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","offsetKey","blockKey","contentState","decoratedText","end","entityKey","start"]);return j.jsx("span",babelHelpers["extends"]({},a,{"data-offset-key":c,className:"_247o",spellCheck:!1,children:b}))};return b}(j.Component);g["default"]=a}),98);
__d("WeakMentionSpan.react",["cx","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return j.jsx("span",{"data-offset-key":this.props.offsetKey,className:"_whq",spellCheck:!1,children:this.props.children})};return b}(j.Component);g["default"]=a}),98);
__d("getEntityMatcher",[],(function(a,b,c,d,e,f){function g(a,b){return b.getEntity(a)}function a(a,b){return function(c,d,e){var f=b||g;c.findEntityRanges(function(b){b=b.getEntity();return typeof b==="string"&&a(f(b,e))},d)}}f["default"]=a}),66);
__d("getHashtagRegexStringChars",[],(function(a,b,c,d,e,f){"use strict";function a(){var a="\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u024f\u0253-\u0254\u0256-\u0257\u0259\u025b\u0263\u0268\u026f\u0272\u0289\u028b\u02bb\u0300-\u036f\u1e00-\u1eff",b="\u0400-\u04ff\u0500-\u0527\u2de0-\u2dff\ua640-\ua69f\u0591-\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u05d0-\u05ea\u05f0-\u05f4\ufb12-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4f\u0610-\u061a\u0620-\u065f\u066e-\u06d3\u06d5-\u06dc\u06de-\u06e8\u06ea-\u06ef\u06fa-\u06fc\u06ff\u0750-\u077f\u08a0\u08a2-\u08ac\u08e4-\u08fe\ufb50-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\u200c-\u200c\u0e01-\u0e3a\u0e40-\u0e4e\u1100-\u11ff\u3130-\u3185\ua960-\ua97f\uac00-\ud7af\ud7b0-\ud7ff\uffa1-\uffdc",c=String.fromCharCode;c="\u30a1-\u30fa\u30fc-\u30fe\uff66-\uff9f\uff10-\uff19\uff21-\uff3a\uff41-\uff5a\u3041-\u3096\u3099-\u309e\u3400-\u4dbf\u4e00-\u9fff"+c(173824)+"-"+c(177983)+c(177984)+"-"+c(178207)+c(194560)+"-"+c(195103)+"\u3003\u3005\u303b";a=a+b+c;b="A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u0241\u0250-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ee\u037a\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03ce\u03d0-\u03f5\u03f7-\u0481\u048a-\u04ce\u04d0-\u04f9\u0500-\u050f\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0621-\u063a\u0640-\u064a\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u076d\u0780-\u07a5\u07b1\u0904-\u0939\u093d\u0950\u0958-\u0961\u097d\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c60-\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d28\u0d2a-\u0d39\u0d60-\u0d61\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edd\u0f00\u0f40-\u0f47\u0f49-\u0f6a\u0f88-\u0f8b\u1000-\u1021\u1023-\u1027\u1029-\u102a\u1050-\u1055\u10a0-\u10c5\u10d0-\u10fa\u10fc\u1100-\u1159\u115f-\u11a2\u11a8-\u11f9\u1200-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u1676\u1681-\u169a\u16a0-\u16ea\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19a9\u19c1-\u19c7\u1a00-\u1a16\u1d00-\u1dbf\u1e00-\u1e9b\u1ea0-\u1ef9\u1f00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u2094\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2131\u2133-\u2139\u213c-\u213f\u2145-\u2149\u2c00-\u2c2e\u2c30-\u2c5e\u2c80-\u2ce4\u2d00-\u2d25\u2d30-\u2d65\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3006\u3031-\u3035\u303b-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312c\u3131-\u318e\u31a0-\u31b7\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fbb\ua000-\ua48c\ua800-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\uac00-\ud7a3\uf900-\ufa2d\ufa30-\ufa6a\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc";c="\u0300-\u036f\u0483-\u0486\u0591-\u05b9\u05bb-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u0615\u064b-\u065e\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u0901-\u0903\u093c\u093e-\u094d\u0951-\u0954\u0962-\u0963\u0981-\u0983\u09bc\u09be-\u09c4\u09c7-\u09c8\u09cb-\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a70-\u0a71\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0b01-\u0b03\u0b3c\u0b3e-\u0b43\u0b47-\u0b48\u0b4b-\u0b4d\u0b56-\u0b57\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c82-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5-\u0cd6\u0d02-\u0d03\u0d3e-\u0d43\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d82-\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2-\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f3e-\u0f3f\u0f71-\u0f84\u0f86-\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102c-\u1032\u1036-\u1039\u1056-\u1059\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b6-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u192b\u1930-\u193b\u19b0-\u19c0\u19c8-\u19c9\u1a17-\u1a1b\u1dc0-\u1dc3\u20d0-\u20dc\u20e1\u20e5-\u20eb\u302a-\u302f\u3099-\u309a\ua802\ua806\ua80b\ua823-\ua827\ufb1e\ufe00-\ufe0f\ufe20-\ufe23";var d="0-9\u0660-\u0669\u06f0-\u06f9\u0966-\u096f\u09e6-\u09ef\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0be6-\u0bef\u0c66-\u0c6f\u0ce6-\u0cef\u0d66-\u0d6f\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f29\u1040-\u1049\u17e0-\u17e9\u1810-\u1819\u1946-\u194f\u19d0-\u19d9\uff10-\uff19";b=b+c+a;c=d+"_";a=b+c;d="#\\uFF03";return{alpha:b,alphanumeric:a,hashChars:d}}f["default"]=a}),66);
__d("getHashtagRegexString",["getHashtagRegexStringChars"],(function(a,b,c,d,e,f){function a(){var a=b("getHashtagRegexStringChars")(),c=a.alpha,d=a.alphanumeric;a=a.hashChars;c="["+c+"]";var e="["+d+"]";d="^|$|[^&/"+d+"]";a="["+a+"]";d="("+d+")("+a+")("+e+"*"+c+e+"*)";return d}f["default"]=a}),66);
__d("getHashtagRegex",["getHashtagRegexString"],(function(a,b,c,d,e,f){function a(){return new RegExp(b("getHashtagRegexString")(),"ig")}f["default"]=a}),66);
__d("getHashtagMatches",["getHashtagRegex"],(function(a,b,c,d,e,f){var g=b("getHashtagRegex")();function a(a,b){a=a.getText();var c,d,e;while((c=g.exec(a))!==null)d=c.index+c[1].length,e=c[2],c=c[3],b(d,d+e.length+c.length)}f["default"]=a}),66);
__d("ExclamationStarsActions.react",["ExclamationStarsDispatcher.react"],(function(a,b,c,d,e,f,g){"use strict";function a(a){c("ExclamationStarsDispatcher.react").dispatch({actionType:"EXCLAMATION_STARS_DETECTED",spendingUnits:a})}function b(){c("ExclamationStarsDispatcher.react").dispatch({actionType:"EXCLAMATION_STARS_UNDETECTED"})}function d(a,b){c("ExclamationStarsDispatcher.react").dispatch({actionType:"COMPLETE_FETCH_EXCLAMATION_STARS_METADATA",starsMetadata:a,minimumTip:b})}function e(a){c("ExclamationStarsDispatcher.react").dispatch({actionType:"COMPLETE_FETCH_BALANCE",balance:a})}function f(){c("ExclamationStarsDispatcher.react").dispatch({actionType:"START_FETCH_BALANCE"})}function h(a){c("ExclamationStarsDispatcher.react").dispatch({actionType:"HANDLE_TRANSACTION_ERROR",payeeId:a})}function i(){c("ExclamationStarsDispatcher.react").dispatch({actionType:"ENABLE_EXCLAMATION_STARS"})}function j(){c("ExclamationStarsDispatcher.react").dispatch({actionType:"FLYOUT_STARS_SELECTED"})}function k(){c("ExclamationStarsDispatcher.react").dispatch({actionType:"FLYOUT_STARS_UNSELECTED"})}g.exclamationStarsDetected=a;g.exclamationStarsUndetected=b;g.completeFetchExclamationStarsMetadata=d;g.completeFetchBalance=e;g.startFetchBalance=f;g.handleTransactionError=h;g.enableExclamationStars=i;g.flyoutStarsSelected=j;g.flyoutStarsUnselected=k}),98);
__d("getExclamationStarsRegex",[],(function(a,b,c,d,e,f){"use strict";function a(){var a="\\s|^|$",b="[!\\u0021]",c="[1-9][0-9]{1,7}";a="("+a+")("+b+")("+c+")";return new RegExp(a)}f["default"]=a}),66);
__d("getUFIExclamationStarsStrategy",["ExclamationStarsActions.react","getExclamationStarsRegex"],(function(a,b,c,d,e,f,g){var h=c("getExclamationStarsRegex")();function a(a,b){a=a.getText();a=h.exec(a);var c,e;a!=null?(c=a.index+a[1].length,e=a[2],a=a[3],d("ExclamationStarsActions.react").exclamationStarsDetected(parseInt(a,10)),b(c,c+e.length+a.length)):d("ExclamationStarsActions.react").exclamationStarsUndetected()}g["default"]=a}),98);
__d("getMentionsInputDecorator",["CompositeDraftDecorator","EmoticonSpan.react","ExclamationStarsSpan.react","HashtagSpan.react","MentionSpan.react","WeakMentionSpan.react","getEntityMatcher","getHashtagMatches","getUFIExclamationStarsStrategy"],(function(a,b,c,d,e,f,g){var h;function a(){if(!h){var a=[{strategy:c("getEntityMatcher")(function(a){var b=a.getData();return a.getType()==="MENTION"&&b&&b.isWeak}),component:c("WeakMentionSpan.react")},{strategy:c("getEntityMatcher")(function(a){return a.getType()==="MENTION"}),component:c("MentionSpan.react")},{strategy:c("getEntityMatcher")(function(a){return a.getType()==="EMOTICON"}),component:c("EmoticonSpan.react")},{strategy:c("getHashtagMatches"),component:c("HashtagSpan.react")},{strategy:c("getUFIExclamationStarsStrategy"),component:c("ExclamationStarsSpan.react")}];h=new(c("CompositeDraftDecorator"))(a)}return h}g["default"]=a}),98);
__d("CommentsPluginComposer.react",["cx","fbt","ActorURI","AsyncRequest","CommentsPluginComposerMirroringNotice.react","CommentsPluginProfilePicture.react","CommentsPluginStore","EditorState","MentionsInput.react","UFI2CommentUtils","UFI2StickerButtonDEPRECATED.react","UFIAttachMediaSection.react","UFIAttachedMediaPreview.react","UFIImageBlock.react","XUINotice.react","XUITypeaheadView.react","createEditorStateWithRanges","getMentionsInputDecorator","getVisibleValueForContentState","joinClasses","react","stringRefShim"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=19,m="/ajax/ufi/sticker_preview/";function n(a,b){return b.createEntity("MENTION","IMMUTABLE",{id:a.entity.id})}a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d){var e;e=a.call(this,b,d)||this;e.$10=function(a){e.setState({editorState:a}),e.props.editCommentID?c("CommentsPluginStore").setEditComposerState(a,e.props.editCommentID):c("CommentsPluginStore").setCreateComposerState(a,e.props.parentCommentIDOfNewReply)};e.$12=function(){e.setState({expanded:!0})};e.state=e.$1();return e}var e=b.prototype;e.$1=function(a){var b=null,e=null;a=a||this.props.prefillText;if(a)b=this.$2(a),this.props.editCommentID?c("CommentsPluginStore").setEditComposerState(b,this.props.editCommentID):c("CommentsPluginStore").setCreateComposerState(b,this.props.parentCommentIDOfNewReply);else{var f=null,g=null;if(this.props.editCommentID)e=c("CommentsPluginStore").getByID(this.props.editCommentID),b=c("createEditorStateWithRanges")({text:e.body.text,ranges:d("UFI2CommentUtils").shallowCopyRanges(e.ranges).filter(function(a){return!a.entity.external}),decorator:c("getMentionsInputDecorator")(),addEntityToContentStateFn:n}),e.photo_comment?(f=e.photo_comment,f.attachmentType="photo",this.$3(f)):e.attachment&&(g=e.attachment,g.attachmentType="sticker",this.$3(g));else if(this.props.parentCommentIDOfNewReply){e=c("CommentsPluginStore").getByID(this.props.parentCommentIDOfNewReply);if(e.replyToCommentID&&c("CommentsPluginStore").getAuthor(e.replyToCommentID).id!==c("CommentsPluginStore").getUser().id){e=c("CommentsPluginStore").getAuthor(e.replyToCommentID);var h={id:e.id,text:e.name,offset:0,length:e.name.length,entity:{id:e.id}};b=c("EditorState").moveFocusToEnd(c("createEditorStateWithRanges")({text:e.name+" ",ranges:[h],decorator:c("getMentionsInputDecorator")(),addEntityToContentStateFn:n}))}}b||(b=c("EditorState").createEmpty(c("getMentionsInputDecorator")()))}return{editorState:b,expanded:a||!!this.props.alwaysExpanded,attachedPhoto:f,attachedSticker:g}};e.$2=function(a){return c("createEditorStateWithRanges")({text:a,decorator:c("getMentionsInputDecorator")()})};e.$4=function(){return!this.props.editCommentID&&!this.props.parentCommentIDOfNewReply};e.$3=function(a){this.props.editCommentID?c("CommentsPluginStore").setEditComposerAttachment(a,this.props.editCommentID):c("CommentsPluginStore").setCreateComposerAttachment(a,this.props.parentCommentIDOfNewReply)};e.$5=function(a){this.props.editCommentID?c("CommentsPluginStore").setLoadingEditComposerAttachment(a,this.props.editCommentID):c("CommentsPluginStore").setLoadingCreateComposerAttachment(a,this.props.parentCommentIDOfNewReply)};e.$6=function(){if(this.props.editCommentID)return c("CommentsPluginStore").getLoadingEditComposerAttachment(this.props.editCommentID);else return c("CommentsPluginStore").getLoadingCreateComposerAttachment(this.props.parentCommentIDOfNewReply)};e.$7=function(){return this.state.isLoadingAttachment||!!this.state.attachedSticker||!!this.state.attachedPhoto};e.getPhotoUploadData=function(){var a,b=c("CommentsPluginStore").getUser().id;return a={profile_id:b,target_id:this.props.targetID,source:l},a[d("ActorURI").PARAMETER_ACTOR]=b,a};e.onPhotoUploadComplete=function(a){if(!this.$6())return;a=a.getPayload();a&&a.fbid?(a.attachmentType="photo",this.$3(a),this.$5(!1),this.setState({attachedPhoto:a,isLoadingAttachment:!1,expanded:!0})):this.resetAttachment(null)};e.onStickerSelected=function(a){this.$8(),new(c("AsyncRequest"))(m).setData({sticker_id:a}).setErrorHandler(this.resetAttachment.bind(this)).setHandler(this.$9.bind(this)).send()};e.$9=function(a){if(!this.$6())return;a=a.getPayload();a&&a.fbid?(a.attachmentType="sticker",this.$3(a),this.$5(!1),this.setState({attachedSticker:a,isLoadingAttachment:!1,expanded:!0})):this.resetAttachment(null)};e.resetAttachment=function(a){this.$3(void 0),this.$5(!1),this.setState({attachedPhoto:null,attachedSticker:null,isLoadingAttachment:!1})};e.$8=function(){this.$3(void 0),this.$5(!0),this.setState({attachedSticker:null,attachedPhoto:null,isLoadingAttachment:!0})};e.componentDidMount=function(){var a=this;c("CommentsPluginStore").addListener("composerCommentAdded",function(b){if(a.$4()){b=a.$1();b.expanded=!0;a.setState(b);a.refs.composer.style&&(a.refs.composer.style.cssText="")}});c("CommentsPluginStore").addListener("previousComposerCommentPrefill",function(b){b=a.$1(b.prefillText);b.expanded=!0;a.setState(b)});this.$4()||this.refs.composer.focus()};e.$11=function(){return this.props.editCommentID?c("CommentsPluginStore").isReply(this.props.editCommentID):!!this.props.parentCommentIDOfNewReply};e.setFileInput=function(a,b){this.setState({fileInput:a,fileUploader:b})};e.$13=function(){return c("getVisibleValueForContentState")(this.state.editorState.getCurrentContent())};e.$14=function(a){a=a.target;var b=a.value;a.value="";a.value=b;this.$12()};e.$15=function(a){a=a.target;a.style.height="auto";var b=a.scrollHeight;a.offsetHeight<b&&(a.style.cssText="height:"+b+"px");this.$10(c("createEditorStateWithRanges")({text:a.value}))};e.$16=function(){var a=this.props.placeholder||i._(/*BTDS*/"B\u00ecnh lu\u1eadn..."),b=i._(/*BTDS*/"B\u00ecnh lu\u1eadn");return c("CommentsPluginStore").shouldUseLegacyMentionsInput()?k.jsx("textarea",{"aria-label":b,className:"_1cb _1u9t"+(this.props.readOnly?" _5pu_":""),placeholder:a,ref:c("stringRefShim")(this,"composer"),onFocus:this.$14.bind(this),onChange:this.$15.bind(this),readOnly:this.props.readOnly,value:this.$13()}):k.jsx(c("MentionsInput.react"),{ariaLabel:b,autoflip:!0,className:"_1cb"+(this.props.readOnly?" _5pu_":""),editorState:this.state.editorState,mentionsSource:c("CommentsPluginStore").getComposerSearchSource(),onChange:this.$10,onFocus:this.$12,placeholder:a,readOnly:this.props.readOnly,typeaheadView:c("XUITypeaheadView.react"),ref:c("stringRefShim")(this,"composer")})};e.render=function(){var a=this.props.editCommentID?c("CommentsPluginStore").getAuthor(this.props.editCommentID):c("CommentsPluginStore").getUser(),b=this.$11();return k.jsxs(c("UFIImageBlock.react"),{spacing:"medium",className:c("joinClasses")("_4uyl"+(b?" _1zz6":"")+(this.state.expanded?"":" _1zz7")+(this.state.expanded?" _1zz8":""),this.props.className),children:[c("CommentsPluginStore").shouldUseCustomActorSelector()?k.jsx("div",{}):k.jsx(c("CommentsPluginProfilePicture.react"),{href:a.uri,src:a.thumbSrc,isReply:b,usePrivacyOverlay:!0,target:"_blank"}),k.jsxs("div",{children:[k.jsxs("div",{className:"UFIInputContainer",children:[this.$16(),k.jsxs("div",{className:"UFICommentAttachmentButtons clearfix"+(c("CommentsPluginStore").isPlatformEnabled(a.id)&&c("CommentsPluginStore").isLoggedIn()&&!this.$7()?"":" hidden_elem"),children:[this.props.allowPhotoAttachments?k.jsx(c("UFIAttachMediaSection.react"),{onPhotoUploadComplete:this.onPhotoUploadComplete.bind(this),getPhotoUploadData:this.getPhotoUploadData.bind(this),prepareForAttachedPhotoPreview:this.$8.bind(this),setFileInput:this.setFileInput.bind(this),attachment:this.state.attachedPhoto,viewerActorID:c("CommentsPluginStore").getUser().id}):null,this.props.allowStickerAttachments?k.jsx(c("UFI2StickerButtonDEPRECATED.react"),{onStickerSelected:this.onStickerSelected.bind(this)}):null]})]}),k.jsx(c("UFIAttachedMediaPreview.react"),{attachedPhoto:this.state.attachedPhoto,attachedSticker:this.state.attachedSticker,onRemoveAttachedMediaPreviewClicked:this.resetAttachment.bind(this),onRemoveAttachedStickerPreview:this.resetAttachment.bind(this),isLoadingPhoto:this.state.isLoadingAttachment}),this.props.unableToPost?k.jsx(c("XUINotice.react"),{use:"warn",children:i._(/*BTDS*/"_j{\"*\":\"B\\u00ecnh lu\\u1eadn ph\\u1ea3i d\\u01b0\\u1edbi {lengthLimit} k\\u00fd t\\u1ef1\"}",[i._param("lengthLimit",c("CommentsPluginStore").getMaxCommentLength(),[0])])}):null,this.state.expanded?k.jsxs("div",{className:"_4uym",children:[k.jsx(c("CommentsPluginComposerMirroringNotice.react"),{isReply:b}),this.props.children]}):null]})]})};return b}(k.Component);g["default"]=a}),226);
__d("SingleSelectorBase",["csx","cx","invariant","Alignment","ArbiterMixin","BehaviorsMixin","Button","CSS","DOM","DOMQuery","Event","Layer","LayerBounds","Locale","ParameterizedPopover","PopoverMenu","Rect","Scroll","SelectableMenuUtils","Style","getOverlayZIndex","mixin","throttle"],(function(a,b,c,d,e,f,g,h,i){var j=b("Alignment").Anchor,k=b("Locale").isRTL()?j.RIGHT:j.LEFT,l={},m=16;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d,e,f){var g;g=a.call(this)||this;g.$SingleSelectorBase1=c;g.$SingleSelectorBase2=null;g.$SingleSelectorBase3=l;g.$SingleSelectorBase4=b("DOM").create("div",{});g.$SingleSelectorBase5=new(b("Layer"))({classNames:["_5xew"]},g.$SingleSelectorBase4);g.$SingleSelectorBase6=new(b("ParameterizedPopover"))(c.parentNode,c,[],babelHelpers["extends"]({},e,{layer:g.$SingleSelectorBase5}));g.$SingleSelectorBase6.subscribe("show",g.$SingleSelectorBase7.bind(babelHelpers.assertThisInitialized(g)));g.$SingleSelectorBase6.subscribe("hide",g.$SingleSelectorBase8.bind(babelHelpers.assertThisInitialized(g)));g.$SingleSelectorBase9=new(b("PopoverMenu"))(g.$SingleSelectorBase6,c,d,[]);g.setMenu(d);f&&f.behaviors&&g.enableBehaviors(f.behaviors);return g}var d=c.prototype;d.$SingleSelectorBase7=function(){this.$SingleSelectorBase10();this.$SingleSelectorBase11();b("CSS").conditionClass(this.$SingleSelectorBase5.getRoot(),"_5xex",this.$SingleSelectorBase12());b("Style").set(this.$SingleSelectorBase5.getRoot(),"min-width",this.$SingleSelectorBase1.offsetWidth+m+"px");var a=b("DOM").scry(this.$SingleSelectorBase4,"div.uiScrollableAreaWrap")[0];if(a){var c=b("Alignment").measure(new j(this.$SingleSelectorBase13(),k,j.MIDDLE),new j(this.$SingleSelectorBase2.getRoot(),k,j.MIDDLE));b("Scroll").setTop(a,b("Scroll").getTop(a)-c.y)}this.align();this.getMenu().focusAnItem();this.$SingleSelectorBase14||(this.$SingleSelectorBase14=b("Event").listen(window,"resize",b("throttle")(this.align.bind(this))));this.inform("show")};d.$SingleSelectorBase8=function(){this.$SingleSelectorBase14&&(this.$SingleSelectorBase14.remove(),this.$SingleSelectorBase14=null),this.inform("hide")};d.$SingleSelectorBase15=function(a,b){this.$SingleSelectorBase16=null,this.$SingleSelectorBase17||this.inform("change",b)};d.isShown=function(){return this.$SingleSelectorBase6.isShown()};d.setValue=function(a){this.isShown()?this.$SingleSelectorBase18(a,!1):(this.$SingleSelectorBase3=a,this.$SingleSelectorBase19=!1)};d.setValueWithoutChange=function(a){this.isShown()?this.$SingleSelectorBase18(a,!0):(this.$SingleSelectorBase3=a,this.$SingleSelectorBase19=!0)};d.$SingleSelectorBase11=function(){this.$SingleSelectorBase3!==l&&(this.$SingleSelectorBase18(this.$SingleSelectorBase3,this.$SingleSelectorBase19),this.$SingleSelectorBase3=l)};d.$SingleSelectorBase18=function(a,b){this.$SingleSelectorBase17=b,this.$SingleSelectorBase2.setValue(a),this.$SingleSelectorBase17=null};d.getValue=function(){return this.getSelectedItem().getValue()};d.getLayer=function(){return this.$SingleSelectorBase5};d.getButton=function(){return this.$SingleSelectorBase1};d.setMenu=function(a){this.isShown()?this.$SingleSelectorBase20(a):this.$SingleSelectorBase21=a};d.$SingleSelectorBase10=function(){this.$SingleSelectorBase21&&(this.$SingleSelectorBase20(this.$SingleSelectorBase21),this.$SingleSelectorBase21=null)};d.$SingleSelectorBase20=function(a){a!==this.$SingleSelectorBase2&&(this.$SingleSelectorBase2=a,this.$SingleSelectorBase22&&this.$SingleSelectorBase22.unsubscribe(),this.$SingleSelectorBase22=this.$SingleSelectorBase2.subscribe("change",this.$SingleSelectorBase15.bind(this)),b("DOM").setContent(this.$SingleSelectorBase4,a.getRoot()),this.$SingleSelectorBase9.setMenu(a),this.$SingleSelectorBase16=null)};d.getMenu=function(){return this.$SingleSelectorBase21||this.$SingleSelectorBase2};d.enable=function(){b("Button").setEnabled(this.$SingleSelectorBase1,!0),this.$SingleSelectorBase6.enable()};d.disable=function(){b("Button").setEnabled(this.$SingleSelectorBase1,!1),this.$SingleSelectorBase6.disable()};d.$SingleSelectorBase12=function(){return b("Style").isFixed(this.$SingleSelectorBase1)&&!b("Style").isFixed(this.$SingleSelectorBase5.getRoot().parentNode)};d.align=function(){this.$SingleSelectorBase16||(this.$SingleSelectorBase16=this.getAlignment());this.$SingleSelectorBase16.align();var a=b("Rect").getElementBounds(this.$SingleSelectorBase2.getRoot()),c=b("LayerBounds").getViewportRectForContext(this.$SingleSelectorBase1),d=a.t-c.t,e=c.b-a.b,f=a.l-c.l;c=c.r-a.r;a=this.$SingleSelectorBase5.getRoot();d<10?n(a,"top",-d+10):e<10&&n(a,"top",e-10);f<10?n(a,"left",-f+10):c<10&&n(a,"left",c-10);d=b("getOverlayZIndex")(this.$SingleSelectorBase1,this.$SingleSelectorBase5.getInsertParent());b("Style").set(this.$SingleSelectorBase5.getRoot(),"z-index",d>200?d:"")};d.getAlignment=function(){return new(b("Alignment"))(new j(this.$SingleSelectorBase5.getRoot(),j.TOP,j.LEFT),new j(this.$SingleSelectorBase13(),k,j.MIDDLE),new j(this.$SingleSelectorBase23(),k,j.MIDDLE))};d.$SingleSelectorBase23=function(){return b("DOMQuery").find(this.$SingleSelectorBase1,"._55pe")};d.getSelectedItem=function(){var a=this,c=null;this.$SingleSelectorBase3!==l?this.getMenu().forEachItem(function(b){b.getValue()===a.$SingleSelectorBase3&&(c===null||i(0,4204),c=b)}):this.getMenu().forEachItem(function(a){b("SelectableMenuUtils").isSelected(a)&&(c===null||i(0,4204),c=a)});c!==null||i(0,4205);return c};d.$SingleSelectorBase13=function(){return b("DOMQuery").find(this.getSelectedItem().getRoot(),"._54nh")};d.destroy=function(){this.$SingleSelectorBase2&&this.$SingleSelectorBase2.destroy(),this.$SingleSelectorBase9.destroy(),this.$SingleSelectorBase6.destroy(),this.$SingleSelectorBase5.destroy()};return c}(b("mixin")(b("ArbiterMixin"),b("BehaviorsMixin")));function n(a,c,d){b("Style").set(a,c,b("Style").getFloat(a,c)+d+"px")}e.exports=a}),null);
__d("XUISingleSelectorButton.react",["ix","Image.react","XUIPopoverButton.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){return j.jsx(c("XUIPopoverButton.react"),babelHelpers["extends"]({},this.props,{chevron:j.jsx(c("Image.react"),{src:h("101343")})}))};return b}(j.Component);g["default"]=a}),98);
__d("XUISingleSelector.react",["DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE","InlineBlock.react","ReactDOM_DEPRECATED","ReactSelectorUtils","ReactXUIMenu","SingleSelectorBase","SubscriptionsHandler","XUISingleSelectorButton.react","areEqual","cloneWithProps_DEPRECATED","react","stringRefShim"],(function(a,b,c,d,e,f,g){var h,i,j=i||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$1=null,e.$2=null,e.flattenMenuItems=function(){return j.Children.toArray(e.props.children).filter(function(a){return a})},e.processMenuItems=function(){return d("ReactSelectorUtils").processMenuItems(e.flattenMenuItems(),e.getValue())},e.getValue=function(){return e.props.value!==void 0?e.props.value:e.state.value},e.onChange=function(a,b){e.props.value===void 0?e.setState({value:b.value}):e.setMenuValue(e.props.value),e.props.onChange&&e.props.onChange(b)},e.state={value:e.props.value!==void 0?e.props.value:e.props.defaultValue!==void 0?e.props.defaultValue:c("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(e.flattenMenuItems()[0]).props.value},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.setMenuValue=function(a){this.$1!=null&&this.$1.setValueWithoutChange(a)};e.UNSAFE_componentWillReceiveProps=function(){this.props.value!==void 0&&this.setState({value:this.props.value})};e.componentDidMount=function(){var a=d("ReactDOM_DEPRECATED").findDOMNode_DEPRECATED(this.refs.button);this.$1=new(c("SingleSelectorBase"))(a,this.$3(),{disabled:this.props.disabled},{behaviors:this.props.behaviors});this.$2=new(c("SubscriptionsHandler"))();this.$2.addSubscriptions(this.$1.subscribe("change",this.onChange));this.props.onShow&&this.$2!=null&&this.$1!=null&&this.$2.addSubscriptions(this.$1.subscribe("show",this.props.onShow));this.props.onHide&&this.$2!=null&&this.$1!=null&&this.$2.addSubscriptions(this.$1.subscribe("hide",this.props.onHide))};e.componentDidUpdate=function(a){this.$1!=null&&(!(h||(h=c("areEqual")))(a.children,this.props.children)||a.maxheight!==this.props.maxheight)&&this.$1.setMenu(this.$3());if(this.$1!=null&&a.disabled!==this.props.disabled){a=this.$1;!this.props.disabled?a.enable():a.disable()}this.setMenuValue(this.getValue())};e.componentWillUnmount=function(){this.$1!=null&&this.$1.destroy(),this.$2&&(this.$2.release(),this.$2=null)};e.$3=function(){var a=j.jsx(c("ReactXUIMenu").SelectableMenu,{className:this.props.menuClassName,maxheight:this.props.maxheight,children:this.processMenuItems().items});return new(c("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(a).type)(c("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(a).props)};e.render=function(){var a=this.processMenuItems().selectedItem,b;a=a?c("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(a).props:{};a.icon&&(b=c("cloneWithProps_DEPRECATED")(a.icon,{}));var d={ref:c("stringRefShim")(this,"button"),label:a.label||a.children,image:b},e;this.props.customButton?e=j.cloneElement(this.props.customButton,d):e=j.jsx(c("XUISingleSelectorButton.react"),babelHelpers["extends"]({},d,{disabled:this.props.disabled,size:this.props.size,suppressed:this.props.suppressed,maxwidth:this.props.maxwidth}));return j.jsxs(c("InlineBlock.react"),babelHelpers["extends"]({},this.props,{alignv:this.props.valign,children:[j.jsx("input",{type:"hidden",autoComplete:"off",name:this.props.name,value:a.value}),e]}))};return b}(j.Component);a.Option=c("ReactXUIMenu").SelectableItem;a.defaultProps={disabled:!1,size:"medium",valign:"middle"};g["default"]=a}),98);
__d("CommentsPluginPrivacySelector.react",["cx","ix","Image.react","XUISelector.react","XUISingleSelector.react","react","vulture"],(function(a,b,c,d,e,f,g,h){var i,j=i||b("react"),k=b("XUISelector.react").Option,l="everyone",m="friends",n="onlyMe";a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c){var d;b("vulture")("YAESOhqCQW-PmkBgjO53y44C81s=");d=a.call(this,c)||this;d.$1=function(a){b("vulture")("V-YMx15JD5_w5EQJ6UkclamspcA="),d.props.onChange(a.value)};d.addlPrivacyOptions=c.addlPrivacyOptions;return d}var d=c.prototype;d.getSelectedOption=function(){b("vulture")("cGk4Ca0am9HuYBngUFxE7laE4tI=");return this.state.value};d.render=function(){b("vulture")("N74x9S1ZQsIHuIXwOgdZrHWDVaA=");var a=j.jsx(k,{value:l,icon:j.jsx(b("Image.react"),{src:h("113426")}),selected:!0,children:"Everyone"}),c=j.jsx(k,{value:m,icon:j.jsx(b("Image.react"),{src:h("113364")}),children:"Friends Only"}),d=j.jsx(k,{value:n,icon:j.jsx(b("Image.react"),{src:h("113611")}),children:"Only Me"}),e=this.addlPrivacyOptions.map(function(a){return j.jsx(k,{value:a,children:a})});return j.jsx("div",{className:"inlineBlock",children:j.jsxs(b("XUISingleSelector.react"),{defaultValue:this.props.privacyOption,onChange:this.$1,children:[a,c,d,e]})})};return c}(j.Component);e.exports=a}),null);
__d("CommentsPluginComposerComment.react",["cx","fbt","CommentsPluginActions","CommentsPluginAuthorSelector.react","CommentsPluginComposer.react","CommentsPluginConfig","CommentsPluginPrivacySelector.react","CommentsPluginStore","LeftRight.react","XUIButton.react","react","stringRefShim"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var d;d=a.call(this,b)||this;d.$1=function(a){d.setState({privacyOption:a})};d.$2=function(){c("CommentsPluginStore").isLoggedIn()&&d.setState({waitingAsyncResponse:!0}),c("CommentsPluginActions").setPostToFeed(d.state.postToFeed),c("CommentsPluginActions").setPrivacyOption(d.state.privacyOption),c("CommentsPluginActions").addComment()};d.state={selectedActorID:c("CommentsPluginStore").getUser().id,postToFeed:!1,waitingAsyncResponse:!1,unableToPost:!1,privacyOption:"everyone"};return d}var d=b.prototype;d.componentDidMount=function(){var a=this,b;(b=c("CommentsPluginStore")).addListener("composerChange",function(){var b=c("CommentsPluginStore").getCreateComposerContent().visibleValue;b=b.trim().length;a.setState({unableToPost:b>c("CommentsPluginStore").getMaxCommentLength()})});b.addListener("composerCommentAdded",function(){a.setState({waitingAsyncResponse:!1}),a.refs.composer.resetAttachment()});b.addListener("login",function(){a.setState({waitingAsyncResponse:!1})});b.addListener("actorChange",function(){a.refs.composer.resetAttachment(),a.forceUpdate()});b.addListener("previousPostToFeedPrefill",function(){a.setState({postToFeed:c("CommentsPluginStore").getPostToFeed()})})};d.$3=function(){return this.state.waitingAsyncResponse||this.state.unableToPost||c("CommentsPluginStore").isEmptyCreateComposer()};d.render=function(){var a=c("CommentsPluginStore").isLoggedIn()||c("CommentsPluginStore").isConsentRequired()?i._(/*BTDS*/"\u0110\u0103ng"):i._(/*BTDS*/"\u0110\u0103ng nh\u1eadp v\u00e0o b\u00e0i vi\u1ebft");return k.jsx(c("CommentsPluginComposer.react"),{allowPhotoAttachments:c("CommentsPluginStore").getEnablePhoto(),allowStickerAttachments:c("CommentsPluginStore").getEnableSticker(),ref:c("stringRefShim")(this,"composer"),className:"_2392",readOnly:this.state.waitingAsyncResponse,unableToPost:this.state.unableToPost,children:k.jsxs(c("LeftRight.react"),{className:"_5tr6 clearfix _2ph-",children:[k.jsx("span",{}),k.jsxs("span",{children:[k.jsx(c("CommentsPluginAuthorSelector.react"),{}),c("CommentsPluginConfig").commentPrivacy&&this.state.postToFeed?k.jsx(c("CommentsPluginPrivacySelector.react"),{privacyOption:this.state.privacyOption,onChange:this.$1,addlPrivacyOptions:c("CommentsPluginStore").getPrivacyOptionsList()}):null,k.jsx(c("XUIButton.react"),{"data-testid":void 0,disabled:this.$3(),label:a,use:"confirm",className:"rfloat _3-99",onClick:this.$2})]})]})})};return b}(k.Component);g["default"]=a}),226);
__d("XDeveloperProductsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/products/{product_name}/{?product_section}/{?path1}/{?path2}/{?path3}/",{product_name:{type:"String",required:!0},product_section:{type:"String"},path1:{type:"String"},path2:{type:"String"},path3:{type:"String"}})}),null);
__d("CommentsPluginFooter.react",["cx","fbt","ix","Image.react","ImageBlock.react","XDeveloperProductsController","react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k,l=k||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){var a;return l.jsx("div",{className:"_5lm5 _2pi3 _3-8y",children:l.jsxs(c("ImageBlock.react"),{children:[l.jsx(c("Image.react"),{src:j("83801")}),l.jsx("a",{target:"_blank",href:c("XDeveloperProductsController").getURIBuilder().setString("product_name","social-plugins").setString("product_section","comments").getURI().setQueryData((a={},a.utm_campaign="social_plugins",a.utm_medium="offsite_pages",a.utm_source="comments_plugin",a)).setSubdomain("developers"),children:i._(/*BTDS*/"Plugin b\u00ecnh lu\u1eadn tr\u00ean Facebook")})]})})};return b}(l.Component);g["default"]=a}),226);
__d("CommentsPluginHeader.react",["cx","fbt","CommentsPluginActions","CommentsPluginStore","DeveloperCommentsPluginOrdering","LeftRight.react","Link.react","XUISingleSelector.react","XUISpinner.react","XUIText.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var d;d=a.call(this,b)||this;d.$1=function(a){d.setState({sorting:!0}),c("CommentsPluginStore").addListener("sortingCompleted",function(){d.setState({sorting:!1}),c("CommentsPluginStore").removeCurrentListener()}),c("CommentsPluginActions").sort(a.value||a.target.value)};d.state={sorting:!1};return d}var d=b.prototype;d.componentDidMount=function(){var a=this;c("CommentsPluginStore").addListener("commentsCountChange",function(){a.forceUpdate()})};d.render=function(){var a=null,b=null;c("CommentsPluginStore").getModerateURL()&&(a=k.jsxs("span",{children:[k.jsx("span",{className:"_52bm",children:"|"}),k.jsx(c("Link.react"),{href:c("CommentsPluginStore").getModerateURL(),target:"_blank",children:i._(/*BTDS*/"C\u00f4ng c\u1ee5 ki\u1ec3m duy\u1ec7t")})]}));c("CommentsPluginStore").isDeeplinkComment()&&(b=k.jsxs("span",{children:[k.jsx("span",{className:"_52bm",children:"|"}),k.jsx(c("Link.react"),{href:c("CommentsPluginStore").getOriginalLink(),target:"_blank",children:i._(/*BTDS*/"Li\u00ean k\u1ebft ban \u0111\u1ea7u")})]}));var d=c("DeveloperCommentsPluginOrdering").__types.filter(function(a){return a!=="social"||c("CommentsPluginStore").isRankingAllowed()});return k.jsxs(c("LeftRight.react"),{style:{width:"100%",height:50},className:"_491z",children:[k.jsxs("span",{children:[k.jsx(c("XUIText.react"),{weight:"bold",children:c("CommentsPluginStore").getCommentsCount()!==1?i._(/*BTDS*/"{count} b\u00ecnh lu\u1eadn",[i._param("count",c("CommentsPluginStore").getCommentsCount())]):i._(/*BTDS*/"1 b\u00ecnh lu\u1eadn")}),a,b]}),k.jsxs("div",{children:[this.state.sorting?k.jsx(c("XUISpinner.react"),{size:"small",className:"_3-90"}):null,k.jsx("span",{className:"_pup",children:i._(/*BTDS*/"S\u1eafp x\u1ebfp theo")})," ",c("CommentsPluginStore").isMobile()?k.jsx("select",{className:"_3-8_ _33ki",initialValue:c("CommentsPluginStore").getCurrentSorting(),onChange:this.$1,children:d.map(function(a){return k.jsx("option",{value:a,children:c("DeveloperCommentsPluginOrdering").__labels[a]},a)})}):k.jsx(c("XUISingleSelector.react"),{alignh:"right",className:"_3-8_",defaultValue:c("CommentsPluginStore").getCurrentSorting(),onChange:this.$1,children:d.map(function(a){return k.jsx(c("XUISingleSelector.react").Option,{value:a,children:c("DeveloperCommentsPluginOrdering").__labels[a]},a)})})]})]})};return b}(k.Component);g["default"]=a}),226);
__d("Middot.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("span",babelHelpers["extends"]({},a,{children:[i.jsx("span",{className:"xzpqnlu x179tack x10l6tqk",children:"\xa0"}),i.jsx("span",{"aria-hidden":"true",children:" \xb7 "})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FeedbackPayloadSourceType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,INITIAL_SERVER:1,LIVE_SEND:2,USER_ACTION:3,STREAMING:4,COLLAPSE_ACTION:7,ENDPOINT_LIKE:10,ENDPOINT_COMMENT_LIKE:11,ENDPOINT_ADD_COMMENT:12,ENDPOINT_EDIT_COMMENT:13,ENDPOINT_DELETE_COMMENT:14,ENDPOINT_HIDE_COMMENT:16,ENDPOINT_REMOVE_PREVIEW:17,ENDPOINT_ID_COMMENT_FETCH:18,ENDPOINT_COMMENT_FETCH:19,ENDPOINT_TRANSLATE_COMMENT:20,ENDPOINT_BAN:21,ENDPOINT_SUBSCRIBE:22,ENDPOINT_COMMENT_LIKECOUNT_UPDATE:23,ENDPOINT_DISABLE_COMMENTS:24,ENDPOINT_ACTOR_CHANGE:25,ENDPOINT_REACTION:26,ENDPOINT_PAGES_MODERATION:27,ENDPOINT_COMMENT_REACTION:28,ENDPOINT_COMMENT_ANSWER_ACCEPT:29,ENDPOINT_COMMENT_KEEP_SPAM:30,ENDPOINT_COMMENT_APPEAL_SPAM:31,ENDPOINT_COMMENT_SECURE_ACCOUNT:32,ENDPOINT_DELETE_COMMENT_AND_REMOVE_COMMENTER:33,ENTPOINT_MUTE_MEMBER:34,ENDPOINT_SUBSCRIBE_COMMENT:35,ENDPOINT_HIDE_TEXT_DELIGHTS:36,ENDPOINT_SEND_MESSAGE:37,ENDPOINT_COMMENT_VOTE:38,ENDPOINT_AUTHOR_PINNED_COMMENT:39,ENDPOINT_DELETE_COMMENT_WTH_FEEDBACK:40});f["default"]=a}),66);
__d("FeedbackSourceType",[],(function(a,b,c,d,e,f){a=Object.freeze({PROFILE:0,NEWS_FEED:1,OBJECT:2,MOBILE:3,EMAIL:4,PROFILE_APPROVAL:10,TICKER:12,NONE:13,INTERN:14,ADS:15,EVENT_GOING_FLYOUT:16,PHOTOS_SNOWLIFT:17,PHOTOS_SNOWFLAKE:20,USER_TIMELINE:21,PAGE_TIMELINE:22,SEARCH:23,PAGE_TAB:24,TIMELINE_COLLECTION:25,ON_THIS_DAY:27,INLINE_COMMENT:28,VIDEOS_CHANNEL:29,PRODUCT_DETAILS:30,NEWSFEED_GROUP_TOP_STORIES:31,LIVE_MAP:32,REDSPACE:33,EVENT_MALL:34,LIVE_VIDEO:35,QUICKSILVER_SPOTLIGHT:36,GROUP_COMMERCE_BOOKMARK:37,WATCH_AND_SCROLL:38,LIVE_WWW_BROADCASTING:39,COMPACT_SEARCH:40,TAHOE:41,GOV_DIGEST:42,GAMEROOM_FEED:43,PAGE_VIDEO_TAB:44,VIDEO_HOME_AFTER_PARTY:45,LIVE_VIDEO_STORIES:46,GAME_HUB_FEED:47,EMBEDED_VIDEO:48,LIVING_ROOM:49,CONSTITUENT_TOP_COMMENTS:50,GAMES_VIDEO_DESTINATION:51,INSTANT_GAMES_LIST:52,INLINE_VIDEO_ENDSCREEN:53,GAMESHOW_DASH:54,PINNED_CONVERSATION:55,MARKETPLACE_MEGAMALL:56,BELL_MESSENGER_LINK:57,SAVE_DASHBOARD:58,BUSINESS_FEED:59,VIDEO_HOME_FEED:60,WORKPLACE_DISCOVERY_FEED:61,MARKETPLACE_YOU_FEED:62,PAGE_INBOX:63,PRODUCT_QUESTION:64,MEDIA_VIEWER:65,PAGE_INBOX_POST_VIEW:66,PHOTO_ALBUM:67,GAMES_VIDEO_CLIPS_HOME_IMMERSIVE_PLAYER:68,GROUPS_TARGETED_TAB:69,LIVE_PRODUCER:70,CREATOR_STUDIO_INBOX:71,CHANNEL_TAB_LIVE_CARD:72,LINEAR_CHANNEL:73,WORKPLACE_KNOWLEDGE:74,CHANNEL_TAB:75,PAGE_LIVE_TAB:76,COMMENT_REPLIES:77,NOTIFICATIONS_TAB:78,NOTIFICATIONS_PREFETCH:79,PHOTO_PERMALINK:80,EXTERNAL_URL:81,STORIES:82,AMA_POST:83,BIZ_WEB_POST_TAB_UFI:84,BIZ_WEB_POST_TAB_FEED_VIEW:85,PROFILE_PLUS_LIVE_CARD:86,STORY_PERMALINK:87,ROOMS_LIVE_VIDEO:88,LIVE_EVENT:89,WORKPLACE_HELPDESK:90,CONTINUOUS_CLOSE:91,WORKPLACE_GARDEN:92,DISCOVERY_HUB:93,GROUP_CONTEXTUAL_PROFILE:94,ACTIVITY_AND_FEEDBACK_TEST:95,WORKSTREAM_STEP_FEED:96,WORKPLACE_KNOWLEDGE_NOTES:97,WORKPLACE_QA:98,LOCPLAT_FBCAT:99,WORKPLACE_PLUGIN:100,WORKPLACE_ADMIN_REPORTED_CONTENT:101,LIVE_ENGAGE_PANEL:102,BULLETIN:103,FB_NOTES:104,SHOP_AND_DISCOVER_SURFACE:105,BIZWEB_RECENT_POSTS_FEED_CARD:106,BUSINESS_COMMENT_INBOX_TAB:107,WORKPLACE_MS_TEAMS:108,CREATOR_STUDIO_INSPIRATION_CHANNEL:109,DEDICATED_COMMENTING_SURFACE:110,REELS_VIEWER:111,GROUP_FEED:112,WORKPLACE_FILE_VIEWER:113,GAME_INTERACTIVES:114,MISINFORMATION_FACT_CHECKER_APP:115,DISCUSSION_POST_DIALOG:116,WORKPLACE_KEY_UPDATES_FEED:117,BIZWEB_BUSINESS_FEED:118,BIZ_TAGGED_CONTENT_TAB:119,BIZAPP_INTERACTIONS_TAB:120,BIZ_INTERACTIONS_COMMENTS_TAB:121,BIZWEB_HOME_TODO_COMMENTS:122,TAHOE_LIVE_REACTIONS_BAR:123,WORKPLACE_APPROVALS:124,MISINFORMATION_FANOUT:125,WORKPLACE_APPROVALS_RFI:126,STORIES_VIEWER:127,VIDEO_FULLSCREEN_PLAYER:128,GROUP_MALL:129,REELS_POST_LOOP:130,FB_ARTICLE:131,MISINFORMATION_HELPFUL_COMMENTS_APP:132,WORKPLACE_TRENDING_TOPICS_FEED:133,WORKPLACE_PLUGIN_GROUP_FEED:134,WORKPLACE_PLUGIN_NEWS_FEED:135,WORKPLACE_PLUGIN_COLLECTION:136,TOWNSQUARE:137,MESSAGING:138,INTERNAL_HELPDESK:139,WORKPLACE_LIVE_STUDIO:140,APPROVALS_SYNC_COMMENT_FROM_INTERN:141,BIZ_INSIGHT:142,WORKPLACE_LONG_READ_POST:143,FB4A_COMMENT_FLYOUT:144,BIZ_WEB_FIRST_COMMENT:145,WORKPLACE_REPOST:146});f["default"]=a}),66);
__d("UFI2FeedbackActionType",[],(function(a,b,c,d,e,f){a=Object.freeze({CHANGE_ACCEPTED_ANSWER:"fa-type:change-accepted-answer",COMMENT_LIKE:"fa-type:comment-like",COMMENT_REACTION:"fa-type:comment-reaction",COMMENT_SET_SPAM:"fa-type:mark-spam",COMMENT_KEEP_SPAM:"fa-type:keep_spam",COMMENT_VOTE:"fa-type:comment_vote",DELETE_COMMENT:"fa-type:delete-comment",DELETE_COMMENT_REMOVE_COMMENTER:"fa-type:delete_comment_remove_commenter",DISABLE_COMMENTS:"fa-type:disable-comments",LIVE_DELETE_COMMENT:"fa-type:live-delete-comment",LIKE_ACTION:"fa-type:like",SUBSCRIBE_ACTION:"fa-type:subscribe",SHARE_COUNT_UPDATE_ACTION:"fa-type:share_count_update",REMOVE_PREVIEW:"fa-type:remove-preview",MARK_COMMENT_SPAM:"fa-type:mark-spam",MUTE_MEMBER:"fa-type:mute-member",CONFIRM_COMMENT_REMOVAL:"fa-type:confirm-remove",TRANSLATE_COMMENT:"fa-type:translate-comment",TRANSLATE_ALL:"fa-type:translate-all-comments",COMMENT_LIKECOUNT_UPDATE:"fa-type:comment-likecount-update",ADD_COMMENT_ACTION:"fa-type:add-comment",REACTION:"fa-type:reaction",UPDATE_CONSTITUENT_BADGE:"fa-type:comment_update_constituent_title",COMMENT_AUTHOR_PIN_CHANGE:"fa-type:comment_author_pin_change"});f["default"]=a}),66);
__d("UFI2FeedbackMode",[],(function(a,b,c,d,e,f){a=Object.freeze({EXPANDED:"expanded",NONE:"none",NEVER:"never",TOGGLE:"toggle"});f["default"]=a}),66);
__d("UFIPaging",[],(function(a,b,c,d,e,f){a=Object.freeze({TOP:"top",BOTTOM:"bottom",ALL:"all"});f["default"]=a}),66);
__d("UFIStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({DELETED:"status:deleted",SPAM:"status:spam",SPAM_DISPLAY:"status:spam-display",LIVE_DELETED:"status:live-deleted",FAILED_ADD:"status:failed-add",FAILED_EDIT:"status:failed-edit",PENDING_EDIT:"status:pending-edit"});f["default"]=a}),66);
__d("UFIConstants",["CommentVoteReactionType","CommentVoteUIVersion","FeedbackPayloadSourceType","FeedbackSourceType","UFI2FeedbackActionType","UFI2FeedbackMode","UFIPaging","UFIStatus"],(function(a,b,c,d,e,f){"use strict";a=80;c=420;d=3;e=.6;var g=60,h=1e3,i=60,j=1,k="unavailable_comment_key";f.attachmentTruncationLength=a;f.UFIActionType=b("UFI2FeedbackActionType");f.UFICommentVoteType=b("CommentVoteReactionType");f.UFICommentVoteUIVersion=b("CommentVoteUIVersion");f.UFIFeedbackMode=b("UFI2FeedbackMode");f.UFIFeedbackSourceType=b("FeedbackSourceType");f.UFIPayloadSourceType=b("FeedbackPayloadSourceType");f.UFIStatus=b("UFIStatus");f.UFIPaging=b("UFIPaging");f.commentTruncationLength=c;f.commentTruncationMaxLines=d;f.commentTruncationPercent=e;f.commentURLTruncationLength=g;f.infiniteScrollRangeForQANDAPermalinks=h;f.maxScrollDistanceForAutoScroll=i;f.minCommentsForOrderingModeSelector=j;f.unavailableCommentKey=k}),66);
__d("UFICommentMetadata.react",["cx","fbt","ix","BootloadedComponent.react","Image.react","JSResource","Middot.react","Timestamp.react","TrackingNodes","UFIConstants","XUISpinner.react","react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k,l=k||d("react");a="ufi_comment_timestamp";var m="UFIFailureMessageIcon",n="UFIFailureMessage",o="uiLinkSubtle",p=function(a){a=a.status;return a===d("UFIConstants").UFIStatus.FAILED_ADD||a===d("UFIConstants").UFIStatus.FAILED_EDIT};b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.editLinkRef=null,b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.render=function(){var a=this.props,b=a.comment,d=a.onRetrySubmit;a=a.isAuthorPinnedComment;var e,f,g=b.timestamp;if(p(b))e=[l.jsxs("span",{className:n,children:[l.jsx("i",{className:m}),i._(/*BTDS*/"Kh\u00f4ng th\u1ec3 \u0111\u0103ng b\u00ecnh lu\u1eadn.")]},"failure"),b.allowRetry&&d?[" ",l.jsx("a",{onClick:d,href:"#",role:"button",children:i._(/*BTDS*/"Th\u1eed l\u1ea1i")},"rety-submit")]:null];else if(a){d=l.jsxs("span",{children:[l.jsx(c("Image.react"),{className:"UFIAuthorPinnedCommentIcon",src:j("606470")}),i._(/*BTDS*/"\u0110\u00e3 ghim")]});f=d;this.props.showPermalink&&(f=this.$1(d))}else if(g){a=l.jsx(c("Timestamp.react"),{className:"UFISutroCommentTimestamp",minimize:!0,shorten:this.props.shortenTimestamp,time:g.time,text:g.text,useLargerTimeUnits:!0,verbose:g.verbose});f=a;this.props.showPermalink&&(f=this.$1(a))}d=null;b.attachment_status&&!p(b)&&(d=l.jsxs("span",{children:[l.jsx(c("Middot.react"),{},"middot-creator"),l.jsx("span",{className:"UFISutroCommentTimestamp",children:b.attachment_status})]}));g=null;a=b.creator_data;a&&(g=[l.jsx(c("BootloadedComponent.react"),{bootloadPlaceholder:l.jsx(c("XUISpinner.react"),{size:"small"}),bootloadLoader:c("JSResource")("UFICreatorInfo.react").__setRef("UFICommentMetadata.react"),creatorID:a.creatorID,creatorType:a.creatorType,creatorName:a.creatorName,labelType:a.labelType,pageID:a.pageID,profileURI:a.profileURI},"creator"),l.jsx(c("Middot.react"),{},"middot-creator")]);b=null;this.props.showEditNux&&(b=l.jsx(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("UFIEditCommentNux.react").__setRef("UFICommentMetadata.react"),bootloadPlaceholder:l.jsx(c("XUISpinner.react"),{size:"small"}),context:this.editLinkRef,helpUri:this.props.helpUri,onCloseButtonClick:this.props.onEditNuxCloseClick,shown:this.props.showEditNux}));return l.jsxs("span",{children:[g,f,e,b,d]})};d.$1=function(a){var b=c("TrackingNodes").getTrackingInfo(c("TrackingNodes").types.SOURCE),d=this.props.permalink?this.props.permalink:null;return l.jsx("a",{className:o,href:d,"data-ft":b,"data-testid":void 0,target:this.props.permalinkTarget,children:a},"timestamp-message")};return b}(l.Component);g["default"]=b}),226);
__d("CommentsPluginCommentActions.react",["cx","fbt","ActionList.react","CommentsPluginAction","CommentsPluginActions","CommentsPluginStore","Image.react","Link.react","MixinCommentsPluginConfirmAction","ReactionIconFilepaths","UFICommentMetadata.react","classWithMixins","mixin","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.$CommentsPluginCommentActions$p_1=function(){c("CommentsPluginActions").like(d.props.commentID)},d.$CommentsPluginCommentActions$p_2=function(){c("CommentsPluginActions").showReplyComposer(d.props.commentID)},d.$CommentsPluginCommentActions$p_3=function(){c("CommentsPluginActions").flag(d.props.commentID)},b)||babelHelpers.assertThisInitialized(d)}var e=b.prototype;e.componentDidMount=function(){var a=this;c("CommentsPluginStore").addListener("actorChange",function(){a.forceUpdate()});c("CommentsPluginStore").addListener("likeStateChange",function(){a.forceUpdate()})};e.$CommentsPluginCommentActions$p_4=function(a){var b=c("CommentsPluginStore").getUser().id;return!c("CommentsPluginStore").canActorLike(a,b)&&c("CommentsPluginStore").isLoggedIn()?null:k.jsx(c("Link.react"),{onClick:this.$CommentsPluginCommentActions$p_1,children:c("CommentsPluginStore").hasActorLiked(a,b)?i._(/*BTDS*/"B\u1ecf th\u00edch"):i._(/*BTDS*/"Th\u00edch")})};e.$CommentsPluginCommentActions$p_5=function(){return c("CommentsPluginStore").isThreadClosed()||c("CommentsPluginStore").shouldSwitchAccount()?null:k.jsx(c("Link.react"),{onClick:this.$CommentsPluginCommentActions$p_2,children:i._(/*BTDS*/"Ph\u1ea3n h\u1ed3i")})};e.render=function(){var a=c("CommentsPluginStore").getByID(this.props.commentID),b={};return k.jsxs(c("ActionList.react"),{className:"_2vq9",children:[this.$CommentsPluginCommentActions$p_4(a),this.$CommentsPluginCommentActions$p_5(),c("CommentsPluginStore").isMobile()?a.canEdit?k.jsx(c("Link.react"),{onClick:this.confirmAction.bind(this,d("CommentsPluginAction").DELETE,this.props.commentID),children:i._(/*BTDS*/"X\u00f3a")}):k.jsx(c("Link.react"),{onClick:this.$CommentsPluginCommentActions$p_3,children:i._(/*BTDS*/"\u0110\u00e1nh d\u1ea5u l\u00e0 spam")}):null,a.likeCount?k.jsxs("span",{children:[k.jsx(c("Image.react"),{src:c("ReactionIconFilepaths").pathsIX.size14.like,className:"_3-8_ _4iy4"}),a.likeCount]}):null,k.jsx(c("UFICommentMetadata.react"),{comment:a,permalink:c("CommentsPluginStore").getPermalink(this.props.commentID),shortenTimestamp:!0,showPermalink:!c("CommentsPluginStore").isReply(this.props.commentID),permalinkTarget:"_blank",contextArgs:b}),c("CommentsPluginStore").isMobile()?this.renderActionConfirmationDialog():null]})};return b}(c("classWithMixins")(k.Component,c("mixin")(d("MixinCommentsPluginConfirmAction"))));g["default"]=a}),226);
__d("CommentsPluginComposerEdit.react",["cx","fbt","CommentsPluginActions","CommentsPluginComposer.react","CommentsPluginStore","XUIButton.react","react","stringRefShim"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d){var e;e=a.call(this,b,d)||this;e.$3=function(){e.setState({waitingAsyncResponse:!0}),c("CommentsPluginActions").saveEdit(e.props.commentID)};e.$4=function(){e.refs.composer.resetAttachment(),c("CommentsPluginActions").cancelEdit(e.props.commentID)};e.state={waitingAsyncResponse:!1,unableToPost:!1};e.$1=null;return e}var d=b.prototype;d.componentDidMount=function(){var a=this;this.$1=c("CommentsPluginStore").addListener("composerChange",function(){var b=c("CommentsPluginStore").getEditComposerContent(a.props.commentID).visibleValue;a.setState({unableToPost:b.trim().length>c("CommentsPluginStore").getMaxCommentLength()});a.forceUpdate()});this.$2=c("CommentsPluginStore").addListener("actorChange",function(){a.refs.composer.resetAttachment(),a.forceUpdate()})};d.componentWillUnmount=function(){this.$1&&this.$1.remove(),this.$2&&this.$2.remove()};d.$5=function(){return this.state.waitingAsyncResponse||this.state.unableToPost||c("CommentsPluginStore").isEmptyEditComposer(this.props.commentID)};d.render=function(){var a=c("CommentsPluginStore").getByID(this.props.commentID);return k.jsxs(c("CommentsPluginComposer.react"),{alwaysExpanded:!0,ref:c("stringRefShim")(this,"composer"),prefillText:a.prefillText,readOnly:this.state.waitingAsyncResponse,allowPhotoAttachments:c("CommentsPluginStore").getEnablePhoto(),allowStickerAttachments:c("CommentsPluginStore").getEnableSticker(),editCommentID:this.props.commentID,unableToPost:this.state.unableToPost,children:[k.jsxs("div",{className:"_5tr6 clearfix _2ph_",children:[k.jsx(c("XUIButton.react"),{disabled:this.$5(),label:i._(/*BTDS*/"L\u01b0u"),use:"confirm",className:"rfloat _3-99",onClick:this.$3}),k.jsx(c("XUIButton.react"),{disabled:this.state.waitingAsyncResponse,label:i._(/*BTDS*/"H\u1ee7y"),use:"default",className:"rfloat _3-99",onClick:this.$4})]}),this.props.children]})};return b}(k.Component);g["default"]=a}),226);
__d("CommentsPluginComposerReply.react",["cx","fbt","CommentsPluginActions","CommentsPluginAuthorSelector.react","CommentsPluginComposer.react","CommentsPluginStore","ReactDOM_DEPRECATED","XUIButton.react","react","stringRefShim"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d){var e;e=a.call(this,b,d)||this;e.$3=function(){e.setState({waitingAsyncResponse:!0}),c("CommentsPluginActions").addReply(e.props.commentID),e.refs.composer.resetAttachment()};e.$4=function(){e.refs.composer.resetAttachment(),c("CommentsPluginActions").cancelReply(e.props.commentID)};e.state={waitingAsyncResponse:!1,unableToPost:!1};e.$1=null;return e}var e=b.prototype;e.componentDidMount=function(){var a=this;this.$1=c("CommentsPluginStore").addListener("composerChange",function(){var b=c("CommentsPluginStore").getCreateComposerContent(a.props.commentID).visibleValue;a.setState({unableToPost:b.trim().length>c("CommentsPluginStore").getMaxCommentLength()});a.forceUpdate()});this.$2=c("CommentsPluginStore").addListener("actorChange",function(){a.refs.composer.resetAttachment(),a.forceUpdate()});var b=d("ReactDOM_DEPRECATED").findDOMNode_DEPRECATED(this);b.scrollIntoView&&b.scrollIntoView()};e.componentWillUnmount=function(){this.$1&&this.$1.remove(),this.$2&&this.$2.remove()};e.$5=function(){return this.state.waitingAsyncResponse||this.state.unableToPost||c("CommentsPluginStore").isEmptyCreateComposer(this.props.commentID)};e.render=function(){var a=c("CommentsPluginStore").getByID(this.props.commentID);return k.jsx(c("CommentsPluginComposer.react"),{allowPhotoAttachments:c("CommentsPluginStore").getEnablePhoto(),allowStickerAttachments:c("CommentsPluginStore").getEnableSticker(),ref:c("stringRefShim")(this,"composer"),alwaysExpanded:!0,prefillText:a.prefillText,readOnly:this.state.waitingAsyncResponse,parentCommentIDOfNewReply:this.props.commentID,unableToPost:this.state.unableToPost,placeholder:i._(/*BTDS*/"Tr\u1ea3 l\u1eddi..."),children:k.jsxs("div",{className:"_5tr6 clearfix _2ph_",children:[k.jsx(c("CommentsPluginAuthorSelector.react"),{}),k.jsx(c("XUIButton.react"),{disabled:this.state.waitingAsyncResponse,label:i._(/*BTDS*/"H\u1ee7y"),use:"default",className:"_3-99",onClick:this.$4}),k.jsx(c("XUIButton.react"),{disabled:this.$5(),label:i._(/*BTDS*/"Tr\u1ea3 l\u1eddi"),use:"confirm",className:"_3-99",onClick:this.$3})]})})};return b}(k.Component);g["default"]=a}),226);
__d("CommentsPluginMenu.react",["fbt","ix","CommentsPluginAction","CommentsPluginActions","CommentsPluginConfig","CommentsPluginStore","Image.react","MixinCommentsPluginConfirmAction","PopoverMenu.react","ReactXUIMenu","Tooltip","classWithMixins","mixin","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e){var f;f=a.call(this,b,e)||this;f.$CommentsPluginMenu$p_1=function(){f.setState({opened:!0})};f.$CommentsPluginMenu$p_2=function(){f.setState({opened:!1})};f.$CommentsPluginMenu$p_4=function(a,b){a=b.item.getValue();f.requiresConfirmation(a)?f.confirmAction(a,f.props.commentID,b.event.pageY):a===d("CommentsPluginAction").SHOW||a===d("CommentsPluginAction").COLLAPSE?f.$CommentsPluginMenu$p_3():c("CommentsPluginActions")[a](f.props.commentID)};f.state={opened:!1};return f}var e=b.prototype;e.isOpen=function(){return this.state.opened};e.$CommentsPluginMenu$p_3=function(){c("CommentsPluginActions").toggleVisibility(this.props.commentID)};e.$CommentsPluginMenu$p_5=function(a,b){var e=c("CommentsPluginStore").isReply(b.id),f=c("CommentsPluginStore").getUser().id===c("CommentsPluginStore").getAuthor(b.id).id;switch(a){case d("CommentsPluginAction").DELETE:if(!b.canEdit||!f)return null;break;case d("CommentsPluginAction").EDIT:if(!b.canEdit||c("CommentsPluginStore").isThreadClosed()||!f)return null;break;case d("CommentsPluginAction").FLAG:if(b.canEdit||b.collapsed||b.flagged)return null;break;case d("CommentsPluginAction").COLLAPSE:if(e||b.collapsed||b.flagged)return null;break;case d("CommentsPluginAction").BAN:case d("CommentsPluginAction").HIDE:if(!c("CommentsPluginStore").isViewerModerator())return null;break;case d("CommentsPluginAction").REPORT:if(!b.reportURI||b.canEdit)return null;break;case d("CommentsPluginAction").EMBED:f=b.canEmbed;if(e){e=c("CommentsPluginStore").getByID(b.targetID);f=f&&e.canEmbed}if(b.flagged||!c("CommentsPluginConfig").commentEmbed||!f)return null;break;default:break}return k.jsx(c("ReactXUIMenu").Item,{value:a,children:d("CommentsPluginAction").getLabel(a)},a)};e.render=function(){var a=this,b=c("CommentsPluginStore").getByID(this.props.commentID);return k.jsxs("div",{children:[k.jsx(c("PopoverMenu.react"),{alignh:"right",onShow:this.$CommentsPluginMenu$p_1,onHide:this.$CommentsPluginMenu$p_2,menu:k.jsx(c("ReactXUIMenu"),{onItemClick:this.$CommentsPluginMenu$p_4,children:d("CommentsPluginAction").getMenuActions().map(function(c){return a.$CommentsPluginMenu$p_5(c,b)})}),children:k.jsx("a",{children:k.jsx(c("Image.react"),babelHelpers["extends"]({},c("Tooltip").propsFor(h._(/*BTDS*/"Menu")),{src:i("96566")}))})}),this.renderActionConfirmationDialog()]})};return b}(c("classWithMixins")(k.Component,c("mixin")(d("MixinCommentsPluginConfirmAction"))));g["default"]=a}),226);
__d("UFIVideoPlayerRegistry",["EventEmitter","ViewportBounds","destroyOnUnload","getOrCreateDOMID"],(function(a,b,c,d,e,f){"use strict";var g=new(b("EventEmitter"))(),h=new Map(),i=new Map(),j=new Map(),k=new Map(),l=new Set(),m=new Map();b("destroyOnUnload")(function(){g.removeAllListeners(),h.clear(),i.clear(),j.clear(),k.clear(),l.clear()});function n(a){a=a;var b=[];while(a)b.unshift(a),a=a.parentElement;return b}function o(a,b){var c=n(a);a=null;var d=null;b.forEach(function(b){var e=b[0];b=b[1];e=n(e);for(var f=0;f<c.length;++f){if(c[f]!==e[f]){(d===null||f>d)&&(d=f,a=b);break}f===c.length-1&&((d===null||f>d)&&(d=f,a=b))}});return a}function p(a,b){var c=n(a);a=null;var d=null;b.forEach(function(b){var e=b[0];b=b[1];e=n(e);for(var f=0;f<c.length;++f)if(c[f]!==e[f]){(d===null||f>d)&&(d=f,a=b);break}});return a}var q={registerVideoPlayerController:function(a){var b=a.getVideoID(),c=k.get(b);c?c.push(a):(c=[a],k.set(b,c),j["delete"](b));l.forEach(function(a){return a()});a=h.get(b);if(!a)return;a.forEach(function(a){return q._associateUFIController(a,b)})},addOnRegisterListener:function(a){l.add(a)},removeOnRegisterListener:function(a){l["delete"](a)},getAvailableVideoPlayerController:function(a){return i.get(a)},seekAvailableVideoPlayerController:function(a,b){a=q.getAvailableVideoPlayerController(a);if(!a)return;["ready","playing","paused","finished"].includes(a.getState())&&(a.pause("seek_initiated"),a.seek(b),a.play("seek_initiated"))},scrollToAvailableVideo:function(a){a=q.getAvailableVideoPlayerController(a);if(!a)return;a=b("ViewportBounds").getElementPosition(a.getRootNode());window.scroll(0,a.y)},setAvailableVideoPlayerControllerSphericalViewport:function(a,b){a=q.getAvailableVideoPlayerController(a);if(!a)return;a.emit("SphericalVideoViewportTagComment/click",b)},getAvailableVideoPlayerControllerForElement:function(a,c){if(!a)return null;var d=j.get(c)||new Map(),e=b("getOrCreateDOMID")(a);a=d.get(e)||q.findVideoPlayerControllerForElement(a,c);d.set(e,a);j.set(c,d);return a},getAvailableVideoPlayerControllerTimeForElement:function(a,b){if(!a)return null;a=q.getAvailableVideoPlayerControllerForElement(a,b);if(!a)return null;b=a.getCurrentTimePosition();return b>=0?Math.floor(b):null},getAvailableVideoPlayerControllerTime:function(a){a=q.getAvailableVideoPlayerController(a);if(!a)return null;a=a.getCurrentTimePosition();return a>=0?Math.floor(a):null},registerUFIController:function(a,b,c){var d=a.getInstanceID(),e=a.getFluentContentToken();if(!e)return;var f=h.get(e);f?f.push(a):(f=[a],h.set(e,f));g.addListener(d+"/register",b);g.addListener(d+"/unregister",c);q._associateUFIController(a,e)},getAvailableUFIController:function(a){var b=m.get(a);if(b)return b;var c=h.get(a.getVideoID());if(!c)return null;c.length===1?b=c[0]:b=p(a.getRootNode(),c.map(function(a){return[a.getRootNode(),a]}));if(b){c=q.findVideoPlayerControllerForElement(b.getRootNode(),a.getVideoID());if(c!==a)return null;m.set(a,b)}return b},findVideoPlayerControllerForElement:function(a,b){b=k.get(b);if(!b)return null;if(b.length===1)return b[0];return!a?null:o(a,b.filter(function(a){return!a.isState("destroyed")}).map(function(a){return[a.getRootNode(),a]}))},unregisterVideoPlayerControllerForElement:function(a,b){var c=k.get(b);if(!c)return;var d=q.findVideoPlayerControllerForElement(a,b);if(d==null)return;a=c.findIndex(function(a){return a.getRootNode()===d.getRootNode()});c.splice(a,1);k.set(b,c)},_associateUFIController:function(a,c){var d=a.getInstanceID();a=q.findVideoPlayerControllerForElement(a.getRootNode(),c);if(!a||a.isState("destroyed"))return;c=i.get(d);if(c){if(!c.isState("destroyed")&&b("getOrCreateDOMID")(c.getRootNode())===b("getOrCreateDOMID")(a.getRootNode()))return;g.emit(d+"/unregister")}i.set(d,a);g.emit(d+"/register",a)}};e.exports=q}),null);
__d("UFICommentUtils",["HovercardLinkInterpolator","TextDelightRange.react","UFIConstants","UFIVideoPlayerRegistry","URI","URITruncator","VideoTimestampsClicksWWWTypedLogger","react","transformTextRanges"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a,b){d("UFIConstants").commentURLTruncationLength&&(a&&a.length>0&&(b=c("transformTextRanges")(b,a,function(a,b){b=b.entity&&(b.entity.external||b.entity.__typename==="ExternalUrl");return b?c("URITruncator")(a,d("UFIConstants").commentURLTruncationLength):a})));return b}function b(a,b,e,f,g){return function(h,i){if(i.videoTimestamp){if(f)return j.jsx("span",{children:i.entity});var k=function(a){a.preventDefault();new(c("VideoTimestampsClicksWWWTypedLogger"))().setVideoTimestamp(i.integerTimestamp).setCommentID(e).setIsContentTimestamp(!1).log();b&&(d("UFIVideoPlayerRegistry").seekAvailableVideoPlayerController(b,i.integerTimestamp),d("UFIVideoPlayerRegistry").scrollToAvailableVideo(b));return!1};return j.jsx("a",{className:"TimestampLink",onClick:k,href:"#",children:i.entity})}else if(i.sphericalViewport){k=function(a){a.preventDefault();b&&d("UFIVideoPlayerRegistry").setAvailableVideoPlayerControllerSphericalViewport(b,{yaw:i.yaw,pitch:i.pitch});return!1};return j.jsx("a",{onClick:k,href:"#",children:i.entity})}else if(i.sphericalViewportAndTimestamp){k=function(a){a.preventDefault();b&&(d("UFIVideoPlayerRegistry").setAvailableVideoPlayerControllerSphericalViewport(b,{yaw:i.yaw,pitch:i.pitch}),d("UFIVideoPlayerRegistry").seekAvailableVideoPlayerController(b,i.integerTimestamp));return!1};return j.jsx("a",{onClick:k,href:"#",children:i.entity})}else if(i.campaign)return j.jsx(c("TextDelightRange.react"),{campaignID:i.campaign.id,commentPrivacy:g||void 0,delightStyles:i.campaign.delight_styles,surface:"comment",children:h});else return c("HovercardLinkInterpolator")(h,i,"_blank",a,"ufi")}}function e(a){if(!a)return a;var b=[];a.forEach(function(a){b.push(babelHelpers["extends"]({},a))});return b}function f(a,b){return!a?b:new(h||(h=c("URI")))(b).addQueryData("rc","p").toString()}function k(a,b,c,d){if(!a)return!1;var e=0,f,g;for(var h=0;h<a.length;h++){f=a[h];f.istranslatable&&!f.translationdata&&!d[f.id]&&e++;if(e>1)return!0;if(c[f.id]){g=b?b[f.id]:[];for(var i=0;i<g.length;i++){f=g[i];f.istranslatable&&!f.translationdata&&!d[f.id]&&e++;if(e>1)return!0}}}return!1}g.getCommentTextWithTruncatedURIs=a;g.getCommentBodyInterpolator=b;g.shallowCopyRanges=e;g.annotateProfileURIIfPublic=f;g.shouldShowTranslateAll=k}),98);
__d("CommentsPluginUFIActor.react",["cx","fbt","Badge.react","Focus","HovercardLink","Locale","ReactDOM_DEPRECATED","UFICommentUtils","react","stringRefShim"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.componentDidMount=function(){this.props.focusOnMount&&d("Focus").setWithoutOutline(d("ReactDOM_DEPRECATED").findDOMNode_DEPRECATED(this.refs.authorName))};e.render=function(){var a=this,b=this.props.author,e=d("Locale").isRTL()?"rtl":"ltr",f=(this.props.isAuthorWeakReference?"weakReference":"")+" UFICommentActorName",g=[];this.props.isAuthorWeakReference&&g.push(k.jsx("i",{className:"UFIWeakReferenceIcon"},"icon"));this.props.author.badgeSrc&&this.props.author.badgeSrc.length>0&&g.push(k.jsxs("span",{children:[k.jsx(c("Badge.react"),{size:"medium",type:"subscription"},"badge")," "]}));b.persona?g.push(i._(/*BTDS*/"{author} ({persona})",[i._param("author",b.firstName),i._param("persona",b.persona)])):this.props.useFirstName?g.push(b.firstName):this.props.author.isBusinessPersona&&this.props.author.assetRole?g.push(b.name+" "+i._(/*BTDS*/"(")+this.props.author.assetRole+i._(/*BTDS*/")")):g.push(b.name);this.props.isAuthorNonCoworker?g.push(k.jsx(c("Badge.react"),{type:"work_non_coworker"},"noncoworker")):this.props.isAuthorBot&&g.push(k.jsx(c("Badge.react"),{type:"bot"},"bot"));var h=this.props.isAdminViewer?"ufi_admin":"ufi",j=babelHelpers["extends"]({},this.props);delete j.author;delete j.delimiter;delete j.dialogUrl;delete j.disableAuthorLink;delete j.focusOnMount;delete j.groupOrEventID;delete j.hovercardLocation;delete j.isAdminViewer;delete j.isAuthorBot;delete j.isAuthorNonCoworker;delete j.isAuthorWeakReference;delete j.isPublic;delete j.showHovercard;delete j.useFirstName;h=this.props.showHovercard?d("HovercardLink").constructEndpointWithGroupLocationAndExtraParams(b,this.props.groupOrEventID,this.props.hovercardLocation?this.props.hovercardLocation:h,this.props.isAuthorWeakReference,{is_public:this.props.isPublic}).toString():null;var l=b.uri&&!this.props.disableAuthorLink;b=l?d("UFICommentUtils").annotateProfileURIIfPublic(!!this.props.isPublic,b.uri):null;l=l?k.jsx("a",babelHelpers["extends"]({},j,{className:f,"data-ft":this.props["data-ft"],"data-hovercard":h,dir:e,href:b,ref:c("stringRefShim")(this,"authorName"),children:g})):k.jsx("span",{className:f,dir:e,ref:c("stringRefShim")(this,"authorName"),children:g});this.props.dialogUrl&&(l=k.jsx("a",babelHelpers["extends"]({},j,{ajaxify:this.props.dialogUrl,className:f,"data-ft":this.props["data-ft"],"data-hovercard":h,dir:e,href:b,ref:c("stringRefShim")(this,"authorName"),rel:"dialog",children:g})));return k.jsxs("span",{children:[l,k.Children.map(this.props.children,function(b){return b?[b.key==="badge"||b.key==="constituentTitle"||b.key==="friendsOnlyBadge"?"":a.props.delimiter,b]:null})]})};return b}(k.Component);a.defaultProps={delimiter:" \xb7 ",isAdminViewer:!1,isPublic:!1};g["default"]=a}),226);
__d("SeeMore.react",["cx","fbt","joinClasses","react"],(function(a,b,c,d,e,f,g,h,i){var j,k=j||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isCollapsed:!0},c.handleClick=function(a){c.props.clickCallback!==null&&c.props.clickCallback(a),c.setState({isCollapsed:!1},function(){return c.props.expandCallback&&c.props.expandCallback()})},b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.render=function(){var a=this.state.isCollapsed,b=this.props.exposeTextInHtml,d=null;if(a){var e=null;this.props.allowSeeMoreLinebreak&&(e=k.jsx("span",{className:"_1ipe",role:"hidden",children:" "}));d=k.jsxs("span",{className:"_5uzb",children:[i._(/*BTDS*/"\u2026"),e]})}e=this.props.children[0];var f=null;a?b&&(f=k.jsx("span",{className:"_1x3s",children:this.props.children[1]})):f=k.jsx("span",{children:this.props.children[1]});b=a?k.jsx("a",{className:"_5v47 fss",onClick:this.handleClick,href:"#",role:"button",children:i._(/*BTDS*/"Xem th\u00eam")}):null;return k.jsxs("span",{className:c("joinClasses")(this.props.className,"_1n4g"),children:[e,d,b,f]})};return b}(k.Component);a.defaultProps={clickCallback:null,expandCallback:null,exposeTextInHtml:!1,allowSeeMoreLinebreak:!1};g["default"]=a}),226);
__d("TruncatedTextWithEntities.react",["fbt","SeeMore.react","TextWithEntities.react","findSplitPointForText","partitionTextAndRanges","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||d("react"),k=30;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){if(!c.props.allowSeeMoreLinebreakOnLongWords||!a)return!1;if(a.length<=k)return!1;var b=/(^|\s)(\S+)$/;b=b.exec(a);a=b?b[2]:null;return!!(a&&a.length>k)},b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.render=function(){var a=this.props.text||"",b=this.props.ranges||[],d=this.props.textDelightRanges||[];a=a.replace(/\s*$/,"");var e=this.props.maxLines,f=this.props.maxLength;if(f&&a.length>f){var g=this.props.truncationPercent||.6;f=Math.floor(g*f)}g=null;this.props.shouldExpand||(g=c("findSplitPointForText")(a,f,e));if(g!=null){while(a[g-1]==="\n")g--;f=c("partitionTextAndRanges")(a,b,d,g);e=j.jsx(c("TextWithEntities.react"),{aggregatedRanges:this.props.aggregatedRanges,interpolator:this.props.interpolator,ranges:f.before.ranges,textDelightRanges:f.before.delightRanges,renderEmoji:this.props.renderEmoji,renderEmoticons:this.props.renderEmoticons,text:f.before.text});if(!this.props.showSeeMore)return j.jsxs("span",{className:this.props.className,"data-ft":this.props["data-ft"],dir:this.props.dir,lang:this.props.lang,children:[e,j.jsx("span",{children:h._(/*BTDS*/"\u2026")})]});d=this.$1(f.before.text);return j.jsx("span",{"data-ft":this.props["data-ft"],dir:this.props.dir,lang:this.props.lang,children:j.jsxs(c("SeeMore.react"),{allowSeeMoreLinebreak:d,className:this.props.className,clickCallback:this.props.markViewerHasInteracted,children:[e,j.jsx(c("TextWithEntities.react"),{aggregatedRanges:this.props.aggregatedRanges,interpolator:this.props.interpolator,ranges:f.after.ranges,textDelightRanges:f.after.delightRanges,renderEmoji:this.props.renderEmoji,renderEmoticons:this.props.renderEmoticons,text:f.after.text})]})})}else return j.jsx("span",{"data-ft":this.props["data-ft"],dir:this.props.dir,lang:this.props.lang,children:j.jsx(c("TextWithEntities.react"),{aggregatedRanges:this.props.aggregatedRanges,className:this.props.className,imageRanges:this.props.imageRanges,interpolator:this.props.interpolator,ranges:b,showEmojisStandalone:this.props.showEmojisStandalone,textDelightRanges:this.props.textDelightRanges,renderEmoji:this.props.renderEmoji,renderEmoticons:this.props.renderEmoticons,text:a})})};return b}(j.Component);a.defaultProps={showSeeMore:!0};g["default"]=a}),226);
__d("GamesVideoFanSupportAttachmentHandler",["cx","ifRequired"],(function(a,b,c,d,e,f,g,h){"use strict";var i="tip_attachment_support_link",j=new Set();function a(a){if(!a)return;var b=a.querySelector('[name="'+i+'"]');b&&!j.has(b)&&(b.addEventListener("mouseover",function(){return k(b)}),b.addEventListener("click",function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return l.apply(void 0,[b].concat(c))}),j.add(b))}function k(a){var b="_1k48";m()?a.classList.remove(b):a.classList.add(b)}function l(a,b){if(m()){a=n();a&&a.toggleSupportOverlay();b.stopPropagation()}}function m(){var a=n();return a&&a.isSupportOverlayRegistered()}function n(){var a=void 0;c("ifRequired")("Tahoe",function(b){c("ifRequired")("TahoeVideoView",function(c){var d=b.get();if(d){d=d.getView();d instanceof c&&(a=d)}})});return a}g._registeredLinks=j;g.registerFanSupportAttachment=a;g._onLinkMouseover=k;g._onLinkClick=l;g._isSupportOverlayRegistered=m;g._getTahoeView=n}),98);
__d("UFIAddCommentActionType",[],(function(a,b,c,d,e,f){a=Object.freeze({CANCEL:"add_comment_cancel",CHANGE_CONTENT:"add_comment_change_content",RETRY_SUBMIT:"add_comment_retry_submit",SUBMIT_EDIT:"add_comment_submit_edit",SUBMIT_NEW:"add_comment_submit_new",PIVOT_SEND_MESSAGE:"pivot_send_message"});f["default"]=a}),66);
__d("UFICommentActionType",[],(function(a,b,c,d,e,f){a=Object.freeze({CHANGE_REACTION:"comment_change_reaction",CHANGE_REACTION_FAILURE:"comment_change_reaction_failure",CHANGE_REACTION_SUCCESS:"comment_change_reaction_success",CHANGE_VISIBILITY:"comment_change_visibility",CHANGE_VOTE:"comment_change_vote",CHANGE_VOTE_FAILURE:"comment_change_vote_failure",CHANGE_VOTE_SUCCESS:"comment_change_vote_success",EDIT:"comment_edit",EMBED:"embed",DELETE_COMMENT_AND_REMOVE_COMMENTER:"comment_delete_and_commenter_remove",DELETE_COMMENT_WITH_FEEDBACK:"comment_delete_with_feedback",MANAGE_CONSTITUENT_BADGE:"comment_manage_constituent_badge",MOUNTED:"comment_mounted",MUTE_MEMBER:"commenter_muted",REMOVE:"comment_remove",REMOVE_AND_BLOCK:"comment_remove_and_block",REMOVE_PREVIEW:"comment_remove_preview",TOGGLE_INLINE_BAN:"comment_toggle_inline_ban",TOGGLE_INLINE_STREAM_BAN:"comment_toggle_inline_stream_ban",TOGGLE_INLINE_SUSPENSION:"comment_toggle_inline_suspension",TOGGLE_LIKE:"comment_toggle_like",TOGGLE_MARK_AS_SPAM:"comment_toggle_mark_as_spam",TOGGLE_KEEP_SPAM:"comment_toggle_keep_spam",TOGGLE_APPEAL_SPAM:"comment_toggle_appeal_spam",TOGGLE_SECURE_ACCOUNT:"comment_toggle_secure_account",TOGGLE_TEXT_DELIGHTS:"comment_toggle_text_delights",TRANSLATE:"comment_translate",TRANSLATE_ARRAY:"comment_translate_array",UNMOUNTED:"comment_unmounted",UPDATE_VOTE_COUNT_AND_STATE:"comment_update_vote_count_and_state",CHANGE_PIN_BY_AUTHOR:"comment_change_author_pin"});f["default"]=a}),66);
__d("UFIInstanceActionType",[],(function(a,b,c,d,e,f){a=Object.freeze({CHANGE_VISIBILITY:"story_change_visibility",INIT:"instance_init",RECEIVED_VOD_COMMENTS:"received_vod_comments",REMOVE:"story_remove",REQUESTED_VOD_COMMENTS:"requested_vod_comments",TOGGLE_AUTO_TRANSLATE_COMMENTS:"toggle_auto_translate_comments",TOGGLE_COMMENTS:"story_toggle_comments",TOGGLE_COMMERCIAL_BREAK:"story_toggle_commercial_break",TRANSLATE_ALL:"translate_all",FOUND_VIDEO_PLAYER_CONTROLLER:"found_video_player_controller"});f["default"]=a}),66);
__d("UFIStoryActionType",[],(function(a,b,c,d,e,f){a=Object.freeze({CHANGE_ACCEPTED_ANSWER:"story_change_accepted_answer",COMMENTS_ARRIVED:"story_comments_arrived",PAGE_IN_COMMENTS:"story_page_in_comments",SHOW_REPLIES:"story_show_replies",SHOW_COMMENTS:"story_show_comments",SPAM_FETCHED:"story_spam_fetched",CHANGE_REACTION:"story_change_reaction",CHANGE_REACTION_FAILURE:"story_change_reaction_failure",CHANGE_REACTION_SUCCESS:"story_change_reaction_success",TOGGLE_REPLIES:"story_toggle_replies",FRIEND_TYPING:"story_friend_typing",SOMEONE_TYPING:"story_someone_typing",TYPING_STOPPED:"story_typing_stopped",LIVE_PIN_COMMENT:"story_live_pin_comment",LIVE_UNPIN_COMMENT:"story_live_unpin_comment",SHOW_FACECAST_REPLIES:"story_show_facecast_replies",HIDE_FACECAST_REPLIES:"story_hide_facecast_replies",ADD_FACECAST_REPLY:"story_add_facecast_reply",ADD_FACECAST_REPLIES:"story_add_facecast_replies",FACECAST_REPLIES_LOADED:"facecast_replies_loaded",SET_COMMENTS_SCROLL_DISTANCE:"set_comments_scroll_distance",HANDLE_NEW_COMMENTS:"handle_new_comments",HANDLE_NEW_FACECAST_REPLY:"handle_new_facecast_reply",SET_COMMENT_REACTIONS_MENU_SHOWN:"set_comment_reactions_menu_shown"});f["default"]=a}),66);
__d("UFIActionTypes",["UFIAddCommentActionType","UFICommentActionType","UFIInstanceActionType","UFIStoryActionType"],(function(a,b,c,d,e,f){"use strict";f.INSTANCE=b("UFIInstanceActionType"),f.STORY=b("UFIStoryActionType"),f.ADD_COMMENT=b("UFIAddCommentActionType"),f.COMMENT=b("UFICommentActionType")}),66);
__d("ReactDispatcher_DEPRECATED",["Dispatcher_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.dispatch=function(b){a.prototype.dispatch.call(this,b)};return b}(c("Dispatcher_DEPRECATED"));g["default"]=a}),98);
__d("dangerouslyBypassDispatchError",[],(function(a,b,c,d,e,f){"use strict";function a(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];setTimeout(function(){a.apply(null,c)},0)}f["default"]=a}),66);
__d("UFIDispatcherBase",["invariant","ReactDispatcher_DEPRECATED","UFICommentActionType","dangerouslyBypassDispatchError"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a,b){return Object.values(b).indexOf(a)>=0}function j(a,b,c){a[b]||h(0,2123,a.type,b,c)}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.dispatch=function(b){var d=this;j(b,"instanceID","contextArgs.instanceid");j(b,"ftentidentifier","contextArgs.ftentidentifier");i(b.type,c("UFICommentActionType"))&&j(b,"fbid","comment.fbid");try{a.prototype.dispatch.call(this,b)}catch(e){c("dangerouslyBypassDispatchError")(function(){return a.prototype.dispatch.call(d,b)})}};return b}(c("ReactDispatcher_DEPRECATED"));b=new a();g["default"]=b}),98);
__d("UFICommentVoteSyncStore",["FluxReduceStore","UFIActionTypes","UFIConstants","UFIDispatcherBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.reduce=function(a,b){var e;switch(b.type){case d("UFIActionTypes").INSTANCE.INIT:var f=b.payload,g=f.feedbacktarget?f.feedbacktarget:f.feedbacktargets&&f.feedbacktargets[0];if(!g)return a;g=f.comments.reduce(function(a,b){a[b.fbid]={voteCount:b.voteCount,voteState:b.voteState};return a},{});return babelHelpers["extends"]({},a,g);case d("UFIActionTypes").COMMENT.UPDATE_VOTE_COUNT_AND_STATE:return babelHelpers["extends"]({},a,(f={},f[b.fbid]={voteCount:b.voteCount?b.voteCount:0,voteState:b.voteState?b.voteState:d("UFIConstants").UFICommentVoteType.NONE},f));case d("UFIActionTypes").COMMENT.CHANGE_VOTE:g=c.getOptimisticVoteState(c.getVoteState(b.fbid),b.arrowType);f=c.getOptimisticVoteCount(b.fbid,g);return babelHelpers["extends"]({},a,(e={},e[b.fbid]={voteCount:f,voteState:g},e));case d("UFIActionTypes").COMMENT.CHANGE_VOTE_SUCCESS:case d("UFIActionTypes").COMMENT.CHANGE_VOTE_FAILURE:return babelHelpers["extends"]({},a,(f={},f[b.fbid]={voteCount:b.voteCount,voteState:b.voteState},f));default:return a}},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.getInitialState=function(){return{}};c.getVoteCount=function(a){return!this.getState()[a]?0:this.getState()[a].voteCount};c.getVoteState=function(a){return!this.getState()[a]?d("UFIConstants").UFICommentVoteType.NONE:this.getState()[a].voteState};c.$UFICommentVoteSyncStore$p_1=function(a){switch(a){case d("UFIConstants").UFICommentVoteType.UPVOTE:return 1;case d("UFIConstants").UFICommentVoteType.DOWNVOTE:return-1;case d("UFIConstants").UFICommentVoteType.NONE:default:return 0}};c.$UFICommentVoteSyncStore$p_2=function(a,b){return this.$UFICommentVoteSyncStore$p_1(b)-this.$UFICommentVoteSyncStore$p_1(a)};c.getOptimisticVoteCount=function(a,b){var c=this.getVoteCount(a);a=this.$UFICommentVoteSyncStore$p_2(this.getVoteState(a),b);return c+a};c.getOptimisticVoteState=function(a,b){return a===b?d("UFIConstants").UFICommentVoteType.NONE:b};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("UFIDispatcherBase"));g["default"]=b}),98);
__d("UFIKeyValueStore",["FluxReduceStore","abstractMethod"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.getInitialState=function(){return{}};d.getValueFor=function(a){return this.getState()[a]||null};d.getStateKey=function(a){return a.instanceID};d.getStateValue=function(a){return c("abstractMethod")("UFIKeyValueStore","getStateValue")};d.reduce=function(a,b){var c=this.getStateKey(b);b=this.getStateValue(b);if(b!==null){var d;return babelHelpers["extends"]({},a,(d={},d[c]=b,d))}return a};return b}(c("FluxReduceStore"));a.__moduleID=f.id;g["default"]=a}),98);
__d("UFICommercialBreakStore",["UFIDispatcherBase","UFIKeyValueStore"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getValueFor=function(b){return!!a.prototype.getValueFor.call(this,b)};c.getStateValue=function(a){switch(a.type){case"story_toggle_commercial_break":return a.inCommercial}return null};return b}(c("UFIKeyValueStore"));b=new a(c("UFIDispatcherBase"));g["default"]=b}),98);
__d("UFIComposerIsTypingStore",["UFIDispatcherBase","UFIKeyValueStore"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getStateKey=function(a){return a.ftentidentifier};c.getStateValue=function(a){switch(a.type){case"add_comment_submit_edit":return!1;case"add_comment_submit_new":return!1;case"add_comment_change_content":a=a.text.trim().length;return a>0}return null};return b}(c("UFIKeyValueStore"));b=new a(c("UFIDispatcherBase"));g["default"]=b}),98);
__d("UFIFeedbackStore",["FluxReduceStore","UFIDispatcherBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.reduce=function(a,b){var c;switch(b.type){case"instance_init":var d=b.payload;d=d.feedbacktarget?d.feedbacktarget:d.feedbacktargets&&d.feedbacktargets[0];return!d?a:babelHelpers["extends"]({},a,(c={},c[b.ftentidentifier]=babelHelpers["extends"]({orderingmodes:[],defaultcommentorderingmode:""},d),c))}return a},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.getInitialState=function(){return{}};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("UFIDispatcherBase"));g["default"]=b}),98);
__d("UFIInteractionStore",["UFIDispatcherBase","UFIKeyValueStore"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getValueFor=function(b){return!!a.prototype.getValueFor.call(this,b)};c.getStateValue=function(a){switch(a.type){case"add_comment_change_content":case"add_comment_submit_edit":case"add_comment_submit_new":case"comment_change_reaction":case"comment_edit":case"comment_remove":case"comment_toggle_like":case"comment_toggle_mark_as_spam":case"comment_translate":case"story_toggle_comments":case"story_page_in_comments":case"story_show_replies":case"story_toggle_replies":return!0}return null};return b}(c("UFIKeyValueStore"));b=new a(c("UFIDispatcherBase"));g["default"]=b}),98);
__d("UFILiveTypingStore",["FluxReduceStore","UFIDispatcherBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.reduce=function(a,c){var d=b.getNewFeedbackState(c.type);if(d!==null){var e;a=babelHelpers["extends"]({},a,(e={},e[c.ftentidentifier]=d,e))}return a},c)||babelHelpers.assertThisInitialized(d)}b.getNewFeedbackState=function(a){switch(a){case"story_friend_typing":case"story_someone_typing":return!0;case"story_typing_stopped":return!1;default:return null}};var c=b.prototype;c.getInitialState=function(){return{}};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("UFIDispatcherBase"));g["default"]=b}),98);
__d("LiveVideoViewerTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:LiveVideoViewerLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:LiveVideoViewerLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:LiveVideoViewerLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCommentID=function(a){this.$1.comment_id=a;return this};c.setCommentLocation=function(a){this.$1.comment_location=a;return this};c.setCommentReplyThreadLength=function(a){this.$1.comment_reply_thread_length=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setIsCommentBeforeUserJoined=function(a){this.$1.is_comment_before_user_joined=a;return this};c.setNumHistoricalCommentsLoaded=function(a){this.$1.num_historical_comments_loaded=a;return this};c.setReplyThreadDurationMs=function(a){this.$1.reply_thread_duration_ms=a;return this};c.setTargetID=function(a){this.$1.target_id=a;return this};c.setTotalNumHistoricalComments=function(a){this.$1.total_num_historical_comments=a;return this};return a}();c={comment_id:!0,comment_location:!0,comment_reply_thread_length:!0,event:!0,is_comment_before_user_joined:!0,num_historical_comments_loaded:!0,reply_thread_duration_ms:!0,target_id:!0,total_num_historical_comments:!0};f["default"]=a}),66);
__d("UFILiveVideoLoggingStore",["FluxReduceStore","LiveVideoViewerTypedLogger","UFIDispatcherBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.reduce=function(a,b){switch(b.type){case"story_show_facecast_replies":var d;new(c("LiveVideoViewerTypedLogger"))().setEvent("opened_reply_thread_from_comment").setCommentID(b.commentID).log();return babelHelpers["extends"]({},a,(d={},d[b.instanceID]={comment_id:b.commentID,time_opened_ms:Date.now()},d));case"story_hide_facecast_replies":if(!b.isExplicit)return a;d=a[b.instanceID];if(d==null)return a;new(c("LiveVideoViewerTypedLogger"))().setEvent("closed_reply_thread_explicitly").setCommentID(d.comment_id).setReplyThreadDurationMs(Date.now()-d.time_opened_ms).log();return babelHelpers["extends"]({},a,(b={},b[d.comment_id]=null,b));default:return a}},b)||babelHelpers.assertThisInitialized(d)}var d=b.prototype;d.getInitialState=function(){return{}};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("UFIDispatcherBase"));g["default"]=b}),98);
__d("UFIOrderingModeStore",["invariant","FluxReduceStore","UFIDispatcherBase","UFIFeedbackStore"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a,b){return a.filter(function(a){return a.selected}).map(function(a){return a.value}).pop()||b}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.reduce=function(a,b){switch(b.type){case"instance_init":if(a.has(b.instanceID))return a;c("UFIDispatcherBase").waitFor([c("UFIFeedbackStore").getDispatchToken()]);var d=c("UFIFeedbackStore").getState()[b.ftentidentifier];a=new Map(a);return a.set(b.instanceID,i(d.orderingmodes,d.defaultcommentorderingmode))}return a},b)||babelHelpers.assertThisInitialized(d)}var d=b.prototype;d.getInitialState=function(){return new Map()};d.areEqual=function(a,b){return a===b};d.isLiveStreaming=function(a){return this.getState().get(a)=="live_streaming"};d.isInverted=function(a,b){var d=!1;b=c("UFIFeedbackStore").getState()[b];if(b){b=b.orderingmodes.filter(function(a){return a.selected}).pop();b&&(d=b.isBottomUpVideoCommentSreamingEnabled)}switch(a){case"recent_activity":case"ranked_threaded":case"ranked_unfiltered":case"live_streaming":return!d}return!1};d.getOrderingMode=function(a){a=this.getState().get(a);a!==void 0||h(0,2896);return a};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("UFIDispatcherBase"));g["default"]=b}),98);
__d("UFIReactionPendingRequestsStore",["FluxReduceStore","UFIActionTypes","UFIDispatcherBase"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a+"-comment"}function i(a){return a+"-story"}function j(a,b){var c;return babelHelpers["extends"]({},a,(c={},c[b]=(a[b]||0)+1,c))}function k(a,b){var c;return babelHelpers["extends"]({},a,(c={},c[b]=(a[b]||0)-1,c))}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.reduce=function(a,b){switch(b.type){case d("UFIActionTypes").STORY.CHANGE_REACTION:return j(a,i(b.ftentidentifier));case d("UFIActionTypes").COMMENT.CHANGE_REACTION:return j(a,h(b.fbid));case d("UFIActionTypes").STORY.CHANGE_REACTION_SUCCESS:case d("UFIActionTypes").STORY.CHANGE_REACTION_FAILURE:return k(a,i(b.ftentidentifier));case d("UFIActionTypes").COMMENT.CHANGE_REACTION_FAILURE:case d("UFIActionTypes").COMMENT.CHANGE_REACTION_SUCCESS:return k(a,h(b.fbid))}return a},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.getInitialState=function(){return{}};c.getPendingRequestsForComment=function(a){return this.getState()[h(a)]||0};c.getPendingRequests=function(a){return this.getState()[i(a)]||0};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("UFIDispatcherBase"));g["default"]=b}),98);
__d("UFIReactionSyncStore",["FluxReduceStore","UFIActionTypes","UFIDispatcherBase"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a+"-comment"}function i(a){return a+"-story"}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.reduce=function(a,b){switch(b.type){case d("UFIActionTypes").INSTANCE.INIT:var c=b.payload;c=c.feedbacktarget?c.feedbacktarget:c.feedbacktargets&&c.feedbacktargets[0];if(!c)return a;var e=b.payload.comments.reduce(function(a,b){a[h(b.fbid)]=b.viewerreaction;return a},{});return babelHelpers["extends"]({},a,e,(e={},e[i(b.ftentidentifier)]=c.viewerreaction,e));case d("UFIActionTypes").STORY.CHANGE_REACTION_SUCCESS:return babelHelpers["extends"]({},a,(c={},c[i(b.ftentidentifier)]=b.reactionType,c));case d("UFIActionTypes").COMMENT.CHANGE_REACTION_SUCCESS:return babelHelpers["extends"]({},a,(e={},e[h(b.fbid)]=b.reactionType,e));default:return a}},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.getInitialState=function(){return{}};c.getLastKnownCommentReaction=function(a){return this.getState()[h(a)]};c.getLastKnownReaction=function(a){return this.getState()[i(a)]};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("UFIDispatcherBase"));g["default"]=b}),98);
__d("UFIVideoPlayerControllerStore",["FluxReduceStore","UFIDispatcherBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.reduce=function(a,b){switch(b.type){case"found_video_player_controller":var c;return babelHelpers["extends"]({},a,(c={},c[b.instanceID]={videoPlayerController:b.videoPlayerController},c));default:return a}},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.getInitialState=function(){return{}};c.getVideoPlayerController=function(a){return(a=this.getState()[a])==null?void 0:a.videoPlayerController};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("UFIDispatcherBase"));g["default"]=b}),98);
__d("UFISharedDispatcher",["UFICommentEditIDStore","UFICommentVisibilityStore","UFICommentVoteSyncStore","UFICommercialBreakStore","UFIComposerIsTypingStore","UFIDispatcherBase","UFIFeedbackStore","UFIInteractionStore","UFILivePinnedCommentStore","UFILiveTypingStore","UFILiveVideoLoggingStore","UFILocallyComposedCommentStore","UFIOrderingModeStore","UFIReactionPendingRequestsStore","UFIReactionSyncStore","UFISpamStore","UFIThreadedFacecastCommentsStore","UFIVideoPlayerControllerStore"],(function(a,b,c,d,e,f,g){"use strict";b("UFIFeedbackStore"),b("UFICommentEditIDStore"),b("UFICommentVisibilityStore"),b("UFICommentVoteSyncStore"),b("UFICommercialBreakStore"),b("UFIComposerIsTypingStore"),b("UFIFeedbackStore"),b("UFIInteractionStore"),b("UFILivePinnedCommentStore"),b("UFILiveTypingStore"),b("UFILocallyComposedCommentStore"),b("UFIOrderingModeStore"),b("UFIReactionPendingRequestsStore"),b("UFIReactionSyncStore"),b("UFISpamStore"),b("UFIThreadedFacecastCommentsStore"),b("UFILiveVideoLoggingStore"),b("UFIVideoPlayerControllerStore"),g["default"]=c("UFIDispatcherBase")}),98);
__d("UFICentralUpdatesLocalCommentAdapter",["ClientIDs","UFICentralUpdates","UFIDispatcherBase"],(function(a,b,c,d,e,f,g){"use strict";var h={},i=(f={},f[3]=a,f[12]=b,f);function j(){return c("UFICentralUpdates").subscribe("update-comments",function(a,b){if(b.comments){a=i[b.payloadsource];a&&b.comments.forEach(a)}})}function a(a){if(!d("ClientIDs").isExistingClientID(a.id))return;h[a.id]=a.ufiinstanceid;c("UFIDispatcherBase").dispatch({type:"CENTRALUPDATES_ADDED_COMMENT",instanceID:a.ufiinstanceid,ftentidentifier:a.ftentidentifier,clientID:a.id})}function b(a){if(!d("ClientIDs").isExistingClientID(a.clientid))return;var b=h[a.clientid];delete h[a.clientid];if(!b)return;c("UFIDispatcherBase").dispatch({type:"CENTRALUPDATES_SAVED_COMMENT",instanceID:b,ftentidentifier:a.ftentidentifier,clientID:a.clientid,commentID:a.id})}var k;function e(){if(!k){k=j();return k}return null}g.subscribeOnce=e}),98);
__d("UFIPagedCommentListImpl",["ClientIDs","KeyedCallbackManager","UFICentralUpdates","UFIConstants","UFIFeedbackTargets"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.actorID=null;this.basePermalink=null;this.commentPermalinks=Object.create(null);this.count=0;this.dataSource=new(c("KeyedCallbackManager"))();this.deletedComments=Object.create(null);this.deletedCount=0;this.lastRequestedLength=0;this.lastRequestedOffset=0;this.feedbackTargetID=a;d("UFIFeedbackTargets").getFeedbackTarget(this.feedbackTargetID,function(a){b.actorID=a.actorforpost,b.basePermalink=a.permalink})}var b=a.prototype;b.setClientHasAll=function(a){};b.addOrUpdateComment=function(a){if(!a)return;a.__typename==="local"?this.$1(a.id):this.$2(a.id,a.clientid,a.legacyid);c("UFICentralUpdates").didUpdateFeedback(this.feedbackTargetID)};b.$1=function(a){this.dataSource.setResource(this.count,a),this.count++};b.$2=function(a,b,c){var e=b&&d("ClientIDs").isExistingClientID(b),f=this.dataSource.getAllResources(),g={};for(var h in f){var i=f[Number(h)];g[i]=h}if(e&&b&&b in g){g[a]=g[b];i=g[b];this.dataSource.setResource(i,a)}else!g[a]&&b&&this.$1(a);c&&a in g&&(this.commentPermalinks[a]=this.buildCommentPermalink(a,c,g[a]))};b.addCommentIDs=function(a,b,e){var f={};for(var g=0;g<b;g++)f[a+g]=e[g]||d("UFIConstants").unavailableCommentKey;this.dataSource.addResourcesAndExecute(f);c("UFICentralUpdates").didUpdateFeedback(this.feedbackTargetID)};b.getComments=function(a,b,c,d){var e=this,f=new Array(b).fill().map(function(b,c){return c+a}),g=this.dataSource.getUnavailableResourcesFromRequest(f);if(g.length){var h=Math.min.apply(Math,g);g=Math.max.apply(Math,g);var i=h;g=g-h+1;(i<this.lastRequestedOffset||i+g>this.lastRequestedOffset+this.lastRequestedLength)&&(this.lastRequestedOffset=i,this.lastRequestedLength=g,this.fetchComments(i,g,c))}else this.dataSource.executeOrEnqueue(f,function(c){return d(e.commentsFromCommentIDs(c,a,b))})};b.getCommentsOrThrow=function(a){var b=this;a=[a.getLength(),a.getOffset()];var c=a[0],d=a[1],e={};new Array(c).fill().forEach(function(a,c){a=c+d;c=b.dataSource.getResource(a);if(!c)throw new Error("Tried to get nonexistent comment");e[a]=c});return this.commentsFromCommentIDs(e,d,c)};b.fetchComments=function(a,b,c){};b.commentsFromCommentIDs=function(a,b,c){return{}};b.reset=function(){var a=this.dataSource.getAllResources();this.dataSource.reset();this.count=0;this.deletedCount=0;this.deletedComments={};this.lastRequestedOffset=0;this.lastRequestedLength=0;return a};b.deleteComment=function(a){a in this.deletedComments||(this.deletedComments[a]=!0,this.deletedCount++)};b.updateCommentCount=function(a){this.count=a,this.deletedCount=0};b.getFeedbackTargetID=function(){return this.feedbackTargetID};b.getCommentCount=function(){return this.count};b.getDeletedCount=function(){return this.deletedCount};b.getDisplayedCommentCount=function(){return this.count-this.deletedCount};b.getBasePermalink=function(){return this.basePermalink};b.buildCommentPermalink=function(a,b,c){return null};b.getPermalinkForComment=function(a){return this.commentPermalinks[a]};return a}();g["default"]=a}),98);
__d("MercuryMessagingLightswitch",[],(function(a,b,c,d,e,f){"use strict";a={guard:function(a){return},shouldRun:function(){return!1}};b=a;f["default"]=b}),66);
__d("MercuryServerURIs",[],(function(a,b,c,d,e,f){"use strict";a="/ajax/mercury/thread_info.php";b="/ajax/mercury/mark_folder_as_read.php";c="/ajax/mercury/change_read_status.php";d="/ajax/mercury/mark_seen.php";e="/ajax/mercury/threadlist_info.php";var g="/ajax/mercury/mark_spam.php",h="/ajax/mercury/unmark_spam.php",i="/ajax/mercury/unread_threads.php",j="/ajax/mercury/change_pinned_status.php",k="/ajax/mercury/change_archived_status.php",l="/ajax/mercury/change_page_follow_up_status.php",m="/ajax/mercury/delete_thread.php",n="/ajax/mercury/delete_messages.php",o="/ajax/mercury/delivery_receipts.php",p="/ajax/mercury/move_thread.php",q="/ajax/mercury/change_mute_thread.php";f.THREAD_INFO=a;f.MARK_FOLDER_READ=b;f.CHANGE_READ_STATUS=c;f.MARK_SEEN=d;f.THREADLIST_INFO=e;f.MARK_SPAM=g;f.UNMARK_SPAM=h;f.UNREAD_THREADS=i;f.CHANGE_PINNED_STATUS=j;f.CHANGE_ARCHIVED_STATUS=k;f.CHANGE_PAGE_FOLLOW_UP_STATUS=l;f.DELETE_THREAD=m;f.DELETE_MESSAGES=n;f.DELIVERY_RECEIPTS=o;f.MOVE_THREAD=p;f.CHANGE_MUTE_THREAD=q}),66);
__d("MessagingTag",[],(function(a,b,c,d,e,f){e.exports={ACTION_ARCHIVED:"action:archived",INBOX:"inbox",MARKETPLACE_FOLDER:"marketplace_folder",PENDING:"pending",MONTAGE:"montage",OTHER:"other",EVENT:"event",SENT:"sent",SPAM:"spam",UPDATES:"broadcasts_inbox",BCC:"header:bcc",FILTERED_CONTENT:"filtered_content",FILTERED_CONTENT_BH:"filtered_content_bh",FILTERED_CONTENT_ACCOUNT:"filtered_content_account",FILTERED_CONTENT_QUASAR:"filtered_content_quasar",FILTERED_CONTENT_INVALID_APP:"filtered_content_invalid_app",UNAVAILABLE_ATTACHMENT:"unavailable_attachment",UNREAD:"unread",FLAGGED:"flagged",GROUPS:"groups",TRANSITIONAL_MAILBOX:"transitional_mailbox",ARCHIVED:"archived",EMAIL:"email",VOICEMAIL:"voicemail",SPAM_SPOOFING:"spam:spoofing",SPOOF_WARNING:"MTA:spoof_warning",SMS_TAG_ROOT:"SMSShortcode:",APP_ID_ROOT:"app_id:",DOMAIN_AUTH_PASS:"MTA:dmarc:pass",DOMAIN_AUTH_FAIL:"MTA:dmarc:fail",MTA_SYSTEM_MESSAGE:"MTA:system_message",EMAIL_MESSAGE:"source:email",MARKETPLACE:"marketplace",BC_PARTNERSHIP:"bc_partnership",ROOM:"room",PAGES:"pages",PAGE_BACKGROUND:"page_background",PAGE_FOLLOWUP:"page_followup",ONE_CLICK_MESSAGE:"page_one_click_message",MESSAGE_REQUEST_AGGREGATION_UNIT:"message_request_aggregation_unit",ONE_WAY_MESSAGE:"one_way_message",FIRST_MESSAGE:"first_message",ACTION_COPIED_MESSAGE:"action:copy_message",ACTION_COPIED_SELF_MESSAGE:"copy_self_message",ACTION_COPIED_ATTACHMENT:"action:copy_attachment",ACTION_COPIED_SELF_ATTACHMENT:"copy_self_attachment",STORY_REPLY:"story_reply",RICH_TEXT_COMMON_MARK:"rich_text:common_mark",IRIS_MAPPING:{FOLDER_INVALID:null,FOLDER_INBOX:"inbox",FOLDER_OTHER:"other",FOLDER_SPAM:"spam",FOLDER_PENDING:"pending",FOLDER_MONTAGE:"montage",FOLDER_HIDDEN:"hidden",FOLDER_DISABLED:"disabled",FOLDER_PAGE_BACKGROUND:"page_background",FOLDER_PAGE_DONE:"page_done",FOLDER_BLOCKED:"blocked",FOLDER_COMMUNITY:"community",FOLDER_RESTRICTED:"restricted",FOLDER_BC_PARTNERSHIP:"bc_partnership",FOLDER_E2EE_CUTOVER:"e2ee_cutover",FOLDER_INTEROP:"interop",FOLDER_E2EE_CUTOVER_ARCHIVED:"e2ee_cutover_archived",FOLDER_E2EE_CUTOVER_PENDING:"e2ee_cutover_pending",FOLDER_E2EE_CUTOVER_OTHER:"e2ee_cutover_other",FOLDER_AI_ACTIVE:"ai_active",FOLDER_SALSA_RESTRICTED:"salsa_restricted",FOLDER_MESSENGER_MARKETING_MESSAGE:"messenger_marketing_message",FOLDER_SECRET_CONVERSATIONS:"secret_conversations",FOLDER_WEBCHAT_PLUGIN:"webchat_plugin",FOLDER_NFB_OVERFLOW:"nfb_overflow"}}}),null);
__d("MessengerWebGraphQLTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MessengerWebGraphQLLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MessengerWebGraphQLLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MessengerWebGraphQLLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setErrorMessage=function(a){this.$1.error_message=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setQueryParams=function(a){this.$1.query_params=a;return this};return a}();c={error_message:!0,event:!0,query_params:!0};f["default"]=a}),66);
__d("areJSONRepresentationsEqual",[],(function(a,b,c,d,e,f){function a(a,b){return JSON.stringify(a)==JSON.stringify(b)}f["default"]=a}),66);
__d("MercuryServerDispatcher",["AsyncRequest","AsyncResponse","BanzaiLogger","Bootloader","ChatReliabilityInstrumentation","CurrentUser","FBIDCheck","LogHistory","MercuryMessagingLightswitch","MercuryServerURIs","MessagingTag","MessengerWebGraphQLTypedLogger","areJSONRepresentationsEqual","debounceAcrossTransitions","getByPath","performanceAbsoluteNow","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g,h={},i=b("LogHistory").getInstance("mercury_server_dispatcher"),j=50,k=[],l=!1,m={IMMEDIATE:"immediate",IDEMPOTENT:"idempotent",BATCH_SUCCESSIVE:"batch-successive",BATCH_SUCCESSIVE_UNIQUE:"batch-successive-unique",BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:"batch-successive-piggyback-retry",BATCH_DEFERRED_MULTI:"batch-deferred-multi",BATCH_CONDITIONAL:"batch-conditional",DEFAULT_ENDPOINT_ID:"mercuryServerDispatcherDefaultEndpointID",registerEndpoints:function(a){for(var c in a){var d=a[c],e=d.request_user_id||b("CurrentUser").getID(),f=d.endpoint_id||m.DEFAULT_ENDPOINT_ID;h[c]||(h[c]={});h[c][e]||(h[c][e]={});h[c][e][f]=new n(c,d)}},trySend:function(a,c,d,e,f){e=e||b("CurrentUser").getID(),f=f||m.DEFAULT_ENDPOINT_ID,h[a][e][f].trySend(c,d)},getRequestErrors:function(){return k}};function n(a,c){var d=c.mode||m.IMMEDIATE;switch(d){case m.IMMEDIATE:case m.IDEMPOTENT:case m.BATCH_SUCCESSIVE:case m.BATCH_SUCCESSIVE_UNIQUE:case m.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:case m.BATCH_DEFERRED_MULTI:case m.BATCH_CONDITIONAL:break;default:throw new Error("Invalid MercuryServerDispatcher mode "+d)}this._endpoint=a;this._mode=d;this._customHeader=c.customHeader;this._requestUserID=c.request_user_id;this._combineData=c.batch_function;this._combineDataIf=c.batch_if;this._batches=[];this._handler=c.handler;this._errorHandler=c.error_handler;this._transportErrorHandler=c.transport_error_handler||c.error_handler;this._connectionRetries=c.connection_retries||0;this._timeoutHandler=c.timeout_handler;this._timeout=c.timeout;this._serverDialogCancelHandler=c.server_dialog_cancel_handler||c.error_handler;this._deferredSend=b("debounceAcrossTransitions")(this._batchSend,0,this)}Object.assign(n.prototype,{_inFlight:0,_handler:null,_errorHandler:null,_transportErrorHandler:null,_timeoutHandler:null,_timeout:null,_serverDialogCancelHandler:null,_combineData:null,trySend:function(a,b){if(l)return;a===void 0&&(a=null);b=b||this._mode;if(b==m.IMMEDIATE)this._send(a);else if(b==m.IDEMPOTENT)this._inFlight||this._send(a);else if(b==m.BATCH_SUCCESSIVE||b==m.BATCH_SUCCESSIVE_UNIQUE)!this._inFlight?this._send(a):this._batchData(a);else if(b==m.BATCH_CONDITIONAL){var c=this._batches[0]&&this._batches[0].getData();this._inFlight&&(this._combineDataIf(this._pendingRequestData,a)||this._combineDataIf(c,a))?this._batchData(a):this._send(a)}else b==m.BATCH_DEFERRED_MULTI?(this._batchData(a),this._deferredSend()):b==m.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR&&(this._batchData(a),this._inFlight||this._batchSend())},_send:function(a){var c=this;this._inFlight++;this._pendingRequestData=babelHelpers["extends"]({},a);this._requestUserID!=b("CurrentUser").getID()&&(a.request_user_id=this._requestUserID);b("MercuryMessagingLightswitch").guard(function(){i.log("send",JSON.stringify({endpoint:c._endpoint,inflight_count:c._inFlight}))});var d=(g||(g=b("performanceAbsoluteNow")))(),e=new(b("AsyncRequest"))(this._endpoint).setData(a).setOption("retries",this._connectionRetries).setAllowCrossPageTransition(!0);this._customHeader&&e.setRequestHeader(this._customHeader.name,this._customHeader.value);if(this._endpoint===b("MercuryServerURIs").THREADLIST_INFO){b("Bootloader").loadModules(["MessengerGraphQLThreadlistFetcher.bs"],function(f){var g,h=a.request_user_id||b("CurrentUser").getID(),d=a.request_user_id&&!b("FBIDCheck").isUser_deprecated(a.request_user_id);g=(g={},g[b("MessagingTag").INBOX]="INBOX",g[b("MessagingTag").OTHER]="OTHER",g[b("MessagingTag").ACTION_ARCHIVED]="ARCHIVED",g[b("MessagingTag").SPAM]="SPAM",g[b("MessagingTag").PENDING]="PENDING",g[b("MessagingTag").PAGE_BACKGROUND]="PAGE_BACKGROUND",g);var i=[];for(var j of Object.keys(g))if(Object.prototype.hasOwnProperty.call(a,j)){var k=a[j];i.push({limit:k.before?k.limit+1:k.limit,folder:j,tags:k.filter?[g[j],k.filter]:[g[j]],timestamp:k.before,filter:k.filter,includeDeliveryReceipts:!0,includeSeqID:!1,source:a.client})}k=function(){b("promiseDone")(f.fetchAll(h,i,d,"fetch_threadlist"),function(a){a=new(b("AsyncResponse"))(e,babelHelpers["extends"]({},a,{payload_source:"server_fetch_threadlist_info"}));c._handleResponse(a)},function(a){c._handleGraphQLError("threadlist_failure",i,a,e)})};k()},"MercuryServerDispatcher");return}if(this._endpoint===b("MercuryServerURIs").THREAD_INFO){var f,h=(f=b("getByPath"))(a,["threads","user_ids"],[]),j=f(a,["threads","thread_fbids"],[]),k=f(a,["messages","user_ids"],{}),l=f(a,["messages","thread_fbids"],{}),m=a.request_user_id&&!b("FBIDCheck").isUser_deprecated(a.request_user_id);b("Bootloader").loadModules(["MessengerGraphQLThreadFetcher.bs"],function(d){var f=a.request_user_id||b("CurrentUser").getID(),g=Object.keys(k),i=g.map(function(b){var c=k[b].limit,d=k[b].timestamp;return{id:b,limit:d?c+1:c,loadReadReceipts:!0,loadDeliveryReceipts:!0,timestamp:d,isCanonical:!0,source:a.client}}),n=new Set(g);h.forEach(function(b){if(n.has(b))return;i.push({id:b,limit:0,loadReadReceipts:!1,loadDeliveryReceipts:!1,timestamp:null,isCanonical:!0,source:a.client})});g=Object.keys(l);var o=g.map(function(b){var c=l[b].limit,d=l[b].timestamp;return{id:b,limit:d?c+1:c,loadReadReceipts:!0,loadDeliveryReceipts:!0,timestamp:d,isCanonical:!1,source:a.client}}),p=new Set(g);j.forEach(function(b){if(p.has(b))return;o.push({id:b,limit:0,loadReadReceipts:!1,loadDeliveryReceipts:!1,timestamp:null,isCanonical:!1,source:a.client})});var q=[].concat(i,o);q.forEach(function(a){a.limit>21&&b("ChatReliabilityInstrumentation").logFETCHING_MANY_MESSAGES(JSON.stringify(a))});b("promiseDone")(d.fetchAll(f,q,m),function(a){a=a.slice(0);if(a.length>0){var d={};a.forEach(function(a){return Object.assign(d,a.roger)});var f=[];a.forEach(function(a){return f.push.apply(f,a.delivery_receipts)});var g=[];a.forEach(function(a){return g=g.concat(a.actions)});g=g.filter(Boolean);a={actions:g,threads:a.map(function(a){return a.thread}).filter(Boolean),end_of_history:a.map(function(a){return a.end_of_history}).filter(Boolean),roger:d,delivery_receipts:f,payload_source:"server_fetch_thread_info"};a=new(b("AsyncResponse"))(e,a);c._handleResponse(a)}else c._handleResponse(new(b("AsyncResponse"))(e,{}))},function(a){c._handleGraphQLError("thread_failure",q,a,e)})},"MercuryServerDispatcher");return}e.setHandler(function(a){b("MercuryMessagingLightswitch").guard(function(){b("BanzaiLogger").log("ChatPerfLoggerConfig",{event:"async_request",duration:(g||(g=b("performanceAbsoluteNow")))()-d,endpoint:c._endpoint})}),c._handleResponse(a)}).setErrorHandler(this._handleError.bind(this)).setTransportErrorHandler(this._handleTransportError.bind(this)).setServerDialogCancelHandler(this._handleServerDialogCancel.bind(this));this._timeout&&this._timeoutHandler&&e.setTimeoutHandler(this._timeout,this._handleTimeout.bind(this));e.send()},_handleGraphQLError:function(a,c,d,e){var f=null,g=e.getData().retry_count;typeof d.toString==="function"&&(f=d.toString());if(typeof d.getRequest!=="function"){var h=d.errors&&d.errors[0];d=new(b("AsyncResponse"))(e,d);d.errorSummary=d.errors&&d.errors.map();d.errorDescription=h?h.message:null;f=h&&h.message?h.message:f;d.silentError=h&&h.is_silent;d.transientError=h&&h.is_transient}g||new(b("MessengerWebGraphQLTypedLogger"))().setErrorMessage(f).setEvent(a).setQueryParams(JSON.stringify(c)).log();this._handleError(d)},_batchData:function(a,c){var d=this;if(this._mode==m.BATCH_SUCCESSIVE_UNIQUE&&this._pendingRequestData!==void 0&&b("areJSONRepresentationsEqual")(a,this._pendingRequestData))return;else{var e=this._batches.length-1;e>=0?c?this._batches[e].combineWithOlder(a,this._combineData):this._batches[e].combineWith(a,this._combineData):this._batches.push(new o(a));b("MercuryMessagingLightswitch").guard(function(){i.debug("batch",JSON.stringify({endpoint:d._endpoint}))})}},_batchSend:function(){this._batches[0]&&(this._send(this._batches[0].getData()),this._batches.shift())},_handleResponse:function(a){var c=this;this._inFlight--;b("MercuryMessagingLightswitch").guard(function(){i.log("response",JSON.stringify({endpoint:c._endpoint,inflight_count:c._inFlight}))});var d=a.getPayload();l=d&&d.kill_chat;l&&b("MercuryMessagingLightswitch").guard(function(){i.log("killswitch_enabled",JSON.stringify({endpoint:c._endpoint,inflight_count:c._inFlight}))});d&&d.error_payload?this._errorHandler&&this._errorHandler(a):this._handler&&this._handler(d,a.getRequest());(this._mode==m.BATCH_SUCCESSIVE||this._mode==m.BATCH_SUCCESSIVE_UNIQUE||this._mode==m.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR||this._mode==m.BATCH_CONDITIONAL)&&this._batchSend();delete this._pendingRequestData},_createErrorRecord:function(a){return a instanceof b("AsyncResponse")?{endpoint:this._endpoint,user:this._requestUserID,time:Date.now(),code:a.getError(),description:a.getErrorDescriptionString(),summary:a.getErrorSummary(),isSilent:a.isSilent,isTransient:a.isTransient(),isBlockedAction:a.isBlockedAction(),isWarning:a.getErrorIsWarning(),payload:a.getPayload()}:{endpoint:this._endpoint,user:this._requestUserID,time:Date.now(),description:a.toString()}},_postErrorHandler:function(a){var c=this;this._inFlight--;b("MercuryMessagingLightswitch").guard(function(){i.error("error",JSON.stringify({endpoint:c._endpoint,inflight_count:c._inFlight,error:a instanceof b("AsyncResponse")?a.getError()+" "+a.getErrorDescription():a instanceof Error?a.toString():"Unknown"}))});k.push(this._createErrorRecord(a));k.length>j&&(k=k.slice(-1*j));var d=this._mode;d==m.BATCH_SUCCESSIVE||d==m.BATCH_SUCCESSIVE_UNIQUE||d==m.BATCH_CONDITIONAL?this._batchSend():d==m.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR&&(this._batches[0]?(this._batchData(this._pendingRequestData,!0),this._batchSend()):this._batchData(this._pendingRequestData,!0));delete this._pendingRequestData},_handleError:function(a){this._errorHandler&&this._errorHandler(a),this._postErrorHandler(a)},_handleTransportError:function(a){this._transportErrorHandler&&this._transportErrorHandler(a),this._postErrorHandler(a)},_handleTimeout:function(a){this._timeoutHandler&&this._timeoutHandler(a),this._postErrorHandler(new Error("Endpoint Timeout"))},_handleServerDialogCancel:function(a){this._serverDialogCancelHandler&&this._serverDialogCancelHandler(a),this._postErrorHandler(a)}});function o(a){this._data=a,this._size=1}Object.assign(o.prototype,{getData:function(){return this._data},getSize:function(){return this._size},combineWith:function(a,b){this._data=b(this._data,a),this._size++},combineWithOlder:function(a,b){this._data=b(a,this._data),this._size++}});e.exports=m}),null);
__d("UFIReplyCommentListImpl",["ActorURI","MercuryServerDispatcher","UFIComments","UFIPagedCommentListImpl","URI"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){b=a.call(this,b)||this;b.parentCommentID=c;b.containerOrderingMode=d;return b}var e=b.prototype;e.fetchComments=function(a,b,c){a={ft_ent_identifier:this.feedbackTargetID,parent_comment_ids:[this.parentCommentID],source:null,offsets:[a],lengths:[b],feed_context:c?c.feedContext:null,numpagerclicks:c?c.numPagerClicks:null,containerorderingmode:this.containerOrderingMode,translate_all:c?c.translateAll:null};(!c||!c.viewAs)&&(a[d("ActorURI").PARAMETER_ACTOR]=this.actorID);d("MercuryServerDispatcher").trySend("/ajax/ufi/reply_fetch.php",a)};e.commentsFromCommentIDs=function(a,b,c){var e={};for(var f=0;f<c;f++){var g=d("UFIComments").getComment(a[b+f]);g&&(e[b+f]=g)}return e};e.reset=function(){var b=a.prototype.reset.call(this),c={};for(var e in b){var f=b[e];c[f]=!0}d("UFIComments").resetComments(c);return b};e.getParentCommentID=function(){return this.parentCommentID};e.buildCommentPermalink=function(a,b,d){if(!this.basePermalink)return null;a=this.getParentCommentID().split("_");d=b;a.length===2&&(d=a[1]);return new(h||(h=c("URI")))(this.basePermalink).addQueryData({comment_id:d,reply_comment_id:b}).toString()};return b}(c("UFIPagedCommentListImpl"));d("MercuryServerDispatcher").registerEndpoints({"/ajax/ufi/reply_fetch.php":{mode:d("MercuryServerDispatcher").IMMEDIATE}});g["default"]=a}),98);
__d("UFIToplevelPagedCommentListImpl",["ActorURI","MercuryServerDispatcher","UFIComments","UFIOrderingModeStore","UFIPagedCommentListImpl","URI"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){b=a.call(this,b)||this;b.clientHasAll=!1;b.orderingMode=c;b.section=d||"default";b.clientHasAll=!1;return b}var e=b.prototype;e.fetchComments=function(a,b,c){a={ft_ent_identifier:this.feedbackTargetID,viewas:c&&c.viewAs?c.viewAs+"":null,source:c&&c.feedbackSource,offset:a,length:b,orderingmode:this.orderingMode,section:this.section,direction:c&&c.direction,feed_context:c?c.feedContext:null,numpagerclicks:c?c.numPagerClicks:null,translate_all:c?c.translateAll:null,clientcommentcount:this.count};(this.orderingMode!=="ranked_threaded"||this.orderingMode!=="ranked_unfiltered"||this.orderingMode!=="recent_activity")&&delete a.clientcommentcount;(!c||!c.viewAs)&&(a[d("ActorURI").PARAMETER_ACTOR]=this.actorID);c&&c.interactionRequestCorrelationID&&(a.ircid=c.interactionRequestCorrelationID);d("MercuryServerDispatcher").trySend("/ajax/ufi/comment_fetch.php",a)};e.commentsFromCommentIDs=function(a,b,e){var f={},g=b,h=b+e-1,i=c("UFIOrderingModeStore").isInverted(this.orderingMode,this.feedbackTargetID);for(var j=0;j<e;j++){var k=i?h-j:g+j;k=d("UFIComments").getComment(a[k]);k&&(f[b+j]=k)}return f};e.getOrderingMode=function(){return this.orderingMode};e.getCommentSection=function(){return this.section};e.setClientHasAll=function(a){this.clientHasAll=a};e.getClientHasAll=function(){return this.clientHasAll};e.buildCommentPermalink=function(a,b,d){return!this.basePermalink?null:new(h||(h=c("URI")))(this.basePermalink).addQueryData({comment_id:b}).toString()};return b}(c("UFIPagedCommentListImpl"));d("MercuryServerDispatcher").registerEndpoints({"/ajax/ufi/comment_fetch.php":{mode:d("MercuryServerDispatcher").IMMEDIATE}});g["default"]=a}),98);
__d("UFICentralUpdates",["Arbiter","ArbiterMixin","LiveTimer","ODS","ShortProfiles","UFIConstants","UFIUserActions"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("ODS")).setEntitySample("feedback",1e-4);var i=0,j={},k={},l=[];function m(){if(!i){var a=j,b=k;j={};k={};Object.keys(a).length&&o("feedback-updated",a);Object.keys(b).length&&o("comments-updated",b);l.pop()}}function n(){if(l.length)return l[l.length-1];else return d("UFIConstants").UFIPayloadSourceType.UNKNOWN}function o(a,b){p.inform(a,{updates:b,payloadSource:n()})}var p=babelHelpers["extends"]({},c("ArbiterMixin"),{handleUpdateWithUserAction:function(a,b){b.actions.forEach(function(e){a==d("UFIConstants").UFIPayloadSourceType.ENDPOINT_HIDE_COMMENT?Object.prototype.hasOwnProperty.call(e,"commentid")&&(c("UFIUserActions").setHideAsSpam(e.commentid,!0,{source:13}),c("Arbiter").inform("bulk_actions_hidden",{})):p.handleUpdate(a,b)})},handleUpdate:function(a,b){Object.keys(b).length&&p.synchronizeInforms(function(){l.push(a);var c=babelHelpers["extends"]({payloadsource:n()},b);c.adjustedRanges&&p.inform("update-ranges",c);p.inform("update-feedback",c);p.inform("update-comment-lists",c);p.inform("update-comments",c);p.inform("update-actions",c);d("ShortProfiles").setMulti(b.profiles||{});b.servertime&&d("LiveTimer").restart(b.servertime)})},didUpdateFeedback:function(a){j[a]=!0,m()},didUpdateComment:function(a){k[a]=!0,m()},synchronizeInforms:function(a){i++;try{a()}catch(a){throw a}finally{i--,m()}}});a=p;g["default"]=a}),98);
__d("UFICommentAction",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return{type:"bulk_review",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b}}function b(a,b,c,d){return{type:"comment_change_reaction",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,reactionType:c,target:d}}function c(a,b,c){return{type:"comment_change_reaction_success",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,reactionType:c}}function d(a,b,c){return{type:"comment_change_reaction_failure",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,reactionType:c}}function e(a,b,c,d,e){return{arrowType:e,comment:b,currentVoteState:d,fbid:b.fbid,ftentidentifier:a.ftentidentifier,instanceID:a.instanceid,target:c,type:"comment_change_vote"}}function g(a,b,c,d){return{comment:b,fbid:b.fbid,ftentidentifier:a.ftentidentifier,instanceID:a.instanceid,type:"comment_change_vote_failure",voteCount:c,voteState:d}}function h(a,b,c,d){return{comment:b,fbid:b.fbid,ftentidentifier:a.ftentidentifier,instanceID:a.instanceid,type:"comment_change_vote_success",voteCount:c,voteState:d}}function i(a,b,c,d){return{fbid:b,ftentidentifier:a.ftentidentifier,instanceID:a.instanceid,type:"comment_update_vote_count_and_state",voteCount:c,voteState:d}}function j(a,b){return{type:"comment_mounted",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.comment.fbid,renderedComment:b,contextArgs:a}}function k(a,b){return{type:"comment_unmounted",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.comment.fbid,renderedComment:b,contextArgs:a}}function l(a,b,c){return{type:"comment_change_visibility",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.comment.fbid,renderedComment:b,contextArgs:a,visibility:c}}function m(a,b){return{type:"comment_edit",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b}}function n(a,b,c,d,e){e===void 0&&(e=!1);return{type:"comment_remove",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,target:c,onConfirm:d,skipConfirmation:e}}function o(a,b,c,d){return{type:"comment_remove_and_block",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,target:c,onConfirm:d}}function p(a,b,c,d){return{type:"comment_delete_and_commenter_remove",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,target:c,onConfirm:d}}function q(a,b,c,d){return{type:"commenter_muted",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,target:c,onConfirm:d}}function r(a,b,c){return{type:"comment_toggle_text_delights",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,target:c}}function s(a,b,c){return{type:"comment_remove_preview",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,target:c}}function t(a,b,c){return{type:"comment_toggle_like",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,like:!b.hasviewerliked,target:c}}function u(a,b,c){return{type:"comment_translate",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,trigger:c}}function v(a,b,c){return{type:"comment_toggle_mark_as_spam",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,is_spam:!0,target:c}}function w(a,b,c){return{type:"comment_toggle_mark_as_spam",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,is_spam:!1,target:c}}function x(a,b,c,d){return{type:"comment_toggle_inline_ban",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,is_banned:!0,ownerid:d,target:c}}function y(a,b,c,d){return{type:"comment_toggle_inline_ban",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,is_banned:!1,ownerid:d,target:c}}function z(a,b,c,d){return{type:"comment_toggle_inline_stream_ban",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,is_banned:!0,ownerid:d,target:c}}function A(a,b,c,d){return{type:"comment_toggle_inline_stream_ban",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,is_banned:!1,ownerid:d,target:c}}function B(a,b,c,d,e){return{type:"comment_toggle_inline_suspension",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,is_suspended:!0,suspension_duration_seconds:e,ownerid:d,target:c}}function C(a,b,c,d){return{type:"comment_toggle_inline_suspension",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,is_suspended:!1,suspension_duration_seconds:0,ownerid:d,target:c}}function D(a,b){return{type:"embed",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b}}function E(a,b,c){return{type:"comment_delete_with_feedback",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,target:c}}function F(a,b,c){return{comment:b,type:"comment_change_author_pin",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,pinnedByAuthor:c}}function G(a,b){return{type:"comment_manage_constituent_badge",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b}}function H(a,b,c){return{type:"comment_toggle_keep_spam",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,target:c}}function I(a,b,c,d){return{type:"comment_toggle_appeal_spam",instanceID:a.instanceid,ftentidentifier:b.fbid,fbid:b.fbid,comment:b,target:c,feedback:d}}function J(a,b,c,d){return{type:"comment_toggle_secure_account",instanceID:a.instanceid,ftentidentifier:b.fbid,fbid:b.fbid,comment:b,target:c,feedback:d}}f.bulkReview=a;f.changeReaction=b;f.changeReactionSuccess=c;f.changeReactionFailure=d;f.changeVote=e;f.changeVoteFailure=g;f.changeVoteSuccess=h;f.updateVoteCountAndState=i;f.mounted=j;f.unmounted=k;f.changeVisibility=l;f.edit=m;f.remove=n;f.removeAndBlock=o;f.delete_comment_and_remove_commenter=p;f.mute_member=q;f.toggle_text_delights=r;f.removePreview=s;f.toggleLike=t;f.translate=u;f.markAsSpam=v;f.markAsNotSpam=w;f.inlineBan=x;f.undoInlineBan=y;f.inlineStreamBan=z;f.undoInlineStreamBan=A;f.inlineSuspension=B;f.undoInlineSuspension=C;f.embed=D;f.deleteCommentWithFeedback=E;f.pinByAuthor=F;f.manageConstituentBadge=G;f.keepSpam=H;f.appealSpam=I;f.secureAccount=J}),66);
__d("UFICommentVoteUserActions",["AsyncRequest","AsyncResponse","ChannelClientID","ClientIDs","ThisControllerNoLongerExists","UFICentralUpdates","UFICommentAction","UFICommentVoteSyncStore","UFIComments","UFIConstants","UFIFeedbackTargets","UFISharedDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h=null;function a(a,b,e,f,g,l){var m=d("UFIComments").getComment(a),n=c("UFICommentVoteSyncStore").getVoteCount(b),o=c("UFICommentVoteSyncStore").getOptimisticVoteState(f,e),p=c("UFICommentVoteSyncStore").getOptimisticVoteCount(b,o);if(!m||m.__typename!=="saved"||f===o)return;d("UFIFeedbackTargets").getFeedbackTarget(m.ftentidentifier,function(b){b=k(m,b,p,o);c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:b});h&&h.abort();b=d("ThisControllerNoLongerExists").__DEADURI__("k0233k87l");h=new(c("AsyncRequest"))().setURI(b).setMethod("POST").setData({client_id:d("ClientIDs").getNewClientID(),comment_id:a,ft_ent_identifier:m.ftentidentifier,instance_id:g.instanceid,legacy_id:m.legacyid,new_vote_count:p,new_vote_state:o,old_vote_count:n,old_vote_state:f,session_id:d("ChannelClientID").getID(),source:g.source}).setErrorHandler(function(a){i(a)}).setHandler(function(a){j(a)})});h&&h.send()}function i(b){var a=b.request;if(!a||!a.data)return;a=a.data;var e=d("UFIComments").getComment(a.comment_id);if(!e||e.__typename!=="saved")return;var f=a.ft_ent_identifier,g=a.instance_id,i=a.old_vote_count;a=a.old_vote_state;if(!f||!g)return;c("UFISharedDispatcher").dispatch(d("UFICommentAction").changeVoteFailure({instanceid:g,ftentidentifier:f},e,i,a));c("AsyncResponse").defaultErrorHandler(b)}function j(a){a=a.request;if(!a||!a.data)return;a=a.data;var b=d("UFIComments").getComment(a.comment_id);if(!b||b.__typename!=="saved")return;var e=a.ft_ent_identifier,f=a.instance_id,g=a.new_vote_count;a=a.new_vote_state;if(!e||!f)return;c("UFISharedDispatcher").dispatch(d("UFICommentAction").changeVoteSuccess({instanceid:f,ftentidentifier:e},b,g,a))}function k(a,b,c,e){var f=a.id;b=[l(a,c,e,f,b.actorforpost)];a.voteState!==e&&b.push({commentID:f,actionType:d("UFIConstants").UFIActionType.COMMENT_VOTE,voteCount:c,voteEnabled:!0,voteState:e});return b}function l(a,b,c,e,f){return{actionType:d("UFIConstants").UFIActionType.COMMENT_VOTE,commentID:e,voteCount:b,voteEnabled:a.voteEnabled,voteState:c}}g.changeCommentVote=a}),98);
__d("UFIComments",["invariant","ClientIDs","ImmutableObject","UFICentralUpdates","UFIConstants","randomInt"],(function(a,b,c,d,e,f,g,h){"use strict";var i=5,j={},k={},l={},m={},n={};m.shareOnComment=n;var o="DONT_SHOW_SHARE_OPTION";function p(a){return a in k?k[a]:a}function q(a,b){a.forEach(function(a){var e=a.ftentidentifier,f=d("UFIConstants").UFIPayloadSourceType,g=a.clientid,h=!1,m=babelHelpers["extends"]({},a);if(g){delete m.clientid;h=d("ClientIDs").isExistingClientID(g);if(h&&k[g])return}(b===d("UFIConstants").UFIPayloadSourceType.LIVE_SEND||b===d("UFIConstants").UFIPayloadSourceType.STREAMING)&&(m.islive=!0);(b===f.ENDPOINT_COMMENT_FETCH||b===f.ENDPOINT_ID_COMMENT_FETCH)&&(m.fromfetch=!0);h&&j[g]&&(m.ufiinstanceid=j[g].ufiinstanceid,m.trackingID=j[g].trackingID,k[g]=a.id,l[a.id]=g,j[a.id]=j[g],delete j[g],c("UFICentralUpdates").didUpdateComment(g));if(b===f.LIVE_SEND||b===d("UFIConstants").UFIPayloadSourceType.STREAMING||b===f.USER_ACTION||b===f.ENDPOINT_ADD_COMMENT||b===f.ENDPOINT_EDIT_COMMENT){m.isunseen=!0;if(a.body&&a.body.text&&a.body.text.trim().split(/\s+/).length>=i&&(b===f.USER_ACTION||b===f.ENDPOINT_ADD_COMMENT)){h=n[e];h!==o&&(n[e]=!h||a.id===h||K(a.id)===h?a.id:o)}}M(a.id,new(c("ImmutableObject"))(m));c("UFICentralUpdates").didUpdateComment(a.id);c("UFICentralUpdates").didUpdateFeedback(e)})}function r(a,b){for(var c=0;c<a.length;c++){var e=a[c];switch(e.actiontype){case d("UFIConstants").UFIActionType.LIKE_ACTION:L(e.entidentifier)&&u(e.clientid,e.entidentifier,e.hasviewerliked,e.likecount,e.reactiondata,b);break;case d("UFIConstants").UFIActionType.COMMENT_LIKE:u(e.clientid,e.commentid,e.viewerliked,e.likecount,e.reactiondata,b);break;case d("UFIConstants").UFIActionType.MUTE_MEMBER:v(e);break;case d("UFIConstants").UFIActionType.REACTION:L(e.entidentifier)&&w(e.entidentifier,e);break;case d("UFIConstants").UFIActionType.COMMENT_REACTION:w(e.commentid,e);break;case d("UFIConstants").UFIActionType.DELETE_COMMENT:A(e);break;case d("UFIConstants").UFIActionType.LIVE_DELETE_COMMENT:B(e);break;case d("UFIConstants").UFIActionType.CHANGE_ACCEPTED_ANSWER:C(e);break;case d("UFIConstants").UFIActionType.REMOVE_PREVIEW:D(e);break;case d("UFIConstants").UFIActionType.COMMENT_SET_SPAM:E(e);break;case d("UFIConstants").UFIActionType.COMMENT_KEEP_SPAM:F(e);break;case d("UFIConstants").UFIActionType.CONFIRM_COMMENT_REMOVAL:G(e);break;case d("UFIConstants").UFIActionType.TRANSLATE_COMMENT:y(e);break;case d("UFIConstants").UFIActionType.COMMENT_LIKECOUNT_UPDATE:x(e);break;case d("UFIConstants").UFIActionType.UPDATE_CONSTITUENT_BADGE:I(e);break;case d("UFIConstants").UFIActionType.COMMENT_VOTE:t(e);break;case d("UFIConstants").UFIActionType.COMMENT_AUTHOR_PIN_CHANGE:s(e)}}}function s(a){var b=L(a.commentid);b&&J(b.id,{ispinnedbyauthor:a.ispinnedbyauthor})}function t(a){var b=L(a.commentID);b&&J(b.id,{voteCount:a.voteCount,voteEnabled:a.voteEnabled,voteState:a.voteState})}function u(a,b,e,f,g,h){h=L(b);if(h){h={};a=a&&d("ClientIDs").isExistingClientID(a);a||(h.hasviewerliked=e,h.likecount=f,g&&(h.reactioncount=g.reactioncount,h.reactioncountmap=g.reactioncountmap,h.reactioncountreduced=g.reactioncountreduced,h.viewerreaction=g.viewerreaction));h.likeconfirmhash=c("randomInt")(0,1024);J(b,h)}}function v(a){for(var b in j){var c=j[b];if(c.author===a.authorid){c={ismuted:a.shouldmute};J(b,c)}}}function w(a,b){var c=L(a);if(c){var e={};if(b.clientid&&d("ClientIDs").isExistingClientID(b.clientid)&&b.viewerreaction!==c.viewerreaction)return;e.hasviewerliked=b.hasviewerliked;e.likecount=b.likecount;e.reactioncount=b.reactioncount;e.reactioncountmap=b.reactioncountmap;e.reactioncountreduced=b.reactioncountreduced;e.viewerreaction=b.viewerreaction;J(a,e)}}function x(a){var b=L(a.commentid);if(b&&a.hasviewerliked===b.hasviewerliked){b={likecount:a.likecount,likeconfirmhash:c("randomInt")(0,1024)};J(a.commentid,b)}}function y(a){var b=a.commentid,c=L(b);if(c){c={translationdata:a.translationdata};J(b,c)}}function z(a){return{reportLink:a.reportLink,commenterIsFOF:a.commenterIsFOF,userIsMinor:a.userIsMinor,giveFeedbackLink:a.giveFeedbackLink,reportOptionsLink:a.reportOptionsLink,isBroadcast:a.isBroadcast,showStreamBanControls:a.showStreamBanControls}}function A(a){a=L(a.commentid);a&&H(a,d("UFIConstants").UFIStatus.DELETED)}function B(a){a=L(a.commentid);a&&a.status!==d("UFIConstants").UFIStatus.DELETED&&H(a,d("UFIConstants").UFIStatus.LIVE_DELETED)}function C(a){J(a.commentid,{postacceptedanswer:a.isaccepted?a.commentid:null})}function D(a){J(a.commentid,{attachment:null})}function E(a){var b=L(a.commentid);a=a.shouldHideAsSpam?d("UFIConstants").UFIStatus.SPAM_DISPLAY:null;b&&H(b,a)}function F(a){a=L(a.commentid);a&&J(a.id,{needsApproval:!1,isApproved:!0})}function G(a){J(a.commentid,z(a))}function H(a,b){J(a.id,{priorstatus:a.status,status:b})}function I(a){var b=L(a.commentid);if(b){b={constituentTitle:a.constituentTitle,hasConstituentBadge:a.hasConstituentBadge};J(a.commentid,b)}}function J(a,b){var d=L(a)||new(c("ImmutableObject"))({});M(a,c("ImmutableObject").set(d,b));c("UFICentralUpdates").didUpdateComment(d.id);c("UFICentralUpdates").didUpdateFeedback(d.ftentidentifier)}function a(a){return"comment"+(a in l?l[a]:a)}function K(a){return a in l?l[a]:a}function L(a){return a===d("UFIConstants").unavailableCommentKey?null:j[p(a)]}function M(a,b){b instanceof c("ImmutableObject")||h(0,11854),j[p(a)]=b}function b(a,b){a.length!==0||h(0,4389),m[a]=b}function e(a){return m[a]}function f(a){for(a in a)delete j[p(a)]}function N(a){var b=[];for(var c in j){var d=j[c];d.author==a&&b.push(d)}return b}function O(a){var b=[];for(var c in j){var d=j[c];d.ftentidentifier==a&&b.push(d)}return b}c("UFICentralUpdates").subscribe("update-comments",function(a,b){b.comments&&b.comments.length&&q(b.comments,b.payloadsource),b.privatecomments&&b.privatecomments.length&&q(b.privatecomments,b.payloadsource),b.pinnedcomments&&b.pinnedcomments.length&&q(b.pinnedcomments,b.payloadsource),b.livethreadedcomments&&b.livethreadedcomments.length&&q(b.livethreadedcomments,b.payloadsource),b.authorpinnedcomments&&b.authorpinnedcomments.length&&q(b.authorpinnedcomments,b.payloadsource)});c("UFICentralUpdates").subscribe("update-actions",function(a,b){b.actions&&b.actions.length&&r(b.actions,b.payloadsource)});g.getRenderKey=a;g.getLocalID=K;g.getComment=L;g.setComment=M;g.setCacheVariable=b;g.getCacheVariable=e;g.resetComments=f;g.getCommentsForAuthor=N;g.getCommentsForFTEntIdentifier=O}),102);
__d("UFIFeedbackTargets",["Bootloader","KeyedCallbackManager","UFICentralUpdates"],(function(a,b,c,d,e,f,g){"use strict";var h=new(c("KeyedCallbackManager"))();function i(a){var b;if(!a)return;var d=babelHelpers["extends"]({},a);delete d.commentlist;delete d.commentcount;c("UFICentralUpdates").didUpdateFeedback(a.entidentifier);h.addResourcesAndExecute((b={},b[a.entidentifier]=d,b))}function j(a,b){c("Bootloader").loadModules(["UFIFeedbackMutator"],function(c){for(var d=0;d<a.length;d++){var e=a[d];e.arecommentsdisabled=!!e.arecommentsdisabled;e.cancomment=!!e.cancomment;e.hasviewerliked=!!e.hasviewerliked;e.hasviewersubscribed=!!e.hasviewersubscribed;e.likecount=e.likecount||0;var f=h.getResource(e.entidentifier);if(!f)break;var g=c.getHandlerForAction(e);i(g(f,e,b))}},"UFIFeedbackTargets")}function a(a,b){return h.executeOrEnqueue(a,b)}function b(a){return h.getResource(a)||null}function d(a){h.unsubscribe(a)}c("UFICentralUpdates").subscribe("update-feedback",function(a,b){a=b.feedbacktarget?b.feedbacktarget:b.feedbacktargets&&b.feedbacktargets[0];a&&i(a)});c("UFICentralUpdates").subscribe("update-actions",function(a,b){b.actions&&b.actions.length&&j(b.actions,b.payloadsource)});g.getFeedbackTarget=a;g.getFeedbackTargetIfExists=b;g.unsubscribe=d}),102);
__d("NumberFormat",["NumberFormatConfig","intlNumUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=/(\d{3})(?=\d)/g;function i(a){return(""+a).split("").reverse().join("")}function a(a,b){if(Math.abs(a).toString().length<c("NumberFormatConfig").minDigitsForThousandsSeparator)return a.toString();a=i(""+a);return i(a.replace(h,"$1"+b))}function b(a){return d("intlNumUtils").formatNumberWithThousandDelimiters(a)}g.formatIntegerWithDelimiter=a;g.formatInteger=b}),98);
__d("UFIReactionsUtils",[],(function(a,b,c,d,e,f){function a(a,b,c,d,e){e===void 0&&(e=null);b=parseInt(b,10);var f=!!b,g=a.reactorids?a.reactorids.slice(0):[],h=g.indexOf(c),i=0;f?h<0&&(c&&g.unshift(c),i=1):h>-1&&(g.splice(h,1),i=-1);h=Math.max(a.reactioncount+i,0);i=a.reactioncountreduced;i&&!isNaN(i)&&(d?i=d(h):i=h.toString());d=a.reactioncountmap||{};var j=a.reactioncountmapbyid||{},k,l=a.viewerreaction,m=a.viewerreactionid;l&&d[l]&&(d[l]["default"]=Math.max((d[l]["default"]||0)-1,0),k=d[l].reduced,k&&!isNaN(k)&&(d[l].reduced=d[l]["default"].toString()));m&&j[m]&&(j[m]["default"]=Math.max((j[m]["default"]||0)-1,0),k=j[m].reduced,k&&!isNaN(k)&&(j[m].reduced=j[m]["default"].toString()));f&&d[b]&&(d[b]["default"]=(d[b]["default"]||0)+1,k=d[b].reduced,k&&!isNaN(k)&&(d[b].reduced=d[b]["default"].toString()));f&&e!==null&&(j[e]||(j[e]={}),j[e]["default"]=(j[e]["default"]||0)+1,k=j[e].reduced,k&&!isNaN(k)&&(j[e].reduced=j[e]["default"].toString()));m=a.userreactions;(!m||Array.isArray(m))&&(m={});c&&(f?m[c]=b:delete m[c]);k=null;if(a.reactionsentences){f=!(l&&b);k={current:a.reactionsentences[f?"alternate":"current"],alternate:a.reactionsentences[f?"current":"alternate"]}}return{reactioncount:h,reactioncountmap:d,reactioncountmapbyid:j,reactioncountreduced:i,reactionsentences:k,reactorids:g,userreactions:m,viewerreaction:b,viewerreactionid:e}}function b(a){var b={};if(!a)return b;for(var c=0;c<a.length;c++){var d=a[c],e=d.feedback_reaction.key;b[e]={"default":d.reactors&&d.reactors.count,reduced:d.reactors&&d.reactors.display_count}}return b}f.getReactionData=a;f.getReactionCountMapFromSummary=b}),66);
__d("UFIStoryAction",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return{type:"story_change_accepted_answer",instanceID:a.instanceid,ftentidentifier:b.ftentidentifier,comment:b,doAccept:c}}function b(a,b,c,d,e,f,g){return{type:"story_comments_arrived",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,section:e,newOffset:b,newLength:c,source:d,interactionRequestCorrelationID:f,liveVideoCommentPermalinkID:g}}function c(a,b,c,d,e){return{type:"story_page_in_comments",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,interactionRequestCorrelationID:a.interactionRequestCorrelationID,commentID:b,direction:c,nextRange:d,section:e}}function d(a){return{type:"story_show_comments",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier}}function e(a,b,c){return{type:"story_show_replies",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,commentID:b,initiatorComment:c}}function g(a,b,c,d){return{type:"story_spam_fetched",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,viewas:b,commentIDs:c,parentCommentID:d}}function h(a,b,c,d,e){d===void 0&&(d=null);e===void 0&&(e=null);return{type:"story_change_reaction",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,contextArgs:a,reactionType:b,target:c,sphericalYaw:d,sphericalPitch:e}}function i(a,b){return{type:"story_change_reaction_success",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,reactionType:b}}function j(a,b){return{type:"story_change_reaction_failure",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,reactionType:b}}function k(a,b){return{type:"story_toggle_replies",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,commentID:b}}function l(a){return{type:"story_someone_typing",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier}}function m(a){return{type:"story_typing_stopped",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier}}function n(a,b,c){c===void 0&&(c=null);return{type:"story_live_pin_comment",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,commentID:b,pinEventID:c}}function o(a,b){b===void 0&&(b=null);return{type:"story_live_unpin_comment",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,commentID:null,pinEventID:b}}function p(a,b){return{type:"story_show_facecast_replies",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,commentID:b}}function q(a,b){return{type:"story_hide_facecast_replies",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,isExplicit:b}}function r(a,b){return{type:"story_add_facecast_reply",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,replyCommentID:b}}function s(a,b){return{type:"story_add_facecast_replies",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,replyCommentIDs:b}}function t(a,b){return{type:"facecast_replies_loaded",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,commentID:b}}function u(a,b){return{type:"set_comments_scroll_distance",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,scrollDist:b}}function v(a,b){return{type:"handle_new_comments",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,numComments:b}}function w(a,b){return{type:"handle_new_facecast_reply",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,replyCommentID:b}}function x(a,b){return{type:"set_comment_reactions_menu_shown",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,commentReactionsMenuShown:b}}f.changeAcceptedAnswer=a;f.commentsArrived=b;f.pageInComments=c;f.showComments=d;f.showReplies=e;f.spamFetched=g;f.changeReaction=h;f.changeReactionSuccess=i;f.changeReactionFailure=j;f.toggleReplies=k;f.someoneTyping=l;f.typingStopped=m;f.pinComment=n;f.unpinComment=o;f.showFacecastReplies=p;f.hideFacecastReplies=q;f.addFacecastReply=r;f.addFacecastReplies=s;f.facecastRepliesLoaded=t;f.setCommentsScrollDistance=u;f.handleNewComments=v;f.handleNewFacecastReply=w;f.setCommentReactionsMenuShown=x}),66);
__d("UFIUserActionUtils",["Nectar","TrackingNodes","collectDataAttributes"],(function(a,b,c,d,e,f,g){function a(a){if(!a)return{ft:{}};var b={ft:c("collectDataAttributes")(a,["ft"]).ft};if(h(b.ft.tn))return{};d("Nectar").addModuleData(b,a);return b}function h(a){if(a){a=c("TrackingNodes").parseTrackingNodeString(a);for(var b=0;b<a.length;b++){var d=a[b][0];switch(d){case c("TrackingNodes").types.COMMENT:return!0}}}return!1}g.trackingData=a}),98);
__d("XUFIReactionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/reaction/",{client_id:{type:"String"},ft_ent_identifier:{type:"StringOrPFBID"},reaction_type:{type:"Enum",enumType:0},reaction_id:{type:"String"},story_render_location:{type:"Enum",enumType:1},is_inline:{type:"Bool",defaultValue:!1},is_comment:{type:"Bool",defaultValue:!1},is_permalink:{type:"Bool",defaultValue:!1},action_source:{type:"String"},feedback_source:{type:"Int"},feedback_referrer:{type:"String"},is_sponsored:{type:"Bool",defaultValue:!1},basic_origin_uri:{type:"String"},basic_reload:{type:"Exists",defaultValue:!1},bgsync_id:{type:"String"},aftercursor:{type:"String"},tab:{type:"String"},_ft_:{type:"String"}})}),null);
__d("UFIReactionUserActions",["ActorURI","AsyncResponse","ChannelClientID","ClientIDs","MercuryServerDispatcher","NumberFormat","QE2Logger","UFICentralUpdates","UFICommentAction","UFIComments","UFIConfig","UFIConstants","UFIFeedbackTargets","UFIReactionPendingRequestsStore","UFIReactionSyncStore","UFIReactionTypes","UFIReactionsUtils","UFISharedDispatcher","UFIStoryAction","UFIUserActionUtils","UFIVideoPlayerRegistry","XUFIReactionController","ifRequired","setImmediate"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f,g,h){g===void 0&&(g=null),h===void 0&&(h=null),d("UFIFeedbackTargets").getFeedbackTarget(a,function(i){var j=n(i,b);c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:j});j=d("UFIUserActionUtils").trackingData(f);var k={};k[d("ActorURI").PARAMETER_ACTOR]=i.actorforpost;var l=babelHelpers["extends"]({client_id:d("ClientIDs").getNewClientID(),ft_ent_identifier:a,reaction_type:b,root_id:e.rootid,session_id:d("ChannelClientID").getID(),source:e.source,feedback_referrer:e.feedbackReferrer,instance_id:e.instanceid},k,j);if(e.fluentContentToken){i=e.fluentContentToken;var m=d("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerForElement(f,i);m&&m.isSpherical()&&(l.video_playback_timestamp=d("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerTimeForElement(f,i));e.isLiveVOD?l.on_demand_content_time_offset=d("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerTimeForElement(f,i):e.islivestreaming&&(l.live_content_time_offset=d("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerTimeForElement(f,i));m&&m.isSpherical()&&c("ifRequired")("SphericalViewportControlStore",function(a){a=a.getOrientation(m.getVideoPlayerID());a&&(g!==null&&h!==null?(l.spherical_yaw=g,l.spherical_pitch=h):(l.spherical_pitch=Math.round(a.pitch),l.spherical_yaw=Math.round(a.yaw)))})}d("MercuryServerDispatcher").trySend(c("XUFIReactionController").getURIBuilder().getURI(),l)})}function b(a,b,e,f){var g=d("UFIComments").getComment(a);g&&g.__typename==="saved"&&g.viewerreaction!==b&&d("UFIFeedbackTargets").getFeedbackTarget(g.ftentidentifier,function(a){var e=m(g,a,b);c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:e});e={};e[d("ActorURI").PARAMETER_ACTOR]=a.actorforpost})}l={};var h=c("XUFIReactionController").getURIBuilder().getURI();l[h]={mode:d("MercuryServerDispatcher").IMMEDIATE,error_handler:f,handler:e};d("MercuryServerDispatcher").registerEndpoints(l);var i="feedback_reactions_www_rollback_universe";function j(){d("QE2Logger").logExposureForUser(i)}function k(a,b){var e=c("UFIReactionPendingRequestsStore").getPendingRequests(a);if(e>0)return;var f=c("UFIReactionSyncStore").getLastKnownReaction(a);if(b===f)return;d("UFIFeedbackTargets").getFeedbackTarget(a,function(a){a=n(a,f);c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:a})})}function e(a,b){a=b.data;var e=a.ft_ent_identifier,f=a.reaction_type;c("UFISharedDispatcher").dispatch(d("UFIStoryAction").changeReactionSuccess({instanceid:a.instance_id,ftentidentifier:e},f));c("setImmediate")(function(){return k(e,f)})}function f(a){var b=a.request.data,e=b.ft_ent_identifier,f=b.reaction_type;j();var g=c("UFIConfig").reactionsHasReactionsRollback,h=c("UFIConfig").reactionsHasReactionsRetry;if(h&&!b.retry_attempt){d("MercuryServerDispatcher").trySend(c("XUFIReactionController").getURIBuilder().getURI(),babelHelpers["extends"]({},b,{retry_attempt:1}));return}c("UFISharedDispatcher").dispatch(d("UFIStoryAction").changeReactionFailure({instanceid:b.instance_id,ftentidentifier:e},f));g&&c("setImmediate")(function(){return k(e,f)});c("AsyncResponse").defaultErrorHandler(a)}function l(a,b,e){var f=c("UFIReactionPendingRequestsStore").getPendingRequestsForComment(b.fbid);if(f>0)return;var g=c("UFIReactionSyncStore").getLastKnownCommentReaction(b.fbid);if(e===g)return;d("UFIFeedbackTargets").getFeedbackTarget(a,function(a){a=m(b,a,g);c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:a})})}function m(a,b,e){var f=a.id,g=[p(a,e,f,b.supportedreactions||[],b.actorforpost)];e=e===c("UFIReactionTypes").LIKE;if(b.hasviewerliked!==e){b=e?1:-1;g.push({commentid:f,actiontype:d("UFIConstants").UFIActionType.COMMENT_LIKE,viewerliked:e,likecount:(a.likecount||0)+b})}return g}function n(a,b){var e=[o(a,b)];b=b!==c("UFIReactionTypes").NONE;if(a.hasviewerliked!==b){var f=b?1:-1;e.push({actiontype:d("UFIConstants").UFIActionType.LIKE_ACTION,actorid:a.actorforpost,hasviewerliked:b,likecount:(a.likecount||0)+f,entidentifier:a.entidentifier,likesentences:{current:a.likesentences.alternate,alternate:a.likesentences.current}})}return e}function o(a,b){return babelHelpers["extends"]({actiontype:d("UFIConstants").UFIActionType.REACTION,actorid:a.actorforpost,entidentifier:a.entidentifier},d("UFIReactionsUtils").getReactionData(a,b,a.actorforpost,d("NumberFormat").formatInteger))}function p(a,b,c,e,f){var g={};for(var h=0;h<e.length;h++){var i=e[h],j=a.reactioncountmap?a.reactioncountmap[i]:null;g[i]={"default":j?j["default"]:0,reduced:j?j.reduced:"0"}}i=d("UFIReactionsUtils").getReactionData({viewerreaction:a.viewerreaction,reactioncount:a.reactioncount,reactioncountreduced:a.reactioncountreduced,reactioncountmap:g,reactorids:a.viewerreaction?[f]:[]},b,f);return{actiontype:d("UFIConstants").UFIActionType.COMMENT_REACTION,commentid:c,hasviewerliked:!!b,likecount:i.reactioncountmap[1]["default"],reactioncount:i.reactioncount,reactioncountmap:i.reactioncountmap,reactioncountreduced:i.reactioncountreduced,viewerreaction:b}}g.changeReaction=a;g.changeCommentReaction=b}),98);
__d("UFIReplyCommentList",["UFICentralUpdates","UFIComments","UFIConstants","UFIReplyCommentListImpl","getObjectValues"],(function(a,b,c,d,e,f,g){"use strict";var h={};function i(a,b,d){h[b]||(h[b]={});if(!h[b][d]){a=new(c("UFIReplyCommentListImpl"))(a,b,d);var e=j(String(b));e.length&&a.updateCommentCount(e[0].getCommentCount());h[b][d]=a}return h[b][d]}function j(a){return c("getObjectValues")(h[a]||{})}function a(a,b,c,d){a=(h[b]||{})[d];if(!a)return;a.reset();a.actorID=c}function k(a){a=d("UFIComments").getComment(a.commentid);if(!a)return;var b=a.id,c=a.parentcommentid;if(!c)return;a.status!==d("UFIConstants").UFIStatus.DELETED&&a.status!==d("UFIConstants").UFIStatus.FAILED_ADD&&j(c).forEach(function(a){a.deleteComment(b)})}c("UFICentralUpdates").subscribe("update-actions",function(a,b){if(b.actions&&b.actions.length)for(a=0;a<b.actions.length;a++){var c=b.actions[a];switch(c.actiontype){case d("UFIConstants").UFIActionType.DELETE_COMMENT:k(c);break}}});c("UFICentralUpdates").subscribe("update-comment-lists",function(a,b){a=b.commentlists;if(a&&a.replies&&Object.keys(a).length)for(b in a.replies){var c=a.replies[b],d=c.ftentidentifier,e=c.containerorderingmode;d=i(String(d),String(b),e);d.addCommentIDs(c.range.offset,c.range.length,c.values);d.updateCommentCount(c.count)}});c("UFICentralUpdates").subscribe("update-comments",function(a,b){(b.comments||[]).concat(b.privatecomments||[]).concat(b.authorpinnedcomments||[]).forEach(function(a){var b=a.parentcommentid;if(!b)return;j(String(b)).forEach(function(b){b.addOrUpdateComment(a)})})});g.getCommentList=i;g.getReplyListsForParentCommentID=j;g.resetWithContext=a}),102);
__d("UFIThreadedFacecastCommentsStore",["FluxReduceStore","UFIComments","UFIDispatcherBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.reduce=function(a,b){switch(b.type){case"story_show_facecast_replies":var e;return babelHelpers["extends"]({},a,(e={},e[b.instanceID]={comment_id:b.commentID,reply_comment_ids:c.getReplyCommentIDs(b.instanceID),is_loaded:!1},e));case"story_hide_facecast_replies":return babelHelpers["extends"]({},a,(e={},e[b.instanceID]={comment_id:null,reply_comment_ids:[],is_loaded:!1},e));case"story_add_facecast_reply":if(c.getCommentID(b.instanceID)===null)return a;e=b.replyCommentID;var f=c.getReplyCommentIDs(b.instanceID);f.indexOf(e)===-1&&(f=f.slice(0),f.push(e));return babelHelpers["extends"]({},a,(e={},e[b.instanceID]={comment_id:c.getCommentID(b.instanceID),reply_comment_ids:f,is_loaded:c.getIsLoaded(b.instanceID)},e));case"story_add_facecast_replies":if(c.getCommentID(b.instanceID)===null)return a;var g=c.getReplyCommentIDs(b.instanceID);f=b.replyCommentIDs.filter(function(a){return g.indexOf(a)===-1});f.length!==0&&(g=g.concat(f));return babelHelpers["extends"]({},a,(e={},e[b.instanceID]={comment_id:c.getCommentID(b.instanceID),reply_comment_ids:g,is_loaded:c.getIsLoaded(b.instanceID)},e));case"facecast_replies_loaded":f=c.getCommentID(b.instanceID);return f!==b.commentID?a:babelHelpers["extends"]({},a,(e={},e[b.instanceID]={comment_id:c.getCommentID(b.instanceID),reply_comment_ids:c.getReplyCommentIDs(b.instanceID),is_loaded:!0},e));case"story_comments_arrived":if(b.source!==1||b.liveVideoCommentPermalinkID==null)return a;f=d("UFIComments").getComment(b.liveVideoCommentPermalinkID);return f==null?a:babelHelpers["extends"]({},a,(e={},e[b.instanceID]={comment_id:f.parentcommentid||f.id,reply_comment_ids:c.getReplyCommentIDs(b.instanceID),is_loaded:c.getIsLoaded(b.instanceID)},e));case"CENTRALUPDATES_SAVED_COMMENT":f=c.getReplyCommentIDs(b.instanceID);if(f.length===0)return a;e=f.indexOf(b.clientID);if(e===-1)return a;f.slice(0)[e]=b.commentID;return babelHelpers["extends"]({},a,(e={},e[b.instanceID]={comment_id:c.getCommentID(b.instanceID),reply_comment_ids:f,is_loaded:c.getIsLoaded(b.instanceID)},e));default:return a}},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.getInitialState=function(){return{}};c.getCommentID=function(a){a=this.getState()[a];return!a?null:a.comment_id};c.getReplyCommentIDs=function(a){a=this.getState()[a];return!a?[]:a.reply_comment_ids};c.getIsLoaded=function(a){a=this.getState()[a];return!a?!1:a.is_loaded};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("UFIDispatcherBase"));g["default"]=b}),98);
__d("UFIToplevelPagedCommentList",["UFICentralUpdates","UFIComments","UFIConstants","UFIReplyCommentList","UFIToplevelPagedCommentListImpl","UFIToplevelStreamedCommentList","forEachObject"],(function(a,b,c,d,e,f,g){"use strict";var h,i={};function j(a,b,d){d=d||"default";i[a]||(i[a]={});i[a][d]||(i[a][d]={});if(!i[a][d][b]){var e=new(c("UFIToplevelPagedCommentListImpl"))(a,b,d),f=k(a,d);f.length&&e.updateCommentCount(f[0].getCommentCount());i[a][d][b]=e}return i[a][d][b]}function a(a){var b=[];c("forEachObject")(i[a]||{},function(a){c("forEachObject")(a,function(a){b.push(a)})});return b}function k(a,b){var c=[];a=(i[a]||{})[b]||{};for(b in a)c.push(a[b]);return c}function b(a,b){a=k(a,b);return a.length?a[0].getCommentCount():null}function e(a){var b=k(a,"default");b=b.length?b[0].getDisplayedCommentCount():null;a=c("UFIToplevelStreamedCommentList").getAllExistingCommentLists(a);a=a.length?a[0].getDisplayedCommentCount():null;return b===null&&a===null?null:Math.max(b||0,a||0)}function f(a){a=i[a];if(!a)return;var b={};for(var c in a){var e=a[c];for(var f in e){var g=e[f];g=g.reset();for(var h in g){var j=g[h];b[j]=!0}}}d("UFIComments").resetComments(b)}function l(a,b){var c=i[a];if(!c)return;var e={};for(var f in c){var g=c[f];for(var h in g){var j=g[h];j.actorID=b;j=j.reset();for(var k in j){var l=j[k];e[l]=!0;d("UFIReplyCommentList").resetWithContext(a,l,b,h)}}}d("UFIComments").resetComments(e)}function m(a){var b=d("UFIComments").getComment(a.commentid);if(!b)return;var c=b.id,e=b.ftentidentifier,f=b.parentcommentid;if(f)return;f="default";(b.privacy_value===2||b.privacy_value===3)&&i[e]&&i[e].friends&&(f="friends");(a.islocal||b.status!==d("UFIConstants").UFIStatus.DELETED&&b.status!==d("UFIConstants").UFIStatus.FAILED_ADD)&&k(e,f).forEach(function(a){a.deleteComment(c)})}function n(a,b){c("forEachObject")(a,function(a,d){c("forEachObject")(a,function(a,c){c=j(d,c,b);c.addCommentIDs(a.range.offset,a.range.length,a.values);c.setClientHasAll(!!a.clienthasall);typeof a.count==="number"&&a.count!==c.getCommentCount()&&c.updateCommentCount(a.count)})})}function o(a,b){a.forEach(function(a){if(a.parentcommentid)return;var c=a.ftentidentifier;k(c,b).forEach(function(b){b.addOrUpdateComment(a)})})}(h=c("UFICentralUpdates")).subscribe("update-actions",function(a,b){if(b.actions&&b.actions.length)for(a=0;a<b.actions.length;a++){var c=b.actions[a];switch(c.actiontype){case d("UFIConstants").UFIActionType.DELETE_COMMENT:m(c);break}}});h.subscribe("update-comment-lists",function(a,b){a=b.commentlists;b=b.privatecommentlists;a&&a.comments&&n(a.comments,"default");b&&b.comments&&n(b.comments,"friends")});h.subscribe("update-comments",function(a,b){a=b.comments;var c=b.privatecomments;b=b.authorpinnedcomments;a&&a.length&&o(a,"default");c&&c.length&&o(c,"friends");b&&b.length&&o(b,"default")});h.subscribe("update-feedback",function(a,b){var c=b.feedbacktarget?b.feedbacktarget:b.feedbacktargets&&b.feedbacktargets[0];if(c){var d=c.entidentifier;a=c.defaultcommentorderingmode;var e=new Set();a&&e.add(a);c.orderingmodes&&c.orderingmodes.forEach(function(a){if(a.value==="live_streaming")return;e.add(a.value)});b=c.privatecommentcount;e.forEach(function(a){j(d,a,"default").updateCommentCount(c.commentcount)});typeof b==="number"&&j(d,"toplevel","friends").updateCommentCount(b)}});g.getCommentList=j;g.getAllCommentListsForFeedbackTargetID=a;g.getSectionedCommentListsForFeedbackTargetID=k;g.getPagedCommentCountForFeedbackTargetID=b;g.getDisplayedCommentCountForFeedbackTargetID_UNSAFE=e;g.resetCommentListsForFeedbackTargetID=f;g.resetCommentListsWithContext=l}),102);
__d("UFIRange",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){a===void 0&&(a=0),b===void 0&&(b=0),this.offset=a,this.length=b,this.requestedOffset=this.offset,this.requestedLength=this.length}var b=a.prototype;b.getOffset=function(){return this.offset};b.getLength=function(){return this.length};b.getRequestedOffset=function(){return this.requestedOffset};b.getRequestedLength=function(){return this.requestedLength};b.updateRequestedRange=function(a,b){this.requestedOffset=a;this.requestedLength=b;return this};b.isLoadingNext=function(){var a=this.requestedOffset+this.requestedLength,b=this.offset+this.length;return a>b};b.isLoadingPrev=function(){return this.requestedOffset<this.offset};a.combine=function(b,c){if(!c)return b;var d=Math.min(b.getOffset(),c.getOffset());b=Math.max(b.getLength(),c.getLength());var e=new a(d,b);if(c.getRequestedLength()>0){var f=Math.min(d,c.getRequestedOffset());d=Math.max(d+b,c.getRequestedOffset()+c.getRequestedLength());e.updateRequestedRange(f,d-f)}return e};return a}();f["default"]=a}),66);
__d("UFIToplevelStreamedCommentList",["invariant","ClientIDs","LiveVideoUFIConfig","UFICentralUpdates","UFIComments","UFIConstants","UFIRange","UFIThreadedFacecastCommentsStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=function(){function a(a){this.feedbackTargetID=a,this.commentIDs=[],this.deletedCount=0,this.totalCommentCount=0,this.addedCommentCountForUnseenCounter=0}var b=a.prototype;b.getFeedbackTargetID=function(){return this.feedbackTargetID};b.getClientHasAll=function(){return!1};b.getActualCommentCount=function(){return this.commentIDs.length};b.getCommentCount=function(){return this.totalCommentCount};b.getAddedCommentCountForUnseenCounter=function(){return this.addedCommentCountForUnseenCounter};b.getDisplayedCommentCount=function(){return this.getCommentCount()-this.getDeletedCount()};b.getDeletedCount=function(){return this.deletedCount};b.getPermalinkForComment=function(a){return""};b.getComments=function(a,b,d,e){e(this.getCommentsOrThrow(new(c("UFIRange"))(a,b),d))};b.getCommentsOrThrow=function(a,b){a=[a.getLength(),a.getOffset()];var c=a[0];a=a[1];a===0||h(0,2239);a=b.streamingOrderReversed;b={};for(var e=0;e<Math.min(c,this.commentIDs.length);++e){var f=a?this.commentIDs.length-1-e:e;f=d("UFIComments").getComment(this.commentIDs[f]);f&&(b[e]=f)}return b};b.$3=function(){var a=this.commentIDs;this.commentIDs=[];return a};b.hasComment=function(a){for(var b=0;b<this.commentIDs.length;++b)if(this.commentIDs[b]===a.id)return!0;return!1};b.addCommentIDs=function(a,b,c){};b.setClientHasAll=function(a){};b.addOrUpdateComment=function(a,b){b===void 0&&(b=null);var e=a.clientid;if(e&&d("ClientIDs").isExistingClientID(e))for(var f=0;f<this.commentIDs.length;++f)this.commentIDs[f]===e&&(this.commentIDs[f]=a.id);else if(b||a.__typename==="local"){if(this.hasComment(a))return;this.commentIDs.push(a.id);b!=="on_demand"&&!a.isAnnouncement&&!a.tipOptionIndex&&(this.totalCommentCount+=1,a.__typename!=="local"&&(Object.values(c("UFIThreadedFacecastCommentsStore").getState()||{}).map(function(a){return a==null?void 0:a.comment_id}).includes(a.parentcommentid)||(this.addedCommentCountForUnseenCounter+=1)))}f=c("LiveVideoUFIConfig").live_video_scrollable_comments;this.commentIDs.length>f&&this.commentIDs.shift();c("UFICentralUpdates").didUpdateFeedback(this.feedbackTargetID)};b.deleteComment=function(a){this.deletedCount+=1;var b=[];for(var c=0;c<this.commentIDs.length;++c){var e=this.commentIDs[c],f=d("UFIComments").getComment(e);e!==a&&(f==null?void 0:f.parentcommentid)!==a&&b.push(e)}this.commentIDs=b};b.updateCommentCount=function(a){this.totalCommentCount=a,this.deletedCount=0};a.getCommentList=function(b,c){c===void 0&&(c=a.GLOBAL_ID);var d=a.$1.get(b);d||(d=new Map(),a.$1.set(b,d));var e=d.get(c);e||(e=new a(b),d.set(c,e));return e};a.getExistingCommentList=function(b,c){c===void 0&&(c=a.GLOBAL_ID);b=a.$1.get(b);return!b?null:b.get(c)};a.getAllExistingCommentLists=function(b){b=a.$1.get(b);return!b?[]:Array.from(b.values())};a.$4=function(b,c){var d=a.$2.get(b);if(d){c.forEach(function(a){d[a]=!0});return}var e={};c.forEach(function(a){e[a]=!0});a.$2.set(b,e)};a.resetCommentList=function(b,c){c===void 0&&(c=a.GLOBAL_ID);c=a.getExistingCommentList(b,c);if(!c)return;a.$4(b,c.$3())};a.resetAllCommentLists=function(b){var c=a.getAllExistingCommentLists(b);if(c.length===0)return;c.forEach(function(c){a.$4(b,c.$3())});c=a.$2.get(b);c&&(a.$2["delete"](b),d("UFIComments").resetComments(c))};return a}();i.GLOBAL_ID="GLOBAL_ID";i.$1=new Map();i.$2=new Map();c("UFICentralUpdates").subscribe("update-actions",function(a,b){if(!b.actions)return;b.actions.forEach(function(a){if(a.actiontype!==d("UFIConstants").UFIActionType.DELETE_COMMENT)return;var b=d("UFIComments").getComment(a.commentid);if(!b)return;var c=b.id,e=b.ftentidentifier,f=b.parentcommentid;if(f)return;(a.islocal||b.status!==d("UFIConstants").UFIStatus.DELETED&&b.status!==d("UFIConstants").UFIStatus.FAILED_ADD)&&i.getAllExistingCommentLists(e).forEach(function(a){return a.deleteComment(c)})})});c("UFICentralUpdates").subscribe("update-comments",function(a,b){if(!b.comments)return;var c=b.targetufiinstanceid;b.comments.forEach(function(a){c?i.getCommentList(a.ftentidentifier,c).addOrUpdateComment(a,b.streamingstate):i.getAllExistingCommentLists(a.ftentidentifier).forEach(function(c){c.addOrUpdateComment(a,b.streamingstate)})})});g["default"]=i}),102);
__d("XGroupsMuteMembersController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groups/mutemember/",{group_id:{type:"FBID"},user_id:{type:"FBID"},mute_duration:{type:"Enum",enumType:1},source:{type:"Enum",enumType:1},should_reload:{type:"Bool",defaultValue:!1},mute_reason:{type:"FBID"},custom_expiration:{type:"Int"},share_feedback:{type:"Bool",defaultValue:!1},selected_rules:{type:"FBIDVector",defaultValue:[]},admin_notes:{type:"String",defaultValue:""}})}),null);
__d("XTownHallController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/townhall/",{ref:{type:"Enum",enumType:1},notif_id:{type:"Int"},setting_nux:{type:"Bool",defaultValue:!1},hide_nux:{type:"Bool",defaultValue:!1},new_reps:{type:"Int"},tab:{type:"Enum",enumType:1}})}),null);
__d("UFIUserActions",["errorCode","fbt","invariant","ActorURI","AsyncResponse","Bootloader","ChannelClientID","ClientIDs","ImmutableObject","MercuryServerDispatcher","ThisControllerNoLongerExists","UFICentralUpdates","UFICommentVoteUserActions","UFIComments","UFIConstants","UFIFeedbackTargets","UFINewCommentsPillUtils","UFIReactionUserActions","UFIStoryAction","UFIToplevelPagedCommentList","UFIToplevelStreamedCommentList","UFIUserActionUtils","UFIVideoPlayerRegistry","UnicodeBidi","XGroupsMuteMembersController","XTownHallController","goURI","ifRequired"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k,l=Object.freeze({BAN:"ban",UNDO_BAN:"undo_ban"}),m={changeActor:function(a,b){d("UFIFeedbackTargets").getFeedbackTarget(a,function(e){d("UFIToplevelPagedCommentList").resetCommentListsWithContext(a,b);c("UFIToplevelStreamedCommentList").resetAllCommentLists(a);c("UFICentralUpdates").inform("actor-changed",{actorID:b});e=(e={from_actor_id:e.actorforpost,ft_ent_identifier:a},e[d("ActorURI").PARAMETER_ACTOR]=b,e);var f=d("ThisControllerNoLongerExists").__DEADURI__("fig2g2p6b");d("MercuryServerDispatcher").trySend(f,e)})},changeCommentLike:function(a,b,e){var f=d("UFIComments").getComment(a);if(f&&f.__typename==="saved"&&f.hasviewerliked!=b){var g=e.target?d("UFIUserActionUtils").trackingData(e.target):{},h=b?1:-1;h={commentid:a,actiontype:d("UFIConstants").UFIActionType.COMMENT_LIKE,viewerliked:b,likecount:(f.likecount||0)+h};c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[h]});d("UFIFeedbackTargets").getFeedbackTarget(f.ftentidentifier,function(c){var h={};h[d("ActorURI").PARAMETER_ACTOR]=c.actorforpost;c=d("ThisControllerNoLongerExists").__DEADURI__("zpbfi6t0b");d("MercuryServerDispatcher").trySend(c,babelHelpers["extends"]({comment_id:a,legacy_id:f.legacyid,like_action:b,ft_ent_identifier:f.ftentidentifier,source:e.source,client_id:d("ClientIDs").getNewClientID(),session_id:d("ChannelClientID").getID()},g,h))})}},_getAttachment:function(a){return a},_getLocalComment:function(a,b,c,e,f,g){e=d("ClientIDs").getNewClientID();var h=d("UnicodeBidi").isDirectionLTR(c)?"ltr":"rtl",j=m._getAttachment(f.attachedsticker),k=f.replyid,l=null;if(k!=null){k=d("UFIComments").getComment(k);l=k!=null?k.author:null}return{__typename:"local",ftentidentifier:b,body:{text:c,dir:h},author:a.actorforpost,cancomment:!1,clientid:null,fbid:null,id:e,ufiinstanceid:f.ufiinstanceid,likecount:0,hasviewerliked:!1,parentcommentid:f.replyid,parentcommentauthorid:l,replycommentparentid:f.replycommentparentid,attachment:j,photo_comment:f.attachedphoto,video_comment:f.attachedvideo,file_comment:f.attachedfile,timestamp:{time:Math.floor(Date.now()/1e3),text:i._(/*BTDS*/"v\u00e0i gi\u00e2y tr\u01b0\u1edbc")},photoTextTagID:f.photoTextTagID,isPhotoTag:f.isPhotoTag,photoTagX:f.photoTagX,photoTagY:f.photoTagY,privacy_value:f.privacyValue,videoTimeOffset:g,postedLiveState:f.islivestreaming?"Live":"OnDemand",trackingID:f.trackingID,voteEnabled:!1,voteCount:0,voteState:d("UFIConstants").UFICommentVoteType.NONE}},addComment:function(a,b,e,f){d("UFIFeedbackTargets").getFeedbackTarget(a,function(g){var h=m.createComment(a,b,e,f);if(!h)return;var i={actiontype:d("UFIConstants").UFIActionType.SUBSCRIBE_ACTION,actorid:g.actorforpost,hasviewersubscribed:!0,entidentifier:g.entidentifier};g={actiontype:d("UFIConstants").UFIActionType.ADD_COMMENT_ACTION,feedbackfbid:g.targetfbid};var j=[],k=[];(h.privacy_value===2||h.privacy_value===3?k:j).push(h);c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{comments:j,privatecomments:k,actions:[i,g]});if(h.parentcommentid&&(f.islivestreaming||f.isLiveVOD)&&f.ufiinstanceid!=null){j={ftentidentifier:a,instanceid:f.ufiinstanceid};d("UFINewCommentsPillUtils").dispatchNewCommentAction(d("UFIStoryAction").handleNewFacecastReply(j,h.id),j)}})},createComment:function(a,b,e,f){var g=d("UFIFeedbackTargets").getFeedbackTargetIfExists(a);if(!(g&&g.actorforpost))return null;var h=null;if(f.isBroadcasterUFI)h=c("ifRequired")("LiveVideoBroadcastBroadcastStore",function(a){return a.getCurrentBroadcastTime()});else if(f.fluentContentToken&&(f.isLiveVOD||f.islivestreaming||f.enableVODCommentTimestamps)){var i=d("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerTimeForElement(f.target,f.fluentContentToken)||0;if(f.isLiveVOD||f.islivestreaming)h=i;else{var j=d("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerForElement(f.target,f.fluentContentToken);j!=null&&i>0&&i<Math.floor(j.getPlaybackDuration())&&(h=i)}}j=m._getLocalComment(g,a,b,e,f,h);m._sendCommentToServer(a,g.actorforpost,b,e,f,j.id,h);return j},_sendCommentToServer:function(a,b,c,e,f,g,h){c=null;if(f.reply_fbid)c=f.reply_fbid;else if(f.replyid){var i=d("UFIComments").getComment(f.replyid);i||j(0,199);c=i.fbid}var k;i={};f.liveVideoQuickCommentQuality!=null&&(i={live_video_quick_comment_quality:f.liveVideoQuickCommentQuality});var l={};l[d("ActorURI").PARAMETER_ACTOR]=b;b=d("ThisControllerNoLongerExists").__DEADURI__("oo2qk5gny");d("MercuryServerDispatcher").trySend(b,babelHelpers["extends"]({ft_ent_identifier:a,comment_text:e,source:f.source,client_id:g,session_id:d("ChannelClientID").getID(),reply_fbid:c,parent_comment_id:f.parent_comment_id||f.replyid,reply_comment_parent_id:f.replycommentparentid,rootid:f.rootid,clp:k,attached_sticker_fbid:f.attachedsticker?f.attachedsticker.fbid:null,attached_photo_fbid:f.attachedphoto?f.attachedphoto.fbid:null,attached_video_fbid:f.attachedvideo?f.attachedvideo.fbid:null,attached_file_fbid:f.attachedfile?f.attachedfile.fbid:null,attached_share_url:f.attachedshareurl,feedback_referrer:f.feedbackReferrer,feed_context:f.feedcontext,video_time_offset:h,is_live_streaming:f.islivestreaming,is_markdown:f.isMarkdown},d("UFIUserActionUtils").trackingData(f.target),l,{photo_text_tag_id:f.photoTextTagID,is_photo_tag:f.isPhotoTag,photo_fbid:f.photoFBID,photo_tag_x:f.photoTagX,photo_tag_y:f.photoTagY,privacy_value:f.privacyValue,delight_ranges:f.delightRanges},i))},_hasCommentTextChanged:function(a,b){return!!a.body&&a.body.text!=b},_hasCommentPhotoChanged:function(a,b){return!!((a||b)&&!(a&&b)||a&&b&&a.fbid!=b.fbid)},_hasCommentVideoChanged:function(a,b){return!!((a||b)&&!(a&&b)||a&&b&&a.fbid!=b.fbid)},_hasCommentFileChanged:function(a,b){return!!((a||b)&&!(a&&b)||a&&b&&a.fbid!=b.fbid)},_hasCommentStickerChanged:function(a,b){return!!((a||b)&&!(a&&b)||a&&a.type=="sticker"&&b&&a.fbid!=b.fbid)},_hasCommentShareURLChanged:function(a,b){if(b)return!0;else return Boolean(a&&a.type=="share")},editComment:function(a,b,e,f){var g=d("UFIUserActionUtils").trackingData(f.target),h=d("UFIComments").getComment(a);if(!h)return;a=m._hasCommentTextChanged(h,b)||m._hasCommentPhotoChanged(h.photo_comment,f.attachedPhoto)||m._hasCommentStickerChanged(h.attachment,f.attachedSticker)||m._hasCommentVideoChanged(h.video_comment,f.attachedVideo)||m._hasCommentFileChanged(h.file_comment,f.attachedFile)||m._hasCommentShareURLChanged(h.attachment,f.attachedShareURL);h=c("ImmutableObject").set(h,{status:d("UFIConstants").UFIStatus.PENDING_EDIT,body:{text:b},editnux:null,attachment:f.attachedSticker,photo_comment:f.attachedPhoto,video_comment:f.attachedVideo,file_comment:f.attachedFile});a&&(h=c("ImmutableObject").set(h,{originalTimestamp:h.timestamp.time,timestamp:{time:Math.floor(Date.now()/1e3),text:i._(/*BTDS*/"v\u00e0i gi\u00e2y tr\u01b0\u1edbc")}}));c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{comments:[h]});d("UFIFeedbackTargets").getFeedbackTarget(h.ftentidentifier,function(a){var b={};b[d("ActorURI").PARAMETER_ACTOR]=a.actorforpost;a=d("ThisControllerNoLongerExists").__DEADURI__("k2h1bj7qe");h&&d("MercuryServerDispatcher").trySend(a,babelHelpers["extends"]({ft_ent_identifier:h.ftentidentifier,comment_text:e,source:f.source,comment_id:h.id,parent_comment_id:h.parentcommentid,attached_sticker_fbid:f.attachedSticker?f.attachedSticker.fbid:0,attached_photo_fbid:f.attachedPhoto?f.attachedPhoto.fbid:0,attached_video_fbid:f.attachedVideo?f.attachedVideo.fbid:0,attached_file_fbid:f.attachedFile?f.attachedFile.fbid:0,attached_share_url:f.attachedShareURL,is_markdown:f.isMarkdown,delight_ranges:f.delightRanges},g,b))})},translateComments:function(a,b,c,e){var f=d("ThisControllerNoLongerExists").__DEADURI__("nbd8ptnbg");d("MercuryServerDispatcher").trySend(f,{ft_ent_identifier:a,comment_ids:b,source:e.source,trigger:c})},setHideAsSpam:function(a,b,e){var f=d("UFIUserActionUtils").trackingData(e.target),g=d("UFIComments").getComment(a),h={commentid:a,actiontype:d("UFIConstants").UFIActionType.COMMENT_SET_SPAM,shouldHideAsSpam:b};c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[h]});g&&d("UFIFeedbackTargets").getFeedbackTarget(g.ftentidentifier,function(c){var h={};h[d("ActorURI").PARAMETER_ACTOR]=c.actorforpost;c=d("ThisControllerNoLongerExists").__DEADBUILDER__("nq8jdr8bp").getURI();d("MercuryServerDispatcher").trySend(c,babelHelpers["extends"]({comment_id:a,spam_action:b,ft_ent_identifier:g.ftentidentifier,source:e.source},f,h))})},removeComment:function(a,b,e){e=d("UFIComments").getComment(a);a={actiontype:d("UFIConstants").UFIActionType.DELETE_COMMENT,commentid:a,islocal:!0,oneclick:b.oneclick};c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[a]});e&&e.__typename==="saved"&&d("UFIFeedbackTargets").getFeedbackTarget(e.ftentidentifier,function(a){var b={};b[d("ActorURI").PARAMETER_ACTOR]=a.actorforpost})},deleteCommentAndRemoveCommenter:function(a,b,e,f,g,h,i){e=d("UFIComments").getComment(a);f={actiontype:d("UFIConstants").UFIActionType.DELETE_COMMENT_REMOVE_COMMENTER,commentid:a,islocal:!0,oneclick:b.oneclick};c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[f]});e&&e.__typename==="saved"&&d("UFIFeedbackTargets").getFeedbackTarget(e.ftentidentifier,function(a){var b={};b[d("ActorURI").PARAMETER_ACTOR]=a.actorforpost})},muteMember:function(a,b,e,f){b=d("UFIComments").getComment(a);a=e!==null;if(b&&b.__typename==="saved"){a={authorid:b.author,actiontype:d("UFIConstants").UFIActionType.MUTE_MEMBER,shouldmute:a};c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[a]});var g;c("Bootloader").loadModules(["GroupMemberActionSource"],function(a){g=a.GROUP_COMMENT},"UFIUserActions");a=c("XGroupsMuteMembersController").getURIBuilder().getURI();d("MercuryServerDispatcher").trySend(a,{group_id:b.group_id,user_id:b.author,mute_duration:e,custom_expiration:f,should_reload:!1,source:g})}},toggleTextDelights:function(a,b,c){var e=d("ThisControllerNoLongerExists").__DEADURI__("s3xbblpdp");d("MercuryServerDispatcher").trySend(e,{comment_id:a.id,ft_ent_identifier:a.ftentidentifier,should_hide:c,parent_comment_id:a.parentcommentid,source:b.source})},banUser:function(a,b,c,e){e=c?l.BAN:l.UNDO_BAN;d("MercuryServerDispatcher").trySend("/ajax/ufi/ban_user.php",{page_id:b,commenter_id:a.author,action:e,comment_id:a.id,client_side:!0,post_only:!1})},streamBanUser:function(a,b,c,e){e=c?l.BAN:l.UNDO_BAN;d("MercuryServerDispatcher").trySend("/ajax/ufi/ban_user.php",{page_id:b,commenter_id:a.author,action:e,comment_id:a.id,client_side:!0,stream_only:!0})},suspendUser:function(a,b,c,e,f){f=c?l.BAN:l.UNDO_BAN;d("MercuryServerDispatcher").trySend("/ajax/ufi/ban_user.php",{page_id:b,commenter_id:a.author,action:f,comment_id:a.id,suspension_duration_seconds:e,client_side:!0})},changeSubscribe:function(a,b,e){d("UFIFeedbackTargets").getFeedbackTarget(a,function(f){var g=d("UFIUserActionUtils").trackingData(e.target);if(f.hasviewersubscribed!==b){var h={actiontype:d("UFIConstants").UFIActionType.SUBSCRIBE_ACTION,actorid:f.actorforpost,hasviewersubscribed:b,entidentifier:a};c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[h]});h={};h[d("ActorURI").PARAMETER_ACTOR]=f.actorforpost;d("MercuryServerDispatcher").trySend("/ajax/ufi/subscribe.php",babelHelpers["extends"]({subscribe_action:b,ft_ent_identifier:a,source:e.source,client_id:d("ClientIDs").getNewClientID(),rootid:e.rootid,comment_expand_mode:e.commentexpandmode},g,h))}})},changeSubscribeWithLogging:function(a,b){d("UFIFeedbackTargets").getFeedbackTarget(a,function(e){if(e.hasviewersubscribed!==b){e={actiontype:d("UFIConstants").UFIActionType.SUBSCRIBE_ACTION,actorid:e.actorforpost,hasviewersubscribed:b,entidentifier:a};c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[e]});d("MercuryServerDispatcher").trySend("/ajax/litestand/follow_post",{follow:b,message_id:a})}})},fetchSpamComments:function(a,b,c,e){d("MercuryServerDispatcher").trySend("/ajax/ufi/id_comment_fetch.php",{ft_ent_identifier:a,viewas:e,comment_ids:b,parent_comment_id:c,source:null})},manageConstituentBadge:function(a){c("goURI")(c("XTownHallController").getURIBuilder().setBool("setting_nux",!0).getURI())},authorPinComment:function(a,b){d("MercuryServerDispatcher").trySend(p,{comment_id:a.id,ft_ent_identifier:a.ftentidentifier,is_pinned_by_author:b});var e={commentid:a.id,pinnedByAuthor:b,actiontype:"comment_change_author_pin"};a=d("UFIComments").getComment(a.id);if(!a)return;a=c("ImmutableObject").set(a,{ispinnedbyauthor:b});c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{comments:[a],actions:[e]})},removePreview:function(a,b){var e=d("UFIUserActionUtils").trackingData(b.target),f={commentid:a.id,actiontype:d("UFIConstants").UFIActionType.REMOVE_PREVIEW};c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[f]});d("MercuryServerDispatcher").trySend("/ajax/ufi/remove_preview.php",babelHelpers["extends"]({comment_id:a.id,ft_ent_identifier:a.ftentidentifier,source:b.source},e))}};function a(a){c("AsyncResponse").defaultErrorHandler(a)}function b(a){var b=a.request.data;c("AsyncResponse").defaultErrorHandler(a);var e=b.client_id||b.comment_id;e=d("UFIComments").getComment(e);if(!e)return;var f=e.status===d("UFIConstants").UFIStatus.PENDING_EDIT?d("UFIConstants").UFIStatus.FAILED_EDIT:d("UFIConstants").UFIStatus.FAILED_ADD;e=c("ImmutableObject").setDeep(e,{status:f,allowRetry:n(a),body:{mentionstext:b.comment_text,mentionsphoto:e.photo_comment,mentionsvideo:e.video_comment,mentionsfile:e.file_comment}});f=[];a=[];(e.privacy_value===2||e.privacy_value===3?a:f).push(e);c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{comments:f,privatecomments:a})}function n(a){var b=a.getError();if(a.isBlockedAction())return!1;if(a.silentError)return!0;return b===1357012||b===1357006?!1:!0}function e(a){a=a.request.data;a=a.comment_id;a=d("UFIComments").getComment(a);if(!a)return;a=c("ImmutableObject").set(a,{status:a.priorstatus||null,priorstatus:void 0});c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{comments:[a]})}function f(a){var b=a.request.data,e=b.comment_id,f=d("UFIComments").getComment(e);if(f&&b.like_action===f.hasviewerliked){b=f.hasviewerliked?-1:1;e={commentid:e,actiontype:d("UFIConstants").UFIActionType.COMMENT_LIKE,viewerliked:!f.hasviewerliked,likecount:(f.likecount||0)+b};c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[e]})}c("AsyncResponse").defaultErrorHandler(a)}function h(a){var b=a.request.data,e=b.ft_ent_identifier;d("UFIFeedbackTargets").getFeedbackTarget(e,function(a){if(a.hasviewerliked===b.like_action){var f=a.hasviewerliked?-1:1;f={actiontype:d("UFIConstants").UFIActionType.LIKE_ACTION,actorid:a.actorforpost,hasviewerliked:!a.hasviewerliked,likecount:(a.likecount||0)+f,entidentifier:e,likesentences:{current:a.likesentences.alternate,alternate:a.likesentences.current}};c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[f]})}});c("AsyncResponse").defaultErrorHandler(a)}function o(a){var b=a.request.data,e=b.ft_ent_identifier;d("UFIFeedbackTargets").getFeedbackTarget(e,function(a){if(a.hasviewersubscribed===b.subscribe_action){a={actiontype:d("UFIConstants").UFIActionType.SUBSCRIBE_ACTION,actorid:a.actorforpost,hasviewersubscribed:!a.hasviewersubscribed,entidentifier:e};c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[a]})}});c("AsyncResponse").defaultErrorHandler(a)}a={"/ajax/ufi/ban_user.php":{mode:(k=d("MercuryServerDispatcher")).IMMEDIATE,error_handler:a},"/ajax/ufi/subscribe.php":{mode:k.BATCH_CONDITIONAL,error_handler:o,batch_if:s,batch_function:t},"/ajax/ufi/id_comment_fetch.php":{mode:k.IMMEDIATE},"/ajax/ufi/remove_preview.php":{mode:k.IMMEDIATE},"/profile/broadcast_request/async/add_composer_token/":{mode:k.IMMEDIATE},"/ajax/litestand/follow_post":{mode:k.BATCH_CONDITIONAL,error_handler:o,batch_if:s,batch_function:t}};s=(o=d("ThisControllerNoLongerExists")).__DEADURI__("tuen76whe");a[s]={mode:k.IMMEDIATE,error_handler:b};s=o.__DEADURI__("cg8petm7e");a[s]={mode:k.BATCH_CONDITIONAL,error_handler:f,batch_if:q,batch_function:t};s=c("XGroupsMuteMembersController").getURIBuilder().getURI();a[s]={mode:k.IMMEDIATE};f=o.__DEADURI__("cpl08d1cb");a[f]={mode:k.IMMEDIATE};q=o.__DEADBUILDER__("35u5on8ya").getURI();a[q]={mode:k.IMMEDIATE,error_handler:e};s=o.__DEADURI__("co98aqji9");a[s]={mode:k.BATCH_CONDITIONAL,error_handler:h,batch_if:r,batch_function:t};f=o.__DEADURI__("jl9uxu6an");a[f]={mode:k.IMMEDIATE,error_handler:b};q=o.__DEADURI__("pqi03hqc1");a[q]={mode:k.IMMEDIATE};e=o.__DEADURI__("ocmtwze6h");a[e]={mode:k.IMMEDIATE};var p=o.__DEADURI__("yfa5gwrzw");a[p]={mode:k.IMMEDIATE};k.registerEndpoints(a);function q(a,b){return a&&a.ft_ent_identifier==b.ft_ent_identifier&&a.comment_id==b.comment_id}function r(a,b){return a&&a.ft_ent_identifier==b.ft_ent_identifier}function s(a,b){return a&&a.ft_ent_identifier==b.ft_ent_identifier}function t(a,b){return b}s=babelHelpers["extends"]({},m,d("UFIReactionUserActions"),d("UFICommentVoteUserActions"));g["default"]=s}),226);
__d("UFICommentEditIDStore",["FluxReduceStore","UFICentralUpdates","UFIDispatcherBase"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=i(a,"string");return typeof a==="symbol"?a:String(a)}function i(a,b){if(typeof a!=="object"||a===null)return a;var c=a[typeof Symbol==="function"?Symbol.toPrimitive:"@@toPrimitive"];if(c!==void 0){c=c.call(a,b||"default");if(typeof c!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(a)}a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b.reduce=function(a,b){switch(b.type){case"PRIVATE_ACTOR_CHANGED":return{};case"add_comment_cancel":case"story_show_facecast_replies":case"story_hide_facecast_replies":case"add_comment_submit_edit":a[b.instanceID];var c=babelHelpers.objectWithoutPropertiesLoose(a,[b.instanceID].map(h));return c;case"comment_edit":return babelHelpers["extends"]({},a,(c={},c[b.instanceID]=b.comment.id,c))}return a};c("UFICentralUpdates").subscribe("actor-changed",function(a,b){c("UFIDispatcherBase").dispatch({type:"PRIVATE_ACTOR_CHANGED",instanceID:!0,ftentidentifier:!0})});return b}var d=b.prototype;d.getInitialState=function(){return{}};d.getForInstance=function(a){return this.getState()[a]||null};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("UFIDispatcherBase"));g["default"]=b}),98);
__d("UFIRootRegistry",[],(function(a,b,c,d,e,f){"use strict";var g={},h={},i={},j=[];function a(a,b,c,d){g[a]=d,h[c]=[].concat(h[c]||[],[b]),i[b]=c}function b(a){j.push(a)}function c(a){return j.indexOf(a)>=0}function d(a){return h[a]||null}function e(a){return i[a]||null}function k(a){var b=i[a],c=h[b];c&&c.includes(a)&&(h[b]=c.filter(function(b){return b!=a}),h[b].length==0&&delete h[b]);delete i[a]}function l(){j.forEach(function(a){return g[a]&&g[a]()}),g={},j=[]}f.registerController=a;f.registerSnowliftID=b;f.isSnowliftNode=c;f.getInstanceIDFromFTEntIdentifier=d;f.getFTEntIdentifierFromInstanceID=e;f.cleanupInstance=k;f.cleanupSnowliftNodes=l}),66);
__d("UFIVisibility",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({VISIBLE:"visible",HIDDEN:"hidden"});f["default"]=a}),66);
__d("UFICommentVisibilityStore",["invariant","FluxReduceStore","UFIComments","UFIDispatcherBase","UFILivePinnedCommentStore","UFIRootRegistry","UFIVisibility","filterObject"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a,b){b===void 0&&(b=null);return b&&b.comment.fbid?a+"-"+b.comment.fbid+(b.isLivePinnedComment?"-P":"")+(b.isInLiveVideoReplyMode?"-R":""):a}function j(a,b){return a===b||a.startsWith(b+"-")}function k(a){a=d("UFIRootRegistry").getInstanceIDFromFTEntIdentifier(a);return a?a:[]}function l(a){return{instanceid:a}}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),k=0;k<f;k++)g[k]=arguments[k];return(b=e=a.call.apply(a,[this].concat(g))||this,e.reduce=function(a,b){switch(b.type){case"comment_unmounted":var e=babelHelpers["extends"]({},a);delete e[i(b.instanceID,b.renderedComment)];return e;case"comment_change_visibility":return babelHelpers["extends"]({},a,(e={},e[i(b.instanceID,b.renderedComment)]=b.visibility,e));case"story_change_visibility":e=d("UFIRootRegistry").getFTEntIdentifierFromInstanceID(b.instanceID);var f=d("UFIComments").getCommentsForFTEntIdentifier(e);b.type==="story_change_visibility"||h(0,3643);var g=b.visibility;if(f){f=f.reduce(function(a,c){a[i(b.instanceID,c.fbid?{comment:c,isLivePinnedComment:!1,isInLiveVideoReplyMode:!1}:null)]=g;return a},{});if(e){e=c("UFILivePinnedCommentStore").getPinnedCommentID(e);if(e){e=d("UFIComments").getComment(e);e&&e.__typename==="saved"&&(f[i(b.instanceID,{comment:e,isLivePinnedComment:!0,isInLiveVideoReplyMode:!1})]=g)}}return babelHelpers["extends"]({},a,(e={},e[i(b.instanceID)]=b.visibility,e),f)}case"story_remove":var k=b.instanceID,l=i(k);return c("filterObject")(a,function(a,b){return b!==l&&!j(b,k)})}return a},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.getInitialState=function(){return{}};e.getVisibility=function(a,b,d){d===void 0&&(d=null);d=d?i(b.instanceid,d):i(b.instanceid);return Object.prototype.hasOwnProperty.call(a,d)?a[d]:c("UFIVisibility").HIDDEN};e.$UFICommentVisibilityStore$p_1=function(a){a=l(a);return this.getVisibility(this.getState(),a)===c("UFIVisibility").VISIBLE};e.isFeedbackTargetVisible=function(a){var b=this;a=k(a);return a.some(function(a){return b.$UFICommentVisibilityStore$p_1(a)})};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("UFIDispatcherBase"));g["default"]=b}),98);
__d("UFILivePinnedCommentStore",["FluxReduceStore","UFIComments","UFIDispatcherBase","UFIFeedbackTargets","areEqual"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.reduce=function(a,b){var c;switch(b.type){case"story_live_pin_comment":case"story_live_unpin_comment":var d=b.commentID,e=b.pinEventID;return babelHelpers["extends"]({},a,(c={},c[b.ftentidentifier]={commentID:d,pinEventID:e},c));default:return a}},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.getInitialState=function(){return{}};e.areEqual=function(a,b){return(h||(h=c("areEqual")))(a,b)};e.getPinnedCommentID=function(a){var b=this.getState()[a];if(!b){a=d("UFIFeedbackTargets").getFeedbackTargetIfExists(a);return!a?null:a.livepinnedcommentid||null}return b.commentID||null};e.getPinEventID=function(a){a=this.getState()[a];return!a?null:a.pinEventID||null};e.getPinnedCommentAuthorID=function(a){a=this.getPinnedCommentID(a);if(!a)return null;a=d("UFIComments").getComment(a);return a?a.author||null:null};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("UFIDispatcherBase"));g["default"]=b}),98);
__d("UFILocallyComposedCommentStore",["invariant","ClientIDs","FluxReduceStore","UFICentralUpdatesLocalCommentAdapter","UFIDispatcherBase","setByPath"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){return babelHelpers["extends"]({},a)}a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b.reduce=function(a,b){switch(b.type){case"CENTRALUPDATES_ADDED_COMMENT":d("ClientIDs").isExistingClientID(b.clientID)||h(0,3492);a=i(a);c("setByPath")(a,[b.instanceID,b.clientID],!0);return a;case"CENTRALUPDATES_SAVED_COMMENT":d("ClientIDs").isExistingClientID(b.clientID)||h(0,3492);a=i(a);c("setByPath")(a,[b.instanceID,b.commentID],!0);delete a[b.instanceID][b.clientID];return a;case"add_comment_submit_edit":a=i(a);c("setByPath")(a,[b.instanceID,b.comment.id],!0);return a}return a};d("UFICentralUpdatesLocalCommentAdapter").subscribeOnce();return b}var e=b.prototype;e.getInitialState=function(){return{}};e.getStateForInstance=function(a){return a?this.getState()[a]||{}:{}};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("UFIDispatcherBase"));g["default"]=b}),98);
__d("UFISpamStore",["FluxReduceStore","UFIDispatcherBase","UFIUserActions"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.reduce=function(a,b){switch(b.type){case"story_spam_fetched":a=babelHelpers["extends"]({},a);b.commentIDs.forEach(function(b){return a[b]=!0});c("UFIUserActions").fetchSpamComments(b.ftentidentifier,b.commentIDs,b.parentCommentID,b.viewas);break}return a},b)||babelHelpers.assertThisInitialized(d)}var d=b.prototype;d.getInitialState=function(){return{}};d.areEqual=function(a,b){return Object.keys(a).length===Object.keys(b).length};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("UFIDispatcherBase"));g["default"]=b}),98);
__d("UFIUnseenCommentsStore",["FluxReduceStore","UFIComments","UFIConstants","UFIDispatcherBase"],(function(a,b,c,d,e,f,g){"use strict";var h=30;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.reduce=function(a,b){switch(b.type){case"set_comments_scroll_distance":var e=b.instanceID,f=b.scrollDist,g=c.getInstanceState(e);g=babelHelpers["extends"]({},g,{scrollDist:f});c.shouldAddUnseenCommentsForState(g)||(g.unseenComments=0,g.unseenCommentsByThread={});return babelHelpers["extends"]({},a,(f={},f[e]=g,f));case"set_comment_reactions_menu_shown":var h;e=b.instanceID;g=b.commentReactionsMenuShown;f=c.getInstanceState(e);return babelHelpers["extends"]({},a,(h={},h[e]=babelHelpers["extends"]({},f,{commentReactionsMenuShown:g}),h));case"handle_new_comments":e=b.instanceID;f=b.numComments;if(!c.shouldAddUnseenComments(e))return a;g=c.getInstanceState(e);return babelHelpers["extends"]({},a,(h={},h[e]=babelHelpers["extends"]({},g,{unseenComments:g.unseenComments+f}),h));case"handle_new_facecast_reply":e=b.instanceID;g=d("UFIComments").getComment(b.replyCommentID);if(!c.shouldAddUnseenComments(e)||!g)return a;f=c.getInstanceState(e);h=f.unseenCommentsByThread;b=g.parentcommentid;if(b)h[b]=h[b]||0,h[b]++;else return a;return babelHelpers["extends"]({},a,(g={},g[e]=babelHelpers["extends"]({},f,{unseenCommentsByThread:h}),g));default:return a}},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.getInitialState=function(){return{}};c.getInstanceState=function(a){a=this.getState()[a];return a||{commentsReactionMenuShown:!1,scrollDist:0,unseenComments:0,unseenCommentsByThread:{}}};c.getCommentReactionsMenuShown=function(a){return this.getInstanceState(a).commentReactionsMenuShown};c.getScrolledUp=function(a){return this.getScrollDist(a)>d("UFIConstants").maxScrollDistanceForAutoScroll};c.getScrollDist=function(a){return this.getInstanceState(a).scrollDist};c.getUnseenComments=function(a){return this.getInstanceState(a).unseenComments};c.getUnseenCommentsByThread=function(a){return this.getInstanceState(a).unseenCommentsByThread};c.getUnseenCommentsInThread=function(a,b){a=this.getUnseenCommentsByThread(a);return a[b]||0};c.shouldAddUnseenComments=function(a){return this.shouldAddUnseenCommentsForState(this.getInstanceState(a))};c.shouldAddUnseenCommentsForState=function(a){return a.scrollDist>d("UFIConstants").maxScrollDistanceForAutoScroll||a.commentReactionsMenuShown&&a.scrollDist>=h};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("UFIDispatcherBase"));g["default"]=b}),98);
__d("UFINewCommentsPillUtils",["UFISharedDispatcher","UFIStoryAction","UFIUnseenCommentsStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=a?a.length:0,d=b?b.length:0;if(!c&&!d)return 0;var e,f=0;if(a)for(c=c-1;c>=0;c--){var g=a[c];if(g.__typename==="saved"){e=g.id;break}f++}g=0;c=!1;if(b)for(a=d-1;a>=0;a--){d=b[a];if(d.id===e){c=!0;break}g++}d=g-f;if(!e||c)return d;else return 0}function b(a,b){b=b.target;b instanceof HTMLElement&&h(b,a)}function h(a,b){a=a.scrollHeight-a.offsetHeight-a.scrollTop;c("UFISharedDispatcher").dispatch(d("UFIStoryAction").setCommentsScrollDistance(b,a))}function e(a,b){if(a&&b){var c=a.scrollHeight-a.offsetHeight;b=b.Animation;new b(a).to("scrollTop",c).ease(b.ease.end).duration(Math.min(400,Math.max(200,(c-a.scrollTop)/1.5))).ondone(function(){a.scrollTop=a.scrollHeight-a.offsetHeight}).go()}}function f(a,b){a.type==="handle_new_facecast_reply"&&c("UFISharedDispatcher").dispatch(d("UFIStoryAction").addFacecastReply(b,a.replyCommentID));b=b.instanceid;!c("UFIUnseenCommentsStore").getScrolledUp(b)&&c("UFIUnseenCommentsStore").getCommentReactionsMenuShown(b)?setTimeout(function(){c("UFISharedDispatcher").dispatch(a)},0):c("UFISharedDispatcher").dispatch(a)}g.findNumNewComments=a;g.handleScroll=b;g.updateScrolledUp=h;g.scrollToBottom=e;g.dispatchNewCommentAction=f}),98);
__d("UFICommentAttachment.react",["cx","BootloadedComponent.react","CSS","DOM","DOMQuery","GamesVideoFanSupportAttachmentHandler","HTML","Image.react","JSResource","Link.react","LitestandShareAttachment","Random","ReactDOM_DEPRECATED","SubscriptionsHandler","UFILocallyComposedCommentStore","XUISpinner.react","react","stringRefShim"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=55;a="ufi_comment_photo";var l=80,m="ufi_comment_sticker";b=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b.state={localCommentIDs:c("UFILocallyComposedCommentStore").getStateForInstance(b.props.comment.ufiinstanceid),randomInstanceID:Math.floor(d("Random").random()*1e4)};return b}var e=b.prototype;e.$2=function(a){return a.photo_comment||a.video_comment||a.file_comment||a.attachment};e.$3=function(a,b){var c=this.props.allowCustomStickers?k:l,d,e,f;b>a?(f=c/b,d=a*f,e=b*f):(f=c/a,d=a*f,e=b*f);return{height:Math.round(d),width:Math.round(e)}};e.componentDidMount=function(){var a=this,b=this.$2(this.props.comment);b&&this.renderAttachment(b);this.$1=new(c("SubscriptionsHandler"))();this.$1.addSubscriptions(c("UFILocallyComposedCommentStore").addListener(function(){a.setState({localCommentIDs:c("UFILocallyComposedCommentStore").getStateForInstance(a.props.comment.ufiinstanceid)})}))};e.shouldComponentUpdate=function(a,b){b=this.$2(this.props.comment);a=this.$2(a.comment);if(!b&&!a)return!1;if(!b||!a||b.markup!=a.markup)return!0;else return!1};e.componentDidUpdate=function(a){a=this.$2(this.props.comment);if(!a)return;a.type!=="sticker"&&a.type!=="photo"&&this.renderAttachment(a)};e.componentWillUnmount=function(){if(this.refs&&this.refs.contents){var a=d("ReactDOM_DEPRECATED").findDOMNode_DEPRECATED(this.refs.contents);c("DOM").empty(a)}this.$1&&this.$1.release()};e.renderAttachment=function(a){if(a&&this.refs&&this.refs.contents&&a.markup){var b=a.markup;c("HTML").isHTML(b.markup)&&(b=c("HTML").replaceJSONWrapper(b.markup).getRootNode());var e=b.parentNode,f=d("ReactDOM_DEPRECATED").findDOMNode_DEPRECATED(this.refs.contents);e&&e!==f&&(b=b.cloneNode(!0));if(this.props.disableTheater){e=b.querySelector('a[rel="theater"]');e&&c("DOM").setAttributes(e,{target:"_blank",rel:""})}c("DOM").setContent(f,b);if(a.type=="share"){e="_6m2";e=f&&d("CSS").hasClass(f,e)?f:d("DOMQuery").scry(f,"."+e)[0];e=e?e:f;e instanceof HTMLElement&&d("LitestandShareAttachment").init(e)}else a.type==="TIP_JAR_PAYMENT"&&d("GamesVideoFanSupportAttachmentHandler").registerFanSupportAttachment(b)}};e.renderSticker=function(a){var b=this.$3(Number(a.metadata.height),Number(a.metadata.width)),d=null,e=null;window.devicePixelRatio&&window.devicePixelRatio>1?(d=a.metadata.sprite_uri_2x,e=a.metadata.source_uri_2x):(d=a.metadata.sprite_uri,e=a.metadata.source_uri);return j.jsx(c("BootloadedComponent.react"),{accessibilityLabel:a.metadata.accessibilityLabel,bootloadPlaceholder:j.jsx(c("XUISpinner.react"),{}),bootloadLoader:c("JSResource")("Sticker.react").__setRef("UFICommentAttachment.react"),className:"UFICommentStickerAttachment",animationTrigger:"load_and_hover",frameCount:a.metadata.frameCount,frameRate:a.metadata.frameRate,framesPerCol:a.metadata.framesPerCol,framesPerRow:a.metadata.framesPerRow,spriteURI:d,sourceHeight:b.height,sourceURI:e,sourceWidth:b.width,testID:m})};e.renderPhoto=function(a){var b="_2rn3 _4-eo";return j.jsx("div",{className:"_4iv9",children:j.jsx(c("Link.react"),{className:b,"data-testid":void 0,rel:"theater",href:a.metadata.url,children:j.jsx("div",{style:{height:a.metadata.height},children:j.jsx(c("Image.react"),{src:a.metadata.preview_uri})})})})};e.renderShare=function(a){return j.jsx(c("BootloadedComponent.react"),{bootloadPlaceholder:j.jsx("span",{}),bootloadLoader:c("JSResource")("UFILiveCommentLinkPreview.react").__setRef("UFICommentAttachment.react"),attachment:a})};e.renderLivePlaceInfo=function(a){return j.jsx(c("BootloadedComponent.react"),{bootloadPlaceholder:j.jsx("span",{}),bootloadLoader:c("JSResource")("PlaceListLiveCommentAttachment.react").__setRef("UFICommentAttachment.react"),commentID:this.props.comment.fbid,data:a,postID:this.props.comment.ftentidentifier})};e.renderPlaceInfo=function(a){var b=this.props.comment.__typename==="local"||this.state.localCommentIDs[this.props.comment.id];return j.jsx(c("BootloadedComponent.react"),babelHelpers["extends"]({bootloadPlaceholder:j.jsx(c("XUISpinner.react"),{}),bootloadLoader:c("JSResource")("MultiPlacePageInfoCard.react").__setRef("UFICommentAttachment.react"),isLocallyComposed:b,postID:this.props.comment.ftentidentifier,actorID:this.props.comment.author},a.props))};e.renderUpsellInfo=function(a){return j.jsx("span",{})};e.$4=function(a){return a+"_comment_attachment_"+this.props.comment.id+this.state.randomInstanceID};e.render=function(){var a=this.$2(this.props.comment);if(a)if(a.type==="sticker")return this.renderSticker(a);else if(a.type==="gif"||a.type==="donation"||a.type==="TIP_JAR_PAYMENT"||a.type==="chat_command_result"||a.type==="marketplace_ecomm_product_item")return j.jsx("div",{ref:c("stringRefShim")(this,"contents"),id:this.$4(a.type),children:j.jsx(c("XUISpinner.react"),{})});else if(a.type==="photo")return this.renderPhoto(a);else if(a.type==="live_share")return this.renderShare(a);else if(a.type=="comment_place_info")return this.renderPlaceInfo(a);else if(a.type=="live_comment_place_info")return this.renderLivePlaceInfo(a);else if(a.type=="upsell_info")return this.renderUpsellInfo(a);else return j.jsx("div",{ref:c("stringRefShim")(this,"contents")});return j.jsx("span",{})};return b}(j.Component);g["default"]=b}),98);
__d("CommentsPluginComment.react",["cx","fbt","ix","ActorBio.react","Badge.react","CenteredContainer.react","CommentsPluginActions","CommentsPluginCommentActions.react","CommentsPluginComposerEdit.react","CommentsPluginComposerReply.react","CommentsPluginMenu.react","CommentsPluginProfilePicture.react","CommentsPluginStore","CommentsPluginUFIActor.react","Image.react","Link.react","TruncatedTextWithEntities.react","UFI2CommentUtils","UFICommentAttachment.react","UFIImageBlock.react","XUIGrayText.react","XUISpinner.react","XUIText.react","joinClasses","linkifyEntityRange","nullthrows","react","stringRefShim"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k,l=k||d("react"),m=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=d=b.call.apply(b,[this].concat(f))||this,d.state={showMenu:!1},d.$1=function(){d.setState({showMenu:!0})},d.$2=function(){(!d.refs.menu||!d.refs.menu.isOpen())&&d.setState({showMenu:!1})},d.$3=function(){var a=c("nullthrows")(c("CommentsPluginStore").getByID(d.props.commentID));a.collapsed?c("CommentsPluginActions").toggleVisibility(d.props.commentID):a.flagged&&c("CommentsPluginActions").unflag(d.props.commentID)},a)||babelHelpers.assertThisInitialized(d)}var e=a.prototype;e.render=function(){var a=c("nullthrows")(c("CommentsPluginStore").getByID(this.props.commentID));if(a.deleted)return null;if(a.editor)return l.jsxs("div",{className:"_3-8y",children:[l.jsx(c("CommentsPluginComposerEdit.react"),{commentID:this.props.commentID}),l.jsx(n,{commentID:this.props.commentID,className:"_3j_p"})]});var b=d("UFI2CommentUtils").shallowCopyRanges(a.ranges),e=d("UFI2CommentUtils").getCommentTextWithTruncatedURIs(b,a.body.text),f=null;a.collapsed||a.flagged?f=l.jsx("div",{className:"_5mlf",children:l.jsxs(c("XUIGrayText.react"),{shade:"light",children:[a.collapsed?i._(/*BTDS*/"B\u00ecnh lu\u1eadn n\u00e0y \u0111\u00e3 thu g\u1ecdn."):i._(/*BTDS*/"B\u00ecnh lu\u1eadn n\u00e0y b\u1ecb \u0111\u00e1nh d\u1ea5u l\u00e0 spam.")," ",l.jsx(c("Link.react"),{onClick:this.$3,children:i._(/*BTDS*/"Ho\u00e0n t\u00e1c")})]})}):(a.photoComment&&(a.photo_comment=a.photoComment,delete a.photoComment),f=l.jsxs("div",{className:"_30o4",children:[e?l.jsx(c("TruncatedTextWithEntities.react"),babelHelpers["extends"]({className:"_5mdd",text:e,ranges:b,interpolator:c("linkifyEntityRange")},c("CommentsPluginStore").getCommentBodyTruncationLimits(),{renderEmoticons:!0,renderEmoji:!0})):null,l.jsx(c("UFICommentAttachment.react"),{comment:a,disableTheater:!0})]}));e=c("nullthrows")(c("CommentsPluginStore").getByID(a.authorID));b=c("CommentsPluginStore").isOptimisticComment(a);var g=c("CommentsPluginStore").isReply(this.props.commentID),h=c("CommentsPluginStore").isMobile();return l.jsxs(c("UFIImageBlock.react"),{className:"_3-8y"+(g?"":" _5nz1"),spacing:"medium",onMouseEnter:this.$1,onMouseLeave:this.$2,children:[l.jsx(c("CommentsPluginProfilePicture.react"),{href:e.uri,src:e.thumbSrc,isReply:g,target:"_blank"}),l.jsxs("div",{children:[l.jsxs(c("CommentsPluginUFIActor.react"),{author:e,delimiter:h?" ":void 0,showHovercard:!1,target:"_blank",children:[e.isVerified?l.jsx(c("Badge.react"),{size:"xsmall",type:"verified"},"badge"):null,e.bio?l.jsx("div",{className:"_4q1v",children:l.jsx(c("ActorBio.react"),{target:"_blank",preferredTypes:e.bio.preferredTypes,stats:e.bio.stats})}):null]},"author"),l.jsx("div",{className:"_3-8m",children:f}),b||a.collapsed||a.flagged?null:l.jsx(c("CommentsPluginCommentActions.react"),{commentID:this.props.commentID}),l.jsx(n,{commentID:this.props.commentID})]}),l.jsx("div",{children:this.state.showMenu&&!b&&!h?l.jsx(c("CommentsPluginMenu.react"),{ref:c("stringRefShim")(this,"menu"),commentID:this.props.commentID}):null})]})};return a}(l.Component),n=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=d=b.call.apply(b,[this].concat(f))||this,d.state={loading:!1},d.$1=function(){d.setState({loading:!0}),c("CommentsPluginStore").addListener("moreRepliesCompleted",function(a){d.props.commentID===a.commentID&&(d.setState({loading:!1}),c("CommentsPluginStore").removeCurrentListener())}),c("CommentsPluginActions").showMoreReplies(d.props.commentID)},a)||babelHelpers.assertThisInitialized(d)}var d=a.prototype;d.render=function(){var a=this,b=c("CommentsPluginStore").getByID(this.props.commentID),d=b.public_replies;if(d===void 0||b.collapsed===!0||b.flagged)return b.composer?l.jsx("div",{className:c("joinClasses")("_44ri _2pis _3-8y",this.props.className),children:l.jsx(c("CommentsPluginComposerReply.react"),{commentID:this.props.commentID})}):null;d.commentIDs||(d.commentIDs=[]);var e=d.totalCount-d.commentIDs.length,f=c("CommentsPluginStore").getPageSize();f=e<f?e:f;return l.jsxs("div",{className:c("joinClasses")("_44ri _2pis",this.props.className),children:[d.commentIDs.map(function(b){return b===a.props.commentID?null:l.jsx(m,{commentID:b},b)}),c("CommentsPluginStore").hasUnloadedReplies(this.props.commentID)&&e>0?l.jsx("div",{className:"_5yct _3-8y _3-96 _2ph-",children:this.state.loading?l.jsx(c("CenteredContainer.react"),{children:l.jsx(c("XUISpinner.react"),{size:"small"})}):l.jsxs(c("Link.react"),{onClick:this.$1,children:[l.jsx(c("XUIText.react"),{size:"body3",weight:"bold",children:f===1?i._(/*BTDS*/"Hi\u1ec3n th\u1ecb th\u00eam 1 ph\u1ea3n h\u1ed3i trong cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0y"):i._(/*BTDS*/"Hi\u1ec3n th\u1ecb th\u00eam {number of replies} ph\u1ea3n h\u1ed3i trong cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0y",[i._param("number of replies",f)])}),l.jsx(c("Image.react"),{className:"_2pir",align:"top",src:j("512929")})]})}):null,b.composer?l.jsx("div",{className:"_3-8y",children:l.jsx(c("CommentsPluginComposerReply.react"),{commentID:this.props.commentID})}):null]})};return a}(l.Component);g["default"]=m}),226);
__d("CommentsPluginLoadMore.react",["cx","fbt","CenteredContainer.react","CommentsPluginActions","CommentsPluginStore","XUIButton.react","XUISpinner.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d){var e;e=a.call(this,b,d)||this;e.$1=function(){c("CommentsPluginActions").showMoreComments(),e.setState({loading:!0}),c("CommentsPluginStore").addListener("moreCommentsCompleted",function(){e.setState({loading:!1}),c("CommentsPluginStore").removeCurrentListener()})};e.state={loading:!1};return e}var d=b.prototype;d.render=function(){var a=c("CommentsPluginStore").getUnloadedCommentsCount();if(!c("CommentsPluginStore").hasUnloadedComments()||a<1)return null;if(this.state.loading)return k.jsx(c("CenteredContainer.react"),{className:"_ndl",children:k.jsx(c("XUISpinner.react"),{size:"large"})});var b=c("CommentsPluginStore").getPageSize();a=a<b?a:b;return k.jsx("div",{className:"_5o4h",children:k.jsx(c("XUIButton.react"),{className:"_1gl3",role:"button",onClick:this.$1,label:a===1?i._(/*BTDS*/"T\u1ea3i th\u00eam 1 b\u00ecnh lu\u1eadn"):i._(/*BTDS*/"T\u1ea3i th\u00eam {pagesize} b\u00ecnh lu\u1eadn",[i._param("pagesize",a)])})})};return b}(k.Component);g["default"]=a}),226);
__d("CommentsPluginListing.react",["cx","CommentsPluginComment.react","CommentsPluginLoadMore.react","CommentsPluginStore","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){var a=c("CommentsPluginStore").getCommentIDs();a=a.map(function(a){return j.jsx(c("CommentsPluginComment.react"),{commentID:a},a)});return j.jsxs("div",{className:"_4k-6",children:[a,j.jsx(c("CommentsPluginLoadMore.react"),{})]})};return b}(j.Component);g["default"]=a}),98);
__d("CommentsPluginNotice.react",["fbt","CommentsPluginStore","XUINotice.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){return c("CommentsPluginStore").isThreadClosed()?j.jsx(c("XUINotice.react"),{use:"notify",children:h._(/*BTDS*/"Cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0y \u0111\u00e3 \u0111\u00f3ng")}):c("CommentsPluginStore").shouldSwitchAccount()?j.jsx(c("XUINotice.react"),{use:"notify",children:h._(/*BTDS*/"Vui l\u00f2ng chuy\u1ec3n sang t\u00e0i kho\u1ea3n c\u00e1 nh\u00e2n \u0111\u1ec3 \u0111\u0103ng b\u00ecnh lu\u1eadn.")}):null};return b}(j.Component);g["default"]=a}),226);
__d("CommentsPluginSentryAction",[],(function(a,b,c,d,e,f){a=Object.freeze({CONFIRM_POST_TO_PROFILE:"confirm_post_to_profile"});f["default"]=a}),66);
__d("XPluginCommentsConfirmPostToFacebookAsyncDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/comments/{comment_id}/async/confirm/publish/dialog/",{comment_id:{type:"String",required:!0},iframe_referer:{type:"String"},privacy_option:{type:"String",required:!0}})}),null);
__d("CommentsPlugin.react",["cx","fbt","ActorURI","CommentsPluginActions","CommentsPluginComposerComment.react","CommentsPluginFooter.react","CommentsPluginHeader.react","CommentsPluginListing.react","CommentsPluginNotice.react","CommentsPluginSentryAction","CommentsPluginStore","DOMQuery","PluginResize","PopupWindow","ReactDOM_DEPRECATED","SimpleXUIDialog","XPluginCommentsConfirmPostToFacebookAsyncDialogController","XUIDialogOkayButton.react","cancelAnimationFramePolyfill","getElementPosition","joinClasses","react","requestAnimationFramePolyfill"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");a.requestAnimationFrame=b("requestAnimationFramePolyfill");a.cancelAnimationFrame=b("cancelAnimationFramePolyfill");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.UNSAFE_componentWillMount=function(){b("CommentsPluginStore").init(this.props.comments,this.props.meta,this.props.initialOrdering,this.props.rankingAllowed),b("CommentsPluginStore").addListener("postError",function(a){b("SimpleXUIDialog").show(a.errorSummary||h._(/*BTDS*/"R\u1ea5t ti\u1ebfc, \u0111\u00e3 x\u1ea3y ra l\u1ed7i. Vui l\u00f2ng th\u1eed l\u1ea1i sau."),null,null,{width:b("CommentsPluginStore").getDialogWidth()})}),b("CommentsPluginStore").addListener("sentryAction",function(a,c){switch(a){case b("CommentsPluginSentryAction").CONFIRM_POST_TO_PROFILE:var d=b("ActorURI").create(b("XPluginCommentsConfirmPostToFacebookAsyncDialogController").getURIBuilder().setString("comment_id",c).setString("iframe_referer",b("CommentsPluginStore").getIframeReferer()).setString("privacy_option",b("CommentsPluginStore").getPrivacyOption()).getURI(),b("CommentsPluginStore").getUser().id),e=b("SimpleXUIDialog").showEx(h._(/*BTDS*/"Please confirm that you want to post this comment to Facebook."),h._(/*BTDS*/"X\u00e1c nh\u1eadn"),j.jsx(b("XUIDialogOkayButton.react"),{action:"cancel",use:"confirm",onClick:function(){b("PopupWindow").open(d,400,550),e.hide()}}));break;default:break}})};d.componentDidMount=function(){var a=this,c=b("ReactDOM_DEPRECATED").findDOMNode_DEPRECATED(this);b("PluginResize").autoHeight(null,c);new(b("PluginResize"))(function(){},function(){var a=c.offsetHeight,d=b("DOMQuery").scry(document.body,".uiLayer:not(.hidden_elem) .uiContextualLayer"),e=b("DOMQuery").scry(document.body,".captcha_dialog");if(d.length===0&&e.length===0)return a;d=d.length>0?b("getElementPosition")(d[0]):null;e=e.length>0?b("getElementPosition")(e[0]):null;return Math.max(a,d?d.y+d.height+1:0,e?e.height:0)},"resize.iframe",!1).resize().auto();b("CommentsPluginStore").addListener("change",function(){a.forceUpdate()});b("CommentsPluginStore").isOptinReturn()&&b("CommentsPluginActions").restorePreviousState()};d.$1=function(){return b("CommentsPluginStore").isThreadClosed()||b("CommentsPluginStore").shouldSwitchAccount()};d.render=function(){return j.jsx("div",{className:b("joinClasses")("_56q9",this.props.className),children:j.jsxs("div",{className:"_2pi8",children:[j.jsx(b("CommentsPluginHeader.react"),{}),this.$1()?j.jsx(b("CommentsPluginNotice.react"),{}):b("CommentsPluginStore").isDeeplinkComment()?null:j.jsx(b("CommentsPluginComposerComment.react"),{}),j.jsx(b("CommentsPluginListing.react"),{}),j.jsx(b("CommentsPluginFooter.react"),{})]})})};return c}(j.Component);e.exports=c}),130);
__d("DocumentCompositeMentionsSource",["invariant","createCancelableFunction","emptyFunction","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var c=a.getCharacterList().toSeq().slice(0,b).reverse().takeWhile(function(a){return a.getEntity()===null}).count();return a.getText().slice(b-c,b)}a=function(){function a(a){a.length>0||g(0,1514),this.$1=a,this.$2=!1,this.$3=null}var c=a.prototype;c.bootstrap=function(a){if(this.$2)return;this.$2=!0;a=a||b("emptyFunction");var c=this.$1.length;function d(){c--,c||a&&a()}this.$1.forEach(function(a){a.bootstrap(d)})};c.search=function(a,c,d){var e=c.getAnchorKey();a=a.getBlockForKey(e);var f=b("createCancelableFunction")(d);this.$4(h(a,c.getAnchorOffset()),f);return{remove:function(){f.cancel()}}};c.searchText=function(a,c){var d=b("createCancelableFunction")(c);this.$4(a,d);return{remove:function(){d.cancel()}}};c.$4=function(a,c){var d=this,e=this.$1.length,f,g;for(var h=0;h<e;h++){f=this.$1[h];g=f.findMatch(a);if(g===null)continue;else{var i=b("nullthrows")(g).matchingString;this.$3=i;f.search(i,function(a,b){d.$3===b&&c(a,g.leadOffset)});return}}this.$3=null;c(null,null)};c.getSources=function(){return this.$1};return a}();e.exports=a}),null);
__d("DocumentMentionsSource",["invariant"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){typeof a.findMentionableString==="function"||g(0,558),this.$1=a,this.$2=b,this.$3=!1}var b=a.prototype;b.findMatch=function(a){return this.$1.findMentionableString(a)};b.bootstrap=function(a){this.$3||(this.$3=!0,this.$2.bootstrap(a))};b.search=function(a,b){this.$2.search(a,b,{strategyName:this.$1.name,disableExistingIDs:!0})};return a}();f["default"]=a}),66);
__d("FilteredSearchSource",["AbstractSearchSource"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.$FilteredSearchSource$p_1=b;d.$FilteredSearchSource$p_2=c;return d}var c=b.prototype;c.bootstrapImpl=function(a){this.$FilteredSearchSource$p_2.bootstrap(a)};c.searchImpl=function(a,b,c){var d=this,e=function(a,c){a=d.$FilteredSearchSource$p_3(a,c),b(a,c)};this.$FilteredSearchSource$p_2.search(a,e,c)};c.$FilteredSearchSource$p_3=function(a,b){var c=this.$FilteredSearchSource$p_1;return a.filter(function(a){return c(a,b)})};return b}(c("AbstractSearchSource"));g["default"]=a}),98);
__d("WebAsyncSearchSourceUtils",[],(function(a,b,c,d,e,f){function a(a,b){a=a.getPayload();var c;Array.isArray(a)?c=a:a&&a.entries?c=a.entries:c=[];typeof c==="object"&&!Array.isArray(c)&&(c=Object.keys(c).map(function(a){return c[a]}));return c.map(b,this)}f.normalizeResponse=a}),66);
__d("WebAsyncSearchSource",["AbstractAsyncSearchSource","AbstractSearchSource","AsyncRequest","WebAsyncSearchSourceUtils"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;e=a.call(this)||this;e.$WebAsyncSearchSource$p_1=new(c("AbstractAsyncSearchSource"))(b,e.$WebAsyncSearchSource$p_2,d("WebAsyncSearchSourceUtils").normalizeResponse);return e}var e=b.prototype;e.bootstrapImpl=function(a){this.$WebAsyncSearchSource$p_1.bootstrap(a)};e.searchImpl=function(a,b,c){this.$WebAsyncSearchSource$p_1.search(a,b,c)};e.getBootstrappedEntries=function(a){return this.$WebAsyncSearchSource$p_1.getBootstrappedEntries(a)};e.getAllEntriesMap=function(){return this.$WebAsyncSearchSource$p_1.getAllEntriesMap()};e.setRequestData=function(a){this.$WebAsyncSearchSource$p_1.setRequestData(a)};e.getRequestData=function(){return this.$WebAsyncSearchSource$p_1.getRequestData()};e.reset=function(){this.$WebAsyncSearchSource$p_1.getCallbackManager().reset()};e.getCallbackManager=function(){return this.$WebAsyncSearchSource$p_1.getCallbackManager()};e.$WebAsyncSearchSource$p_2=function(a,b,d,e){new(c("AsyncRequest"))(b.uri).setData(babelHelpers["extends"]({},a,b.data)).setMethod("POST").setAllowCrossPageTransition(!0).setHandler(d).setErrorHandler(e).send()};return b}(c("AbstractSearchSource"));g["default"]=a}),98);
__d("filterCapitalizedNames",["CurrentUser","TokenizeUtil"],(function(a,b,c,d,e,f,g){function a(a,b,d){d===void 0&&(d="");var e=a.getAuxiliaryData()||h;if(e.disableAutosuggest)return!1;if(a.getType()==="user")if(c("CurrentUser").isWorkUser())return b.length>=3&&a.getTitle().startsWith(d+b)||b==c("TokenizeUtil").tokenize(a.getTitle())[0];else return b.length>=5||c("TokenizeUtil").isExactMatch(b,a.getTitle());else if(a.getType()==="page")return e.connectedPage&&(b.length>=5||c("TokenizeUtil").isExactMatch(b,a.getTitle()));else return!1}var h={};g["default"]=a}),98);